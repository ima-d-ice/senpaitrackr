var OT=r=>{throw TypeError(r)};var d0=(r,e,t)=>e.has(r)||OT("Cannot "+t);var $=(r,e,t)=>(d0(r,e,"read from private field"),t?t.call(r):e.get(r)),Ye=(r,e,t)=>e.has(r)?OT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Me=(r,e,t,s)=>(d0(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t),It=(r,e,t)=>(d0(r,e,"access private method"),t);var nv=(r,e,t,s)=>({set _(l){Me(r,e,l,t)},get _(){return $(r,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=t(l);fetch(l.href,h)}})();var rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},g0={exports:{}},up={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function ZR(){if(DT)return up;DT=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var y in l)y!=="key"&&(h[y]=l[y])}else h=l;return l=h.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:h}}return up.Fragment=e,up.jsx=t,up.jsxs=t,up}var NT;function JR(){return NT||(NT=1,g0.exports=ZR()),g0.exports}var B=JR(),p0={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT;function eI(){if(MT)return rt;MT=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.iterator;function x(P){return P===null||typeof P!="object"?null:(P=R&&P[R]||P["@@iterator"],typeof P=="function"?P:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,X={};function H(P,ue,Se){this.props=P,this.context=ue,this.refs=X,this.updater=Se||L}H.prototype.isReactComponent={},H.prototype.setState=function(P,ue){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ue,"setState")},H.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ne(){}ne.prototype=H.prototype;function ce(P,ue,Se){this.props=P,this.context=ue,this.refs=X,this.updater=Se||L}var se=ce.prototype=new ne;se.constructor=ce,z(se,H.prototype),se.isPureReactComponent=!0;var Ee=Array.isArray,we={H:null,A:null,T:null,S:null,V:null},Ie=Object.prototype.hasOwnProperty;function j(P,ue,Se,be,Ve,Ze){return Se=Ze.ref,{$$typeof:r,type:P,key:ue,ref:Se!==void 0?Se:null,props:Ze}}function N(P,ue){return j(P.type,ue,void 0,void 0,void 0,P.props)}function M(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function F(P){var ue={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Se){return ue[Se]})}var Q=/\/+/g;function K(P,ue){return typeof P=="object"&&P!==null&&P.key!=null?F(""+P.key):ue.toString(36)}function U(){}function fn(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(U,U):(P.status="pending",P.then(function(ue){P.status==="pending"&&(P.status="fulfilled",P.value=ue)},function(ue){P.status==="pending"&&(P.status="rejected",P.reason=ue)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Xt(P,ue,Se,be,Ve){var Ze=typeof P;(Ze==="undefined"||Ze==="boolean")&&(P=null);var He=!1;if(P===null)He=!0;else switch(Ze){case"bigint":case"string":case"number":He=!0;break;case"object":switch(P.$$typeof){case r:case e:He=!0;break;case A:return He=P._init,Xt(He(P._payload),ue,Se,be,Ve)}}if(He)return Ve=Ve(P),He=be===""?"."+K(P,0):be,Ee(Ve)?(Se="",He!=null&&(Se=He.replace(Q,"$&/")+"/"),Xt(Ve,ue,Se,"",function(vr){return vr})):Ve!=null&&(M(Ve)&&(Ve=N(Ve,Se+(Ve.key==null||P&&P.key===Ve.key?"":(""+Ve.key).replace(Q,"$&/")+"/")+He)),ue.push(Ve)),1;He=0;var Mn=be===""?".":be+":";if(Ee(P))for(var Nt=0;Nt<P.length;Nt++)be=P[Nt],Ze=Mn+K(be,Nt),He+=Xt(be,ue,Se,Ze,Ve);else if(Nt=x(P),typeof Nt=="function")for(P=Nt.call(P),Nt=0;!(be=P.next()).done;)be=be.value,Ze=Mn+K(be,Nt++),He+=Xt(be,ue,Se,Ze,Ve);else if(Ze==="object"){if(typeof P.then=="function")return Xt(fn(P),ue,Se,be,Ve);throw ue=String(P),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return He}function fe(P,ue,Se){if(P==null)return P;var be=[],Ve=0;return Xt(P,be,"","",function(Ze){return ue.call(Se,Ze,Ve++)}),be}function Re(P){if(P._status===-1){var ue=P._result;ue=ue(),ue.then(function(Se){(P._status===0||P._status===-1)&&(P._status=1,P._result=Se)},function(Se){(P._status===0||P._status===-1)&&(P._status=2,P._result=Se)}),P._status===-1&&(P._status=0,P._result=ue)}if(P._status===1)return P._result.default;throw P._result}var Ne=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Tt(){}return rt.Children={map:fe,forEach:function(P,ue,Se){fe(P,function(){ue.apply(this,arguments)},Se)},count:function(P){var ue=0;return fe(P,function(){ue++}),ue},toArray:function(P){return fe(P,function(ue){return ue})||[]},only:function(P){if(!M(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},rt.Component=H,rt.Fragment=t,rt.Profiler=l,rt.PureComponent=ce,rt.StrictMode=s,rt.Suspense=v,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=we,rt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return we.H.useMemoCache(P)}},rt.cache=function(P){return function(){return P.apply(null,arguments)}},rt.cloneElement=function(P,ue,Se){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var be=z({},P.props),Ve=P.key,Ze=void 0;if(ue!=null)for(He in ue.ref!==void 0&&(Ze=void 0),ue.key!==void 0&&(Ve=""+ue.key),ue)!Ie.call(ue,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&ue.ref===void 0||(be[He]=ue[He]);var He=arguments.length-2;if(He===1)be.children=Se;else if(1<He){for(var Mn=Array(He),Nt=0;Nt<He;Nt++)Mn[Nt]=arguments[Nt+2];be.children=Mn}return j(P.type,Ve,void 0,void 0,Ze,be)},rt.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:h,_context:P},P},rt.createElement=function(P,ue,Se){var be,Ve={},Ze=null;if(ue!=null)for(be in ue.key!==void 0&&(Ze=""+ue.key),ue)Ie.call(ue,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Ve[be]=ue[be]);var He=arguments.length-2;if(He===1)Ve.children=Se;else if(1<He){for(var Mn=Array(He),Nt=0;Nt<He;Nt++)Mn[Nt]=arguments[Nt+2];Ve.children=Mn}if(P&&P.defaultProps)for(be in He=P.defaultProps,He)Ve[be]===void 0&&(Ve[be]=He[be]);return j(P,Ze,void 0,void 0,null,Ve)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(P){return{$$typeof:y,render:P}},rt.isValidElement=M,rt.lazy=function(P){return{$$typeof:A,_payload:{_status:-1,_result:P},_init:Re}},rt.memo=function(P,ue){return{$$typeof:_,type:P,compare:ue===void 0?null:ue}},rt.startTransition=function(P){var ue=we.T,Se={};we.T=Se;try{var be=P(),Ve=we.S;Ve!==null&&Ve(Se,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(Tt,Ne)}catch(Ze){Ne(Ze)}finally{we.T=ue}},rt.unstable_useCacheRefresh=function(){return we.H.useCacheRefresh()},rt.use=function(P){return we.H.use(P)},rt.useActionState=function(P,ue,Se){return we.H.useActionState(P,ue,Se)},rt.useCallback=function(P,ue){return we.H.useCallback(P,ue)},rt.useContext=function(P){return we.H.useContext(P)},rt.useDebugValue=function(){},rt.useDeferredValue=function(P,ue){return we.H.useDeferredValue(P,ue)},rt.useEffect=function(P,ue,Se){var be=we.H;if(typeof Se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return be.useEffect(P,ue)},rt.useId=function(){return we.H.useId()},rt.useImperativeHandle=function(P,ue,Se){return we.H.useImperativeHandle(P,ue,Se)},rt.useInsertionEffect=function(P,ue){return we.H.useInsertionEffect(P,ue)},rt.useLayoutEffect=function(P,ue){return we.H.useLayoutEffect(P,ue)},rt.useMemo=function(P,ue){return we.H.useMemo(P,ue)},rt.useOptimistic=function(P,ue){return we.H.useOptimistic(P,ue)},rt.useReducer=function(P,ue,Se){return we.H.useReducer(P,ue,Se)},rt.useRef=function(P){return we.H.useRef(P)},rt.useState=function(P){return we.H.useState(P)},rt.useSyncExternalStore=function(P,ue,Se){return we.H.useSyncExternalStore(P,ue,Se)},rt.useTransition=function(){return we.H.useTransition()},rt.version="19.1.0",rt}var PT;function SE(){return PT||(PT=1,p0.exports=eI()),p0.exports}var ee=SE(),m0={exports:{}},cp={},y0={exports:{}},v0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function tI(){return LT||(LT=1,function(r){function e(fe,Re){var Ne=fe.length;fe.push(Re);e:for(;0<Ne;){var Tt=Ne-1>>>1,P=fe[Tt];if(0<l(P,Re))fe[Tt]=Re,fe[Ne]=P,Ne=Tt;else break e}}function t(fe){return fe.length===0?null:fe[0]}function s(fe){if(fe.length===0)return null;var Re=fe[0],Ne=fe.pop();if(Ne!==Re){fe[0]=Ne;e:for(var Tt=0,P=fe.length,ue=P>>>1;Tt<ue;){var Se=2*(Tt+1)-1,be=fe[Se],Ve=Se+1,Ze=fe[Ve];if(0>l(be,Ne))Ve<P&&0>l(Ze,be)?(fe[Tt]=Ze,fe[Ve]=Ne,Tt=Ve):(fe[Tt]=be,fe[Se]=Ne,Tt=Se);else if(Ve<P&&0>l(Ze,Ne))fe[Tt]=Ze,fe[Ve]=Ne,Tt=Ve;else break e}}return Re}function l(fe,Re){var Ne=fe.sortIndex-Re.sortIndex;return Ne!==0?Ne:fe.id-Re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,R=null,x=3,L=!1,z=!1,X=!1,H=!1,ne=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Ee(fe){for(var Re=t(_);Re!==null;){if(Re.callback===null)s(_);else if(Re.startTime<=fe)s(_),Re.sortIndex=Re.expirationTime,e(v,Re);else break;Re=t(_)}}function we(fe){if(X=!1,Ee(fe),!z)if(t(v)!==null)z=!0,Ie||(Ie=!0,K());else{var Re=t(_);Re!==null&&Xt(we,Re.startTime-fe)}}var Ie=!1,j=-1,N=5,M=-1;function F(){return H?!0:!(r.unstable_now()-M<N)}function Q(){if(H=!1,Ie){var fe=r.unstable_now();M=fe;var Re=!0;try{e:{z=!1,X&&(X=!1,ce(j),j=-1),L=!0;var Ne=x;try{t:{for(Ee(fe),R=t(v);R!==null&&!(R.expirationTime>fe&&F());){var Tt=R.callback;if(typeof Tt=="function"){R.callback=null,x=R.priorityLevel;var P=Tt(R.expirationTime<=fe);if(fe=r.unstable_now(),typeof P=="function"){R.callback=P,Ee(fe),Re=!0;break t}R===t(v)&&s(v),Ee(fe)}else s(v);R=t(v)}if(R!==null)Re=!0;else{var ue=t(_);ue!==null&&Xt(we,ue.startTime-fe),Re=!1}}break e}finally{R=null,x=Ne,L=!1}Re=void 0}}finally{Re?K():Ie=!1}}}var K;if(typeof se=="function")K=function(){se(Q)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,fn=U.port2;U.port1.onmessage=Q,K=function(){fn.postMessage(null)}}else K=function(){ne(Q,0)};function Xt(fe,Re){j=ne(function(){fe(r.unstable_now())},Re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(fe){fe.callback=null},r.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<fe?Math.floor(1e3/fe):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(fe){switch(x){case 1:case 2:case 3:var Re=3;break;default:Re=x}var Ne=x;x=Re;try{return fe()}finally{x=Ne}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(fe,Re){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var Ne=x;x=fe;try{return Re()}finally{x=Ne}},r.unstable_scheduleCallback=function(fe,Re,Ne){var Tt=r.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?Tt+Ne:Tt):Ne=Tt,fe){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Ne+P,fe={id:A++,callback:Re,priorityLevel:fe,startTime:Ne,expirationTime:P,sortIndex:-1},Ne>Tt?(fe.sortIndex=Ne,e(_,fe),t(v)===null&&fe===t(_)&&(X?(ce(j),j=-1):X=!0,Xt(we,Ne-Tt))):(fe.sortIndex=P,e(v,fe),z||L||(z=!0,Ie||(Ie=!0,K()))),fe},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(fe){var Re=x;return function(){var Ne=x;x=Re;try{return fe.apply(this,arguments)}finally{x=Ne}}}}(v0)),v0}var kT;function nI(){return kT||(kT=1,y0.exports=tI()),y0.exports}var _0={exports:{}},Lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT;function rI(){if(VT)return Lr;VT=1;var r=SE();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,_,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Lr.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Lr.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Lr.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Lr.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Lr.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,R=y(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,L=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:x,fetchPriority:L}):A==="script"&&s.d.X(v,{crossOrigin:R,integrity:x,fetchPriority:L,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Lr.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Lr.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,R=y(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Lr.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Lr.requestFormReset=function(v){s.d.r(v)},Lr.unstable_batchedUpdates=function(v,_){return v(_)},Lr.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Lr.useFormStatus=function(){return d.H.useHostTransitionStatus()},Lr.version="19.1.0",Lr}var UT;function iI(){if(UT)return _0.exports;UT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_0.exports=rI(),_0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function sI(){if(BT)return cp;BT=1;var r=nI(),e=SE(),t=iI();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function y(n){if(h(n)!==n)throw Error(s(188))}function v(n){var i=n.alternate;if(!i){if(i=h(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,c=i;;){var g=a.return;if(g===null)break;var m=g.alternate;if(m===null){if(c=g.return,c!==null){a=c;continue}break}if(g.child===m.child){for(m=g.child;m;){if(m===a)return y(g),n;if(m===c)return y(g),i;m=m.sibling}throw Error(s(188))}if(a.return!==c.return)a=g,c=m;else{for(var b=!1,C=g.child;C;){if(C===a){b=!0,a=g,c=m;break}if(C===c){b=!0,c=g,a=m;break}C=C.sibling}if(!b){for(C=m.child;C;){if(C===a){b=!0,a=m,c=g;break}if(C===c){b=!0,c=m,a=g;break}C=C.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function _(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=_(n),i!==null)return i;n=n.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),ce=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function K(n){return n===null||typeof n!="object"?null:(n=Q&&n[Q]||n["@@iterator"],typeof n=="function"?n:null)}var U=Symbol.for("react.client.reference");function fn(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===U?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case z:return"Fragment";case H:return"Profiler";case X:return"StrictMode";case we:return"Suspense";case Ie:return"SuspenseList";case M:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case L:return"Portal";case se:return(n.displayName||"Context")+".Provider";case ce:return(n._context.displayName||"Context")+".Consumer";case Ee:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case j:return i=n.displayName||null,i!==null?i:fn(n.type)||"Memo";case N:i=n._payload,n=n._init;try{return fn(n(i))}catch{}}return null}var Xt=Array.isArray,fe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},Tt=[],P=-1;function ue(n){return{current:n}}function Se(n){0>P||(n.current=Tt[P],Tt[P]=null,P--)}function be(n,i){P++,Tt[P]=n.current,n.current=i}var Ve=ue(null),Ze=ue(null),He=ue(null),Mn=ue(null);function Nt(n,i){switch(be(He,i),be(Ze,n),be(Ve,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?rn(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=rn(i),n=sn(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Se(Ve),be(Ve,n)}function vr(){Se(Ve),Se(Ze),Se(He)}function ia(n){n.memoizedState!==null&&be(Mn,n);var i=Ve.current,a=sn(i,n.type);i!==a&&(be(Ze,n),be(Ve,a))}function ni(n){Ze.current===n&&(Se(Ve),Se(Ze)),Mn.current===n&&(Se(Mn),Wl._currentValue=Ne)}var zi=Object.prototype.hasOwnProperty,sa=r.unstable_scheduleCallback,Qn=r.unstable_cancelCallback,ps=r.unstable_shouldYield,xh=r.unstable_requestPaint,vn=r.unstable_now,Oh=r.unstable_getCurrentPriorityLevel,Iu=r.unstable_ImmediatePriority,ji=r.unstable_UserBlockingPriority,Kn=r.unstable_NormalPriority,no=r.unstable_LowPriority,ms=r.unstable_IdlePriority,Cu=r.log,aa=r.unstable_setDisableYieldValue,an=null,wt=null;function Pn(n){if(typeof Cu=="function"&&aa(n),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(an,n)}catch{}}var Ln=Math.clz32?Math.clz32:ys,rl=Math.log,xu=Math.LN2;function ys(n){return n>>>=0,n===0?32:31-(rl(n)/xu|0)|0}var vs=256,_s=4194304;function Fr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function oa(n,i,a){var c=n.pendingLanes;if(c===0)return 0;var g=0,m=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var C=c&134217727;return C!==0?(c=C&~m,c!==0?g=Fr(c):(b&=C,b!==0?g=Fr(b):a||(a=C&~n,a!==0&&(g=Fr(a))))):(C=c&~m,C!==0?g=Fr(C):b!==0?g=Fr(b):a||(a=c&~n,a!==0&&(g=Fr(a)))),g===0?0:i!==0&&i!==g&&(i&m)===0&&(m=g&-g,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:g}function Es(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ou(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var n=vs;return vs<<=1,(vs&4194048)===0&&(vs=256),n}function Nu(){var n=_s;return _s<<=1,(_s&62914560)===0&&(_s=4194304),n}function Fi(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Hi(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Mu(n,i,a,c,g,m){var b=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var C=n.entanglements,V=n.expirationTimes,re=n.hiddenUpdates;for(a=b&~a;0<a;){var de=31-Ln(a),me=1<<de;C[de]=0,V[de]=-1;var ae=re[de];if(ae!==null)for(re[de]=null,de=0;de<ae.length;de++){var ie=ae[de];ie!==null&&(ie.lane&=-536870913)}a&=~me}c!==0&&qi(n,c,0),m!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=m&~(b&~i))}function qi(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-Ln(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|a&4194090}function Pu(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-Ln(a),g=1<<c;g&i|n[c]&i&&(n[c]|=i),a&=~g}}function la(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ro(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ua(){var n=Re.p;return n!==0?n:(n=window.event,n===void 0?32:Xy(n.type))}function Dh(n,i){var a=Re.p;try{return Re.p=n,i()}finally{Re.p=a}}var Jt=Math.random().toString(36).slice(2),dn="__reactFiber$"+Jt,_n="__reactProps$"+Jt,_r="__reactContainer$"+Jt,Lu="__reactEvents$"+Jt,zd="__reactListeners$"+Jt,ca="__reactHandles$"+Jt,Nh="__reactResources$"+Jt,io="__reactMarker$"+Jt;function ha(n){delete n[dn],delete n[_n],delete n[Lu],delete n[zd],delete n[ca]}function Ts(n){var i=n[dn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[_r]||a[dn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Uy(n);n!==null;){if(a=n[dn])return a;n=Uy(n)}return i}n=a,a=n.parentNode}return null}function Gi(n){if(n=n[dn]||n[_r]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function bi(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function ar(n){var i=n[Nh];return i||(i=n[Nh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gn(n){n[io]=!0}var ku=new Set,il={};function Ai(n,i){ws(n,i),ws(n+"Capture",i)}function ws(n,i){for(il[n]=i,n=0;n<i.length;n++)ku.add(i[n])}var so=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mh={},Qi={};function Ph(n){return zi.call(Qi,n)?!0:zi.call(Mh,n)?!1:so.test(n)?Qi[n]=!0:(Mh[n]=!0,!1)}function fa(n,i,a){if(Ph(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Ki(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function kn(n,i,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+c)}}var da,Vu;function bs(n){if(da===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);da=i&&i[1]||"",Vu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+n+Vu}var sl=!1;function al(n,i){if(!n||sl)return"";sl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ie){var ae=ie}Reflect.construct(n,[],me)}else{try{me.call()}catch(ie){ae=ie}n.call(me.prototype)}}else{try{throw Error()}catch(ie){ae=ie}(me=n())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ie){if(ie&&ae&&typeof ie.stack=="string")return[ie.stack,ae.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],C=m[1];if(b&&C){var V=b.split(`
`),re=C.split(`
`);for(g=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;g<re.length&&!re[g].includes("DetermineComponentFrameRoot");)g++;if(c===V.length||g===re.length)for(c=V.length-1,g=re.length-1;1<=c&&0<=g&&V[c]!==re[g];)g--;for(;1<=c&&0<=g;c--,g--)if(V[c]!==re[g]){if(c!==1||g!==1)do if(c--,g--,0>g||V[c]!==re[g]){var de=`
`+V[c].replace(" at new "," at ");return n.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",n.displayName)),de}while(1<=c&&0<=g);break}}}finally{sl=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?bs(a):""}function Uu(n){switch(n.tag){case 26:case 27:case 5:return bs(n.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 15:return al(n.type,!1);case 11:return al(n.type.render,!1);case 1:return al(n.type,!0);case 31:return bs("Activity");default:return""}}function ao(n){try{var i="";do i+=Uu(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ol(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Bu(n){var i=ol(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(b){c=""+b,m.call(this,b)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ll(n){n._valueTracker||(n._valueTracker=Bu(n))}function ul(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=ol(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function $i(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Lh=/[\n"\\]/g;function En(n){return n.replace(Lh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Er(n,i,a,c,g,m,b,C){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),i!=null?b==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Jn(i)):n.value!==""+Jn(i)&&(n.value=""+Jn(i)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),i!=null?Yi(n,b,Jn(i)):a!=null?Yi(n,b,Jn(a)):c!=null&&n.removeAttribute("value"),g==null&&m!=null&&(n.defaultChecked=!!m),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Jn(C):n.removeAttribute("name")}function ga(n,i,a,c,g,m,b,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+Jn(a):"",i=i!=null?""+Jn(i):a,C||i===n.value||(n.value=i),n.defaultValue=i}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=C?n.checked:!!c,n.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function Yi(n,i,a){i==="number"&&$i(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function As(n,i,a,c){if(n=n.options,i){i={};for(var g=0;g<a.length;g++)i["$"+a[g]]=!0;for(a=0;a<n.length;a++)g=i.hasOwnProperty("$"+n[a].value),n[a].selected!==g&&(n[a].selected=g),g&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Jn(a),i=null,g=0;g<n.length;g++){if(n[g].value===a){n[g].selected=!0,c&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function kt(n,i,a){if(i!=null&&(i=""+Jn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Jn(a):""}function Ss(n,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(s(92));if(Xt(c)){if(1<c.length)throw Error(s(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=Jn(i),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c)}function Tr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var ri=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zu(n,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,a):typeof a!="number"||a===0||ri.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function cl(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var g in i)c=i[g],i.hasOwnProperty(g)&&a[g]!==c&&zu(n,g,c)}else for(var m in i)i.hasOwnProperty(m)&&zu(n,m,i[m])}function ju(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(n){return Vh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Xi=null;function ii(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Rs=null,Is=null;function hl(n){var i=Gi(n);if(i&&(n=i.stateNode)){var a=n[_n]||null;e:switch(n=i.stateNode,i.type){case"input":if(Er(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+En(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var g=c[_n]||null;if(!g)throw Error(s(90));Er(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===n.form&&ul(c)}break e;case"textarea":kt(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&As(n,!!a.multiple,i,!1)}}}var Wi=!1;function Uh(n,i,a){if(Wi)return n(i,a);Wi=!0;try{var c=n(i);return c}finally{if(Wi=!1,(Rs!==null||Is!==null)&&(Lf(),Rs&&(i=Rs,n=Is,Is=Rs=null,hl(i),n)))for(i=0;i<n.length;i++)hl(n[i])}}function lo(n,i){var a=n.stateNode;if(a===null)return null;var c=a[_n]||null;if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(Si)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){wr=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{wr=!1}var Zi=null,pa=null,Cs=null;function Fu(){if(Cs)return Cs;var n,i=pa,a=i.length,c,g="value"in Zi?Zi.value:Zi.textContent,m=g.length;for(n=0;n<a&&i[n]===g[n];n++);var b=a-n;for(c=1;c<=b&&i[a-c]===g[m-c];c++);return Cs=g.slice(n,1<c?1-c:void 0)}function yt(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function dt(){return!0}function Hu(){return!1}function Vn(n){function i(a,c,g,m,b){this._reactName=a,this._targetInst=g,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?dt:Hu,this.isPropagationStopped=Hu,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=dt)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=dt)},persist:function(){},isPersistent:dt}),i}var Mt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Vn(Mt),co=A({},Mt,{view:0,detail:0}),Bh=Vn(co),ho,dl,$t,xs=A({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$t&&($t&&n.type==="mousemove"?(ho=n.screenX-$t.screenX,dl=n.screenY-$t.screenY):dl=ho=0,$t=n),ho)},movementY:function(n){return"movementY"in n?n.movementY:dl}}),Un=Vn(xs),qu=A({},xs,{dataTransfer:0}),Gu=Vn(qu),Bn=A({},co,{relatedTarget:0}),fo=Vn(Bn),gl=A({},Mt,{animationName:0,elapsedTime:0,pseudoElement:0}),go=Vn(gl),Qu=A({},Mt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),po=Vn(Qu),zh=A({},Mt,{data:0}),$n=Vn(zh),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},or={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=jh[n])?!!i[n]:!1}function br(){return pl}var yo=A({},co,{key:function(n){if(n.key){var i=mo[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=yt(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?or[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(n){return n.type==="keypress"?yt(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yt(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ma=Vn(yo),qt=A({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),si=Vn(qt),Ri=A({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),Fh=Vn(Ri),ml=A({},Mt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hh=Vn(ml),qh=A({},xs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),yl=Vn(qh),er=A({},Mt,{newState:0,oldState:0}),vo=Vn(er),Os=[9,13,27,32],Ji=Si&&"CompositionEvent"in window,f=null;Si&&"documentMode"in document&&(f=document.documentMode);var E=Si&&"TextEvent"in window&&!f,w=Si&&(!Ji||f&&8<f&&11>=f),O=" ",J=!1;function le(n,i){switch(n){case"keyup":return Os.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ct=!1;function An(n,i){switch(n){case"compositionend":return Ae(i);case"keypress":return i.which!==32?null:(J=!0,O);case"textInput":return n=i.data,n===O&&J?null:n;default:return null}}function gt(n,i){if(ct)return n==="compositionend"||!Ji&&le(n,i)?(n=Fu(),Cs=pa=Zi=null,ct=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return w&&i.locale!=="ko"?null:i.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Pt[n.type]:i==="textarea"}function Hr(n,i,a,c){Rs?Is?Is.push(c):Is=[c]:Rs=c,i=Ff(i,"onChange"),0<i.length&&(a=new fl("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var zn=null,Ii=null;function Ku(n){Oy(n,0)}function Gh(n){var i=bi(n);if(ul(i))return n}function nm(n,i){if(n==="change")return i}var rm=!1;if(Si){var jd;if(Si){var ya="oninput"in document;if(!ya){var im=document.createElement("div");im.setAttribute("oninput","return;"),ya=typeof im.oninput=="function"}jd=ya}else jd=!1;rm=jd&&(!document.documentMode||9<document.documentMode)}function sm(){zn&&(zn.detachEvent("onpropertychange",Qh),Ii=zn=null)}function Qh(n){if(n.propertyName==="value"&&Gh(Ii)){var i=[];Hr(i,Ii,n,ii(n)),Uh(Ku,i)}}function am(n,i,a){n==="focusin"?(sm(),zn=i,Ii=a,zn.attachEvent("onpropertychange",Qh)):n==="focusout"&&sm()}function va(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Gh(Ii)}function Kh(n,i){if(n==="click")return Gh(i)}function __(n,i){if(n==="input"||n==="change")return Gh(i)}function E_(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var qr=typeof Object.is=="function"?Object.is:E_;function es(n,i){if(qr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var g=a[c];if(!zi.call(i,g)||!qr(n[g],i[g]))return!1}return!0}function ai(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Fd(n,i){var a=ai(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ai(a)}}function om(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?om(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function lm(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=$i(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=$i(n.document)}return i}function Hd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var T_=Si&&"documentMode"in document&&11>=document.documentMode,vl=null,_a=null,Y=null,he=!1;function oe(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;he||vl==null||vl!==$i(c)||(c=vl,"selectionStart"in c&&Hd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Y&&es(Y,c)||(Y=c,c=Ff(_a,"onSelect"),0<c.length&&(i=new fl("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=vl)))}function Ce(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var qe={animationend:Ce("Animation","AnimationEnd"),animationiteration:Ce("Animation","AnimationIteration"),animationstart:Ce("Animation","AnimationStart"),transitionrun:Ce("Transition","TransitionRun"),transitionstart:Ce("Transition","TransitionStart"),transitioncancel:Ce("Transition","TransitionCancel"),transitionend:Ce("Transition","TransitionEnd")},bt={},Tn={};Si&&(Tn=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);function At(n){if(bt[n])return bt[n];if(!qe[n])return n;var i=qe[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Tn)return bt[n]=i[a];return n}var $h=At("animationend"),um=At("animationiteration"),Gr=At("animationstart"),Yh=At("transitionrun"),w_=At("transitionstart"),_l=At("transitioncancel"),$u=At("transitionend"),Yu=new Map,Ot="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ot.push("scrollEnd");function Ci(n,i){Yu.set(n,i),Ai(i,[n])}var qd=new WeakMap;function lr(n,i){if(typeof n=="object"&&n!==null){var a=qd.get(n);return a!==void 0?a:(i={value:n,source:i,stack:ao(i)},qd.set(n,i),i)}return{value:n,source:i,stack:ao(i)}}var oi=[],El=0,Gd=0;function _o(){for(var n=El,i=Gd=El=0;i<n;){var a=oi[i];oi[i++]=null;var c=oi[i];oi[i++]=null;var g=oi[i];oi[i++]=null;var m=oi[i];if(oi[i++]=null,c!==null&&g!==null){var b=c.pending;b===null?g.next=g:(g.next=b.next,b.next=g),c.pending=g}m!==0&&Xu(a,g,m)}}function xi(n,i,a,c){oi[El++]=n,oi[El++]=i,oi[El++]=a,oi[El++]=c,Gd|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Tl(n,i,a,c){return xi(n,i,a,c),Wu(n)}function Eo(n,i){return xi(n,null,null,i),Wu(n)}function Xu(n,i,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var g=!1,m=n.return;m!==null;)m.childLanes|=a,c=m.alternate,c!==null&&(c.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(g=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,g&&i!==null&&(g=31-Ln(a),n=m.hiddenUpdates,c=n[g],c===null?n[g]=[i]:c.push(i),i.lane=a|536870912),m):null}function Wu(n){if(50<Hl)throw Hl=0,Bg=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var To={};function Xh(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(n,i,a,c){return new Xh(n,i,a,c)}function wo(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ur(n,i){var a=n.alternate;return a===null?(a=Ar(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Zu(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Wh(n,i,a,c,g,m){var b=0;if(c=n,typeof n=="function")wo(n)&&(b=1);else if(typeof n=="string")b=J_(n,a,Ve.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case M:return n=Ar(31,a,i,g),n.elementType=M,n.lanes=m,n;case z:return bo(a.children,g,m,i);case X:b=8,g|=24;break;case H:return n=Ar(12,a,i,g|2),n.elementType=H,n.lanes=m,n;case we:return n=Ar(13,a,i,g),n.elementType=we,n.lanes=m,n;case Ie:return n=Ar(19,a,i,g),n.elementType=Ie,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ne:case se:b=10;break e;case ce:b=9;break e;case Ee:b=11;break e;case j:b=14;break e;case N:b=16,c=null;break e}b=29,a=Error(s(130,n===null?"null":typeof n,"")),c=null}return i=Ar(b,a,i,g),i.elementType=n,i.type=c,i.lanes=m,i}function bo(n,i,a,c){return n=Ar(7,n,c,i),n.lanes=a,n}function Qd(n,i,a){return n=Ar(6,n,null,i),n.lanes=a,n}function wl(n,i,a){return i=Ar(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ds=[],Ea=0,Zh=null,Ju=0,li=[],ui=0,Wt=null,en=1,Ns="";function Ao(n,i){Ds[Ea++]=Ju,Ds[Ea++]=Zh,Zh=n,Ju=i}function Kd(n,i,a){li[ui++]=en,li[ui++]=Ns,li[ui++]=Wt,Wt=n;var c=en;n=Ns;var g=32-Ln(c)-1;c&=~(1<<g),a+=1;var m=32-Ln(i)+g;if(30<m){var b=g-g%5;m=(c&(1<<b)-1).toString(32),c>>=b,g-=b,en=1<<32-Ln(i)+g|a<<g|c,Ns=m+n}else en=1<<m|a<<g|c,Ns=n}function $d(n){n.return!==null&&(Ao(n,1),Kd(n,1,0))}function ec(n){for(;n===Zh;)Zh=Ds[--Ea],Ds[Ea]=null,Ju=Ds[--Ea],Ds[Ea]=null;for(;n===Wt;)Wt=li[--ui],li[ui]=null,Ns=li[--ui],li[ui]=null,en=li[--ui],li[ui]=null}var Sn=null,tn=null,ht=!1,Oi=null,Sr=!1,bl=Error(s(519));function ci(n){var i=Error(s(418,""));throw Ta(lr(i,n)),bl}function cm(n){var i=n.stateNode,a=n.type,c=n.memoizedProps;switch(i[dn]=n,i[_n]=c,a){case"dialog":lt("cancel",i),lt("close",i);break;case"iframe":case"object":case"embed":lt("load",i);break;case"video":case"audio":for(a=0;a<Fc.length;a++)lt(Fc[a],i);break;case"source":lt("error",i);break;case"img":case"image":case"link":lt("error",i),lt("load",i);break;case"details":lt("toggle",i);break;case"input":lt("invalid",i),ga(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ll(i);break;case"select":lt("invalid",i);break;case"textarea":lt("invalid",i),Ss(i,c.value,c.defaultValue,c.children),ll(i)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||My(i.textContent,a)?(c.popover!=null&&(lt("beforetoggle",i),lt("toggle",i)),c.onScroll!=null&&lt("scroll",i),c.onScrollEnd!=null&&lt("scrollend",i),c.onClick!=null&&(i.onclick=Hf),i=!0):i=!1,i||ci(n)}function hm(n){for(Sn=n.return;Sn;)switch(Sn.tag){case 5:case 13:Sr=!1;return;case 27:case 3:Sr=!0;return;default:Sn=Sn.return}}function tc(n){if(n!==Sn)return!1;if(!ht)return hm(n),ht=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Gf(n.type,n.memoizedProps)),a=!a),a&&tn&&ci(n),hm(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){tn=ki(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}tn=null}}else i===27?(i=tn,mi(n.type)?(n=Jg,Jg=null,tn=n):tn=i):tn=Sn?ki(n.stateNode.nextSibling):null;return!0}function nc(){tn=Sn=null,ht=!1}function fm(){var n=Oi;return n!==null&&(Mr===null?Mr=n:Mr.push.apply(Mr,n),Oi=null),n}function Ta(n){Oi===null?Oi=[n]:Oi.push(n)}var So=ue(null),wa=null,I=null;function Qr(n,i,a){be(So,i._currentValue),i._currentValue=a}function hi(n){n._currentValue=So.current,Se(So)}function Rr(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function it(n,i,a,c){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var m=g.dependencies;if(m!==null){var b=g.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=g;for(var V=0;V<i.length;V++)if(C.context===i[V]){m.lanes|=a,C=m.alternate,C!==null&&(C.lanes|=a),Rr(m.return,a,n),c||(b=null);break e}m=C.next}}else if(g.tag===18){if(b=g.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Rr(b,a,n),b=null}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===n){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}}function rc(n,i,a,c){n=null;for(var g=i,m=!1;g!==null;){if(!m){if((g.flags&524288)!==0)m=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var b=g.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var C=g.type;qr(g.pendingProps.value,b.value)||(n!==null?n.push(C):n=[C])}}else if(g===Mn.current){if(b=g.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Wl):n=[Wl])}g=g.return}n!==null&&it(i,n,a,c),i.flags|=262144}function Jh(n){for(n=n.firstContext;n!==null;){if(!qr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ro(n){wa=n,I=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function on(n){return dm(wa,n)}function ef(n,i){return wa===null&&Ro(n),dm(n,i)}function dm(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},I===null){if(n===null)throw Error(s(308));I=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else I=I.next=i;return a}var b_=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},A_=r.unstable_scheduleCallback,S_=r.unstable_NormalPriority,Gt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yd(){return{controller:new b_,data:new Map,refCount:0}}function ic(n){n.refCount--,n.refCount===0&&A_(S_,function(){n.controller.abort()})}var sc=null,Xd=0,Al=0,Ir=null;function R_(n,i){if(sc===null){var a=sc=[];Xd=0,Al=jf(),Ir={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Xd++,i.then(gm,gm),i}function gm(){if(--Xd===0&&sc!==null){Ir!==null&&(Ir.status="fulfilled");var n=sc;sc=null,Al=0,Ir=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function I_(n,i){var a=[],c={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var g=0;g<a.length;g++)(0,a[g])(i)},function(g){for(c.status="rejected",c.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),c}var pm=fe.S;fe.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&R_(n,i),pm!==null&&pm(n,i)};var Io=ue(null);function Ms(){var n=Io.current;return n!==null?n:Yt.pooledCache}function tf(n,i){i===null?be(Io,Io.current):be(Io,i.pool)}function mm(){var n=Ms();return n===null?null:{parent:Gt._currentValue,pool:n}}var cr=Error(s(460)),ym=Error(s(474)),nf=Error(s(542)),Wd={then:function(){}};function vm(n){return n=n.status,n==="fulfilled"||n==="rejected"}function rf(){}function Zd(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(rf,rf),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Em(n),n;default:if(typeof i.status=="string")i.then(rf,rf);else{if(n=Yt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=c}},function(c){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Em(n),n}throw Sl=i,cr}}var Sl=null;function _m(){if(Sl===null)throw Error(s(459));var n=Sl;return Sl=null,n}function Em(n){if(n===cr||n===nf)throw Error(s(483))}var ts=!1;function Co(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rl(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ba(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ps(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ut&2)!==0){var g=c.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),c.pending=i,i=Wu(n),Xu(n,null,a),i}return xi(n,c,i,a),Wu(n)}function ac(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Pu(n,a)}}function Di(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var g=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?g=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?g=m=i:m=m.next=i}else g=m=i;a={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var oc=!1;function Ni(){if(oc){var n=Ir;if(n!==null)throw n}}function tr(n,i,a,c){oc=!1;var g=n.updateQueue;ts=!1;var m=g.firstBaseUpdate,b=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var V=C,re=V.next;V.next=null,b===null?m=re:b.next=re,b=V;var de=n.alternate;de!==null&&(de=de.updateQueue,C=de.lastBaseUpdate,C!==b&&(C===null?de.firstBaseUpdate=re:C.next=re,de.lastBaseUpdate=V))}if(m!==null){var me=g.baseState;b=0,de=re=V=null,C=m;do{var ae=C.lane&-536870913,ie=ae!==C.lane;if(ie?(vt&ae)===ae:(c&ae)===ae){ae!==0&&ae===Al&&(oc=!0),de!==null&&(de=de.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ze=n,Be=C;ae=i;var jt=a;switch(Be.tag){case 1:if(ze=Be.payload,typeof ze=="function"){me=ze.call(jt,me,ae);break e}me=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Be.payload,ae=typeof ze=="function"?ze.call(jt,me,ae):ze,ae==null)break e;me=A({},me,ae);break e;case 2:ts=!0}}ae=C.callback,ae!==null&&(n.flags|=64,ie&&(n.flags|=8192),ie=g.callbacks,ie===null?g.callbacks=[ae]:ie.push(ae))}else ie={lane:ae,tag:C.tag,payload:C.payload,callback:C.callback,next:null},de===null?(re=de=ie,V=me):de=de.next=ie,b|=ae;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;ie=C,C=ie.next,ie.next=null,g.lastBaseUpdate=ie,g.shared.pending=null}}while(!0);de===null&&(V=me),g.baseState=V,g.firstBaseUpdate=re,g.lastBaseUpdate=de,m===null&&(g.shared.lanes=0),Na|=b,n.lanes=b,n.memoizedState=me}}function Tm(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Jd(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Tm(a[n],i)}var xo=ue(null),Aa=ue(0);function Ls(n,i){n=qs,be(Aa,n),be(xo,i),qs=n|i.baseLanes}function sf(){be(Aa,qs),be(xo,xo.current)}function eg(){qs=Aa.current,Se(xo),Se(Aa)}var Mi=0,nt=null,Vt=null,ft=null,Il=!1,Oo=!1,nr=!1,Cl=0,Sa=0,fi=null,wm=0;function pt(){throw Error(s(321))}function lc(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!qr(n[a],i[a]))return!1;return!0}function tg(n,i,a,c,g,m){return Mi=m,nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,fe.H=n===null||n.memoizedState===null?Lm:_g,nr=!1,m=a(c,g),nr=!1,Oo&&(m=Am(i,a,c,g)),bm(n),m}function bm(n){fe.H=_c;var i=Vt!==null&&Vt.next!==null;if(Mi=0,ft=Vt=nt=null,Il=!1,Sa=0,fi=null,i)throw Error(s(300));n===null||jn||(n=n.dependencies,n!==null&&Jh(n)&&(jn=!0))}function Am(n,i,a,c){nt=n;var g=0;do{if(Oo&&(fi=null),Sa=0,Oo=!1,25<=g)throw Error(s(301));if(g+=1,ft=Vt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}fe.H=km,m=i(a,c)}while(Oo);return m}function ng(){var n=fe.H,i=n.useState()[0];return i=typeof i.then=="function"?uc(i):i,n=n.useState()[0],(Vt!==null?Vt.memoizedState:null)!==n&&(nt.flags|=1024),i}function rg(){var n=Cl!==0;return Cl=0,n}function Do(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function af(n){if(Il){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Il=!1}Mi=0,ft=Vt=nt=null,Oo=!1,Sa=Cl=0,fi=null}function Cr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?nt.memoizedState=ft=n:ft=ft.next=n,ft}function wn(){if(Vt===null){var n=nt.alternate;n=n!==null?n.memoizedState:null}else n=Vt.next;var i=ft===null?nt.memoizedState:ft.next;if(i!==null)ft=i,Vt=n;else{if(n===null)throw nt.alternate===null?Error(s(467)):Error(s(310));Vt=n,n={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},ft===null?nt.memoizedState=ft=n:ft=ft.next=n}return ft}function No(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uc(n){var i=Sa;return Sa+=1,fi===null&&(fi=[]),n=Zd(fi,n,i),i=nt,(ft===null?i.memoizedState:ft.next)===null&&(i=i.alternate,fe.H=i===null||i.memoizedState===null?Lm:_g),n}function of(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return uc(n);if(n.$$typeof===se)return on(n)}throw Error(s(438,String(n)))}function cc(n){var i=null,a=nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=nt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=No(),nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),c=0;c<n;c++)a[c]=F;return i.index++,a}function ns(n,i){return typeof i=="function"?i(n):i}function lf(n){var i=wn();return ig(i,Vt,n)}function ig(n,i,a){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var g=n.baseQueue,m=c.pending;if(m!==null){if(g!==null){var b=g.next;g.next=m.next,m.next=b}i.baseQueue=g=m,c.pending=null}if(m=n.baseState,g===null)n.memoizedState=m;else{i=g.next;var C=b=null,V=null,re=i,de=!1;do{var me=re.lane&-536870913;if(me!==re.lane?(vt&me)===me:(Mi&me)===me){var ae=re.revertLane;if(ae===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),me===Al&&(de=!0);else if((Mi&ae)===ae){re=re.next,ae===Al&&(de=!0);continue}else me={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},V===null?(C=V=me,b=m):V=V.next=me,nt.lanes|=ae,Na|=ae;me=re.action,nr&&a(m,me),m=re.hasEagerState?re.eagerState:a(m,me)}else ae={lane:me,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},V===null?(C=V=ae,b=m):V=V.next=ae,nt.lanes|=me,Na|=me;re=re.next}while(re!==null&&re!==i);if(V===null?b=m:V.next=C,!qr(m,n.memoizedState)&&(jn=!0,de&&(a=Ir,a!==null)))throw a;n.memoizedState=m,n.baseState=b,n.baseQueue=V,c.lastRenderedState=m}return g===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function sg(n){var i=wn(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var c=a.dispatch,g=a.pending,m=i.memoizedState;if(g!==null){a.pending=null;var b=g=g.next;do m=n(m,b.action),b=b.next;while(b!==g);qr(m,i.memoizedState)||(jn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function ag(n,i,a){var c=nt,g=wn(),m=ht;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!qr((Vt||g).memoizedState,a);b&&(g.memoizedState=a,jn=!0),g=g.queue;var C=cf.bind(null,c,g,n);if(dc(2048,8,C,[n]),g.getSnapshot!==i||b||ft!==null&&ft.memoizedState.tag&1){if(c.flags|=2048,xl(9,pf(),Sm.bind(null,c,g,a,i),null),Yt===null)throw Error(s(349));m||(Mi&124)!==0||uf(c,i,a)}return a}function uf(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=nt.updateQueue,i===null?(i=No(),nt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Sm(n,i,a,c){i.value=a,i.getSnapshot=c,og(i)&&lg(n)}function cf(n,i,a){return a(function(){og(i)&&lg(n)})}function og(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!qr(n,a)}catch{return!0}}function lg(n){var i=Eo(n,2);i!==null&&Wr(i,n,2)}function hf(n){var i=Cr();if(typeof n=="function"){var a=n;if(n=a(),nr){Pn(!0);try{a()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:n},i}function hc(n,i,a,c){return n.baseState=a,ig(n,Vt,typeof c=="function"?c:ns)}function C_(n,i,a,c,g){if(_f(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};fe.T!==null?a(!0):m.isTransition=!1,c(m),a=i.pending,a===null?(m.next=i.pending=m,ug(i,m)):(m.next=a.next,i.pending=a.next=m)}}function ug(n,i){var a=i.action,c=i.payload,g=n.state;if(i.isTransition){var m=fe.T,b={};fe.T=b;try{var C=a(g,c),V=fe.S;V!==null&&V(b,C),cg(n,i,C)}catch(re){ff(n,i,re)}finally{fe.T=m}}else try{m=a(g,c),cg(n,i,m)}catch(re){ff(n,i,re)}}function cg(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Rm(n,i,c)},function(c){return ff(n,i,c)}):Rm(n,i,a)}function Rm(n,i,a){i.status="fulfilled",i.value=a,Im(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,ug(n,a)))}function ff(n,i,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,Im(i),i=i.next;while(i!==c)}n.action=null}function Im(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function df(n,i){return i}function hg(n,i){if(ht){var a=Yt.formState;if(a!==null){e:{var c=nt;if(ht){if(tn){t:{for(var g=tn,m=Sr;g.nodeType!==8;){if(!m){g=null;break t}if(g=ki(g.nextSibling),g===null){g=null;break t}}m=g.data,g=m==="F!"||m==="F"?g:null}if(g){tn=ki(g.nextSibling),c=g.data==="F!";break e}}ci(c)}c=!1}c&&(i=a[0])}}return a=Cr(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:df,lastRenderedState:i},a.queue=c,a=mg.bind(null,nt,c),c.dispatch=a,c=hf(!1),m=yg.bind(null,nt,!1,c.queue),c=Cr(),g={state:i,dispatch:null,action:n,pending:null},c.queue=g,a=C_.bind(null,nt,g,m,a),g.dispatch=a,c.memoizedState=n,[i,a,!1]}function gf(n){var i=wn();return Cm(i,Vt,n)}function Cm(n,i,a){if(i=ig(n,i,df)[0],n=lf(ns)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=uc(i)}catch(b){throw b===cr?nf:b}else c=i;i=wn();var g=i.queue,m=g.dispatch;return a!==i.memoizedState&&(nt.flags|=2048,xl(9,pf(),fg.bind(null,g,a),null)),[c,m,n]}function fg(n,i){n.action=i}function tt(n){var i=wn(),a=Vt;if(a!==null)return Cm(i,a,n);wn(),i=i.memoizedState,a=wn();var c=a.queue.dispatch;return a.memoizedState=n,[i,c,!1]}function xl(n,i,a,c){return n={tag:n,create:a,deps:c,inst:i,next:null},i=nt.updateQueue,i===null&&(i=No(),nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n),n}function pf(){return{destroy:void 0,resource:void 0}}function Ol(){return wn().memoizedState}function fc(n,i,a,c){var g=Cr();c=c===void 0?null:c,nt.flags|=n,g.memoizedState=xl(1|i,pf(),a,c)}function dc(n,i,a,c){var g=wn();c=c===void 0?null:c;var m=g.memoizedState.inst;Vt!==null&&c!==null&&lc(c,Vt.memoizedState.deps)?g.memoizedState=xl(i,m,a,c):(nt.flags|=n,g.memoizedState=xl(1|i,m,a,c))}function xm(n,i){fc(8390656,8,n,i)}function Kr(n,i){dc(2048,8,n,i)}function Om(n,i){return dc(4,2,n,i)}function gc(n,i){return dc(4,4,n,i)}function mf(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function dg(n,i,a){a=a!=null?a.concat([n]):null,dc(4,4,mf.bind(null,i,n),a)}function yf(){}function xr(n,i){var a=wn();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&lc(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function ks(n,i){var a=wn();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&lc(i,c[1]))return c[0];if(c=n(),nr){Pn(!0);try{n()}finally{Pn(!1)}}return a.memoizedState=[c,i],c}function pc(n,i,a){return a===void 0||(Mi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=uy(),nt.lanes|=n,Na|=n,a)}function gg(n,i,a,c){return qr(a,i)?a:xo.current!==null?(n=pc(n,a,c),qr(n,i)||(jn=!0),n):(Mi&42)===0?(jn=!0,n.memoizedState=a):(n=uy(),nt.lanes|=n,Na|=n,i)}function mc(n,i,a,c,g){var m=Re.p;Re.p=m!==0&&8>m?m:8;var b=fe.T,C={};fe.T=C,yg(n,!1,i,a);try{var V=g(),re=fe.S;if(re!==null&&re(C,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var de=I_(V,c);Mo(n,i,de,ir(n))}else Mo(n,i,c,ir(n))}catch(me){Mo(n,i,{then:function(){},status:"rejected",reason:me},ir())}finally{Re.p=m,fe.T=b}}function Dm(){}function yc(n,i,a,c){if(n.tag!==5)throw Error(s(476));var g=pg(n).queue;mc(n,g,i,Ne,a===null?Dm:function(){return vf(n),a(c)})}function pg(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:Ne},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function vf(n){var i=pg(n).next.queue;Mo(n,i,{},ir())}function vc(){return on(Wl)}function Vs(){return wn().memoizedState}function Nm(){return wn().memoizedState}function Ra(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=ir();n=ba(a);var c=Ps(i,n,a);c!==null&&(Wr(c,i,a),ac(c,i,a)),i={cache:Yd()},n.payload=i;return}i=i.return}}function Mm(n,i,a){var c=ir();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_f(n)?Pm(i,a):(a=Tl(n,i,a,c),a!==null&&(Wr(a,n,c),vg(a,i,c)))}function mg(n,i,a){var c=ir();Mo(n,i,a,c)}function Mo(n,i,a,c){var g={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_f(n))Pm(i,g);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,C=m(b,a);if(g.hasEagerState=!0,g.eagerState=C,qr(C,b))return xi(n,i,g,0),Yt===null&&_o(),!1}catch{}finally{}if(a=Tl(n,i,g,c),a!==null)return Wr(a,n,c),vg(a,i,c),!0}return!1}function yg(n,i,a,c){if(c={lane:2,revertLane:jf(),action:c,hasEagerState:!1,eagerState:null,next:null},_f(n)){if(i)throw Error(s(479))}else i=Tl(n,a,c,2),i!==null&&Wr(i,n,2)}function _f(n){var i=n.alternate;return n===nt||i!==null&&i===nt}function Pm(n,i){Oo=Il=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function vg(n,i,a){if((a&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Pu(n,a)}}var _c={readContext:on,use:of,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},Lm={readContext:on,use:of,useCallback:function(n,i){return Cr().memoizedState=[n,i===void 0?null:i],n},useContext:on,useEffect:xm,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,fc(4194308,4,mf.bind(null,i,n),a)},useLayoutEffect:function(n,i){return fc(4194308,4,n,i)},useInsertionEffect:function(n,i){fc(4,2,n,i)},useMemo:function(n,i){var a=Cr();i=i===void 0?null:i;var c=n();if(nr){Pn(!0);try{n()}finally{Pn(!1)}}return a.memoizedState=[c,i],c},useReducer:function(n,i,a){var c=Cr();if(a!==void 0){var g=a(i);if(nr){Pn(!0);try{a(i)}finally{Pn(!1)}}}else g=i;return c.memoizedState=c.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},c.queue=n,n=n.dispatch=Mm.bind(null,nt,n),[c.memoizedState,n]},useRef:function(n){var i=Cr();return n={current:n},i.memoizedState=n},useState:function(n){n=hf(n);var i=n.queue,a=mg.bind(null,nt,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:yf,useDeferredValue:function(n,i){var a=Cr();return pc(a,n,i)},useTransition:function(){var n=hf(!1);return n=mc.bind(null,nt,n.queue,!0,!1),Cr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var c=nt,g=Cr();if(ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Yt===null)throw Error(s(349));(vt&124)!==0||uf(c,i,a)}g.memoizedState=a;var m={value:a,getSnapshot:i};return g.queue=m,xm(cf.bind(null,c,m,n),[n]),c.flags|=2048,xl(9,pf(),Sm.bind(null,c,m,a,i),null),a},useId:function(){var n=Cr(),i=Yt.identifierPrefix;if(ht){var a=Ns,c=en;a=(c&~(1<<32-Ln(c)-1)).toString(32)+a,i=""+i+"R"+a,a=Cl++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=wm++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:vc,useFormState:hg,useActionState:hg,useOptimistic:function(n){var i=Cr();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=yg.bind(null,nt,!0,a),a.dispatch=i,[n,i]},useMemoCache:cc,useCacheRefresh:function(){return Cr().memoizedState=Ra.bind(null,nt)}},_g={readContext:on,use:of,useCallback:xr,useContext:on,useEffect:Kr,useImperativeHandle:dg,useInsertionEffect:Om,useLayoutEffect:gc,useMemo:ks,useReducer:lf,useRef:Ol,useState:function(){return lf(ns)},useDebugValue:yf,useDeferredValue:function(n,i){var a=wn();return gg(a,Vt.memoizedState,n,i)},useTransition:function(){var n=lf(ns)[0],i=wn().memoizedState;return[typeof n=="boolean"?n:uc(n),i]},useSyncExternalStore:ag,useId:Vs,useHostTransitionStatus:vc,useFormState:gf,useActionState:gf,useOptimistic:function(n,i){var a=wn();return hc(a,Vt,n,i)},useMemoCache:cc,useCacheRefresh:Nm},km={readContext:on,use:of,useCallback:xr,useContext:on,useEffect:Kr,useImperativeHandle:dg,useInsertionEffect:Om,useLayoutEffect:gc,useMemo:ks,useReducer:sg,useRef:Ol,useState:function(){return sg(ns)},useDebugValue:yf,useDeferredValue:function(n,i){var a=wn();return Vt===null?pc(a,n,i):gg(a,Vt.memoizedState,n,i)},useTransition:function(){var n=sg(ns)[0],i=wn().memoizedState;return[typeof n=="boolean"?n:uc(n),i]},useSyncExternalStore:ag,useId:Vs,useHostTransitionStatus:vc,useFormState:tt,useActionState:tt,useOptimistic:function(n,i){var a=wn();return Vt!==null?hc(a,Vt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:cc,useCacheRefresh:Nm},Rn=null,Or=0;function Ef(n){var i=Or;return Or+=1,Rn===null&&(Rn=[]),Zd(Rn,n,i)}function Ec(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Po(n,i){throw i.$$typeof===R?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Lo(n){var i=n._init;return i(n._payload)}function Eg(n){function i(W,G){if(n){var te=W.deletions;te===null?(W.deletions=[G],W.flags|=16):te.push(G)}}function a(W,G){if(!n)return null;for(;G!==null;)i(W,G),G=G.sibling;return null}function c(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function g(W,G){return W=ur(W,G),W.index=0,W.sibling=null,W}function m(W,G,te){return W.index=te,n?(te=W.alternate,te!==null?(te=te.index,te<G?(W.flags|=67108866,G):te):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function b(W){return n&&W.alternate===null&&(W.flags|=67108866),W}function C(W,G,te,ge){return G===null||G.tag!==6?(G=Qd(te,W.mode,ge),G.return=W,G):(G=g(G,te),G.return=W,G)}function V(W,G,te,ge){var Oe=te.type;return Oe===z?de(W,G,te.props.children,ge,te.key):G!==null&&(G.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===N&&Lo(Oe)===G.type)?(G=g(G,te.props),Ec(G,te),G.return=W,G):(G=Wh(te.type,te.key,te.props,null,W.mode,ge),Ec(G,te),G.return=W,G)}function re(W,G,te,ge){return G===null||G.tag!==4||G.stateNode.containerInfo!==te.containerInfo||G.stateNode.implementation!==te.implementation?(G=wl(te,W.mode,ge),G.return=W,G):(G=g(G,te.children||[]),G.return=W,G)}function de(W,G,te,ge,Oe){return G===null||G.tag!==7?(G=bo(te,W.mode,ge,Oe),G.return=W,G):(G=g(G,te),G.return=W,G)}function me(W,G,te){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Qd(""+G,W.mode,te),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return te=Wh(G.type,G.key,G.props,null,W.mode,te),Ec(te,G),te.return=W,te;case L:return G=wl(G,W.mode,te),G.return=W,G;case N:var ge=G._init;return G=ge(G._payload),me(W,G,te)}if(Xt(G)||K(G))return G=bo(G,W.mode,te,null),G.return=W,G;if(typeof G.then=="function")return me(W,Ef(G),te);if(G.$$typeof===se)return me(W,ef(W,G),te);Po(W,G)}return null}function ae(W,G,te,ge){var Oe=G!==null?G.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Oe!==null?null:C(W,G,""+te,ge);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return te.key===Oe?V(W,G,te,ge):null;case L:return te.key===Oe?re(W,G,te,ge):null;case N:return Oe=te._init,te=Oe(te._payload),ae(W,G,te,ge)}if(Xt(te)||K(te))return Oe!==null?null:de(W,G,te,ge,null);if(typeof te.then=="function")return ae(W,G,Ef(te),ge);if(te.$$typeof===se)return ae(W,G,ef(W,te),ge);Po(W,te)}return null}function ie(W,G,te,ge,Oe){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return W=W.get(te)||null,C(G,W,""+ge,Oe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case x:return W=W.get(ge.key===null?te:ge.key)||null,V(G,W,ge,Oe);case L:return W=W.get(ge.key===null?te:ge.key)||null,re(G,W,ge,Oe);case N:var st=ge._init;return ge=st(ge._payload),ie(W,G,te,ge,Oe)}if(Xt(ge)||K(ge))return W=W.get(te)||null,de(G,W,ge,Oe,null);if(typeof ge.then=="function")return ie(W,G,te,Ef(ge),Oe);if(ge.$$typeof===se)return ie(W,G,te,ef(G,ge),Oe);Po(G,ge)}return null}function ze(W,G,te,ge){for(var Oe=null,st=null,Le=G,je=G=0,qn=null;Le!==null&&je<te.length;je++){Le.index>je?(qn=Le,Le=null):qn=Le.sibling;var St=ae(W,Le,te[je],ge);if(St===null){Le===null&&(Le=qn);break}n&&Le&&St.alternate===null&&i(W,Le),G=m(St,G,je),st===null?Oe=St:st.sibling=St,st=St,Le=qn}if(je===te.length)return a(W,Le),ht&&Ao(W,je),Oe;if(Le===null){for(;je<te.length;je++)Le=me(W,te[je],ge),Le!==null&&(G=m(Le,G,je),st===null?Oe=Le:st.sibling=Le,st=Le);return ht&&Ao(W,je),Oe}for(Le=c(Le);je<te.length;je++)qn=ie(Le,W,je,te[je],ge),qn!==null&&(n&&qn.alternate!==null&&Le.delete(qn.key===null?je:qn.key),G=m(qn,G,je),st===null?Oe=qn:st.sibling=qn,st=qn);return n&&Le.forEach(function(Fa){return i(W,Fa)}),ht&&Ao(W,je),Oe}function Be(W,G,te,ge){if(te==null)throw Error(s(151));for(var Oe=null,st=null,Le=G,je=G=0,qn=null,St=te.next();Le!==null&&!St.done;je++,St=te.next()){Le.index>je?(qn=Le,Le=null):qn=Le.sibling;var Fa=ae(W,Le,St.value,ge);if(Fa===null){Le===null&&(Le=qn);break}n&&Le&&Fa.alternate===null&&i(W,Le),G=m(Fa,G,je),st===null?Oe=Fa:st.sibling=Fa,st=Fa,Le=qn}if(St.done)return a(W,Le),ht&&Ao(W,je),Oe;if(Le===null){for(;!St.done;je++,St=te.next())St=me(W,St.value,ge),St!==null&&(G=m(St,G,je),st===null?Oe=St:st.sibling=St,st=St);return ht&&Ao(W,je),Oe}for(Le=c(Le);!St.done;je++,St=te.next())St=ie(Le,W,je,St.value,ge),St!==null&&(n&&St.alternate!==null&&Le.delete(St.key===null?je:St.key),G=m(St,G,je),st===null?Oe=St:st.sibling=St,st=St);return n&&Le.forEach(function(c0){return i(W,c0)}),ht&&Ao(W,je),Oe}function jt(W,G,te,ge){if(typeof te=="object"&&te!==null&&te.type===z&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case x:e:{for(var Oe=te.key;G!==null;){if(G.key===Oe){if(Oe=te.type,Oe===z){if(G.tag===7){a(W,G.sibling),ge=g(G,te.props.children),ge.return=W,W=ge;break e}}else if(G.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===N&&Lo(Oe)===G.type){a(W,G.sibling),ge=g(G,te.props),Ec(ge,te),ge.return=W,W=ge;break e}a(W,G);break}else i(W,G);G=G.sibling}te.type===z?(ge=bo(te.props.children,W.mode,ge,te.key),ge.return=W,W=ge):(ge=Wh(te.type,te.key,te.props,null,W.mode,ge),Ec(ge,te),ge.return=W,W=ge)}return b(W);case L:e:{for(Oe=te.key;G!==null;){if(G.key===Oe)if(G.tag===4&&G.stateNode.containerInfo===te.containerInfo&&G.stateNode.implementation===te.implementation){a(W,G.sibling),ge=g(G,te.children||[]),ge.return=W,W=ge;break e}else{a(W,G);break}else i(W,G);G=G.sibling}ge=wl(te,W.mode,ge),ge.return=W,W=ge}return b(W);case N:return Oe=te._init,te=Oe(te._payload),jt(W,G,te,ge)}if(Xt(te))return ze(W,G,te,ge);if(K(te)){if(Oe=K(te),typeof Oe!="function")throw Error(s(150));return te=Oe.call(te),Be(W,G,te,ge)}if(typeof te.then=="function")return jt(W,G,Ef(te),ge);if(te.$$typeof===se)return jt(W,G,ef(W,te),ge);Po(W,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,G!==null&&G.tag===6?(a(W,G.sibling),ge=g(G,te),ge.return=W,W=ge):(a(W,G),ge=Qd(te,W.mode,ge),ge.return=W,W=ge),b(W)):a(W,G)}return function(W,G,te,ge){try{Or=0;var Oe=jt(W,G,te,ge);return Rn=null,Oe}catch(Le){if(Le===cr||Le===nf)throw Le;var st=Ar(29,Le,null,W.mode);return st.lanes=ge,st.return=W,st}finally{}}}var ko=Eg(!0),Vm=Eg(!1),$r=ue(null),hr=null;function di(n){var i=n.alternate;be(ln,ln.current&1),be($r,n),hr===null&&(i===null||xo.current!==null||i.memoizedState!==null)&&(hr=n)}function Um(n){if(n.tag===22){if(be(ln,ln.current),be($r,n),hr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(hr=n)}}else Us()}function Us(){be(ln,ln.current),be($r,$r.current)}function rs(n){Se($r),hr===n&&(hr=null),Se(ln)}var ln=ue(0);function Tc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||dr(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Dl(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:A({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var wc={enqueueSetState:function(n,i,a){n=n._reactInternals;var c=ir(),g=ba(c);g.payload=i,a!=null&&(g.callback=a),i=Ps(n,g,c),i!==null&&(Wr(i,n,c),ac(i,n,c))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=ir(),g=ba(c);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=Ps(n,g,c),i!==null&&(Wr(i,n,c),ac(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=ir(),c=ba(a);c.tag=2,i!=null&&(c.callback=i),i=Ps(n,c,a),i!==null&&(Wr(i,n,a),ac(i,n,a))}};function bc(n,i,a,c,g,m,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,b):i.prototype&&i.prototype.isPureReactComponent?!es(a,c)||!es(g,m):!0}function Bm(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&wc.enqueueReplaceState(i,i.state,null)}function Ia(n,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(n=n.defaultProps){a===i&&(a=A({},a));for(var g in n)a[g]===void 0&&(a[g]=n[g])}return a}var Vo=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Tg(n){Vo(n)}function Tf(n){console.error(n)}function zm(n){Vo(n)}function Ac(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function is(n,i,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function wf(n,i,a){return a=ba(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(n,i)},a}function wg(n){return n=ba(n),n.tag=3,n}function jm(n,i,a,c){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var m=c.value;n.payload=function(){return g(m)},n.callback=function(){is(i,a,c)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){is(i,a,c),typeof g!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function Fm(n,i,a,c,g){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&rc(i,a,g,!0),a=$r.current,a!==null){switch(a.tag){case 13:return hr===null?jg():a.alternate===null&&un===0&&(un=3),a.flags&=-257,a.flags|=65536,a.lanes=g,c===Wd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),qg(n,c,g)),!1;case 22:return a.flags|=65536,c===Wd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),qg(n,c,g)),!1}throw Error(s(435,a.tag))}return qg(n,c,g),jg(),!1}if(ht)return i=$r.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,c!==bl&&(n=Error(s(422),{cause:c}),Ta(lr(n,a)))):(c!==bl&&(i=Error(s(423),{cause:c}),Ta(lr(i,a))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,c=lr(c,a),g=wf(n.stateNode,c,g),Di(n,g),un!==4&&(un=2)),!1;var m=Error(s(520),{cause:c});if(m=lr(m,a),Pc===null?Pc=[m]:Pc.push(m),un!==4&&(un=2),i===null)return!0;c=lr(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=g&-g,a.lanes|=n,n=wf(a.stateNode,c,n),Di(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ma===null||!Ma.has(m))))return a.flags|=65536,g&=-g,a.lanes|=g,g=wg(g),jm(g,n,a,c),Di(a,g),!1}a=a.return}while(a!==null);return!1}var Hm=Error(s(461)),jn=!1;function Zt(n,i,a,c){i.child=n===null?Vm(i,null,a,c):ko(i,n.child,a,c)}function bf(n,i,a,c,g){a=a.render;var m=i.ref;if("ref"in c){var b={};for(var C in c)C!=="ref"&&(b[C]=c[C])}else b=c;return Ro(i),c=tg(n,i,a,b,m,g),C=rg(),n!==null&&!jn?(Do(n,i,g),Bs(n,i,g)):(ht&&C&&$d(i),i.flags|=1,Zt(n,i,c,g),i.child)}function Af(n,i,a,c,g){if(n===null){var m=a.type;return typeof m=="function"&&!wo(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,Sf(n,i,m,c,g)):(n=Wh(a.type,null,c,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Pi(n,g)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:es,a(b,c)&&n.ref===i.ref)return Bs(n,i,g)}return i.flags|=1,n=ur(m,c),n.ref=i.ref,n.return=i,i.child=n}function Sf(n,i,a,c,g){if(n!==null){var m=n.memoizedProps;if(es(m,c)&&n.ref===i.ref)if(jn=!1,i.pendingProps=c=m,Pi(n,g))(n.flags&131072)!==0&&(jn=!0);else return i.lanes=n.lanes,Bs(n,i,g)}return Nl(n,i,a,c,g)}function Sc(n,i,a){var c=i.pendingProps,g=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=m!==null?m.baseLanes|a:a,n!==null){for(g=i.child=n.child,m=0;g!==null;)m=m|g.lanes|g.childLanes,g=g.sibling;i.childLanes=m&~c}else i.childLanes=0,i.child=null;return Uo(n,i,c,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&tf(i,m!==null?m.cachePool:null),m!==null?Ls(i,m):sf(),Um(i);else return i.lanes=i.childLanes=536870912,Uo(n,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(tf(i,m.cachePool),Ls(i,m),Us(),i.memoizedState=null):(n!==null&&tf(i,null),sf(),Us());return Zt(n,i,g,a),i.child}function Uo(n,i,a,c){var g=Ms();return g=g===null?null:{parent:Gt._currentValue,pool:g},i.memoizedState={baseLanes:a,cachePool:g},n!==null&&tf(i,null),sf(),Um(i),n!==null&&rc(n,i,c,!0),null}function ke(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Nl(n,i,a,c,g){return Ro(i),a=tg(n,i,a,c,void 0,g),c=rg(),n!==null&&!jn?(Do(n,i,g),Bs(n,i,g)):(ht&&c&&$d(i),i.flags|=1,Zt(n,i,a,g),i.child)}function Rf(n,i,a,c,g,m){return Ro(i),i.updateQueue=null,a=Am(i,c,a,g),bm(n),c=rg(),n!==null&&!jn?(Do(n,i,m),Bs(n,i,m)):(ht&&c&&$d(i),i.flags|=1,Zt(n,i,a,m),i.child)}function Ca(n,i,a,c,g){if(Ro(i),i.stateNode===null){var m=To,b=a.contextType;typeof b=="object"&&b!==null&&(m=on(b)),m=new a(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=wc,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},Co(i),b=a.contextType,m.context=typeof b=="object"&&b!==null?on(b):To,m.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Dl(i,a,b,c),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&wc.enqueueReplaceState(m,m.state,null),tr(i,c,m,g),Ni(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){m=i.stateNode;var C=i.memoizedProps,V=Ia(a,C);m.props=V;var re=m.context,de=a.contextType;b=To,typeof de=="object"&&de!==null&&(b=on(de));var me=a.getDerivedStateFromProps;de=typeof me=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,de||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||re!==b)&&Bm(i,m,c,b),ts=!1;var ae=i.memoizedState;m.state=ae,tr(i,c,m,g),Ni(),re=i.memoizedState,C||ae!==re||ts?(typeof me=="function"&&(Dl(i,a,me,c),re=i.memoizedState),(V=ts||bc(i,a,V,c,ae,re,b))?(de||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=re),m.props=c,m.state=re,m.context=b,c=V):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,Rl(n,i),b=i.memoizedProps,de=Ia(a,b),m.props=de,me=i.pendingProps,ae=m.context,re=a.contextType,V=To,typeof re=="object"&&re!==null&&(V=on(re)),C=a.getDerivedStateFromProps,(re=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==me||ae!==V)&&Bm(i,m,c,V),ts=!1,ae=i.memoizedState,m.state=ae,tr(i,c,m,g),Ni();var ie=i.memoizedState;b!==me||ae!==ie||ts||n!==null&&n.dependencies!==null&&Jh(n.dependencies)?(typeof C=="function"&&(Dl(i,a,C,c),ie=i.memoizedState),(de=ts||bc(i,a,de,c,ae,ie,V)||n!==null&&n.dependencies!==null&&Jh(n.dependencies))?(re||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,ie,V),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,ie,V)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&ae===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&ae===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ie),m.props=c,m.state=ie,m.context=V,c=de):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&ae===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&ae===n.memoizedState||(i.flags|=1024),c=!1)}return m=c,ke(n,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&c?(i.child=ko(i,n.child,null,g),i.child=ko(i,null,a,g)):Zt(n,i,a,g),i.memoizedState=m.state,n=i.child):n=Bs(n,i,g),n}function qm(n,i,a,c){return nc(),i.flags|=256,Zt(n,i,a,c),i.child}var Rc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(n){return{baseLanes:n,cachePool:mm()}}function Fn(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=pi),n}function Gm(n,i,a){var c=i.pendingProps,g=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=n!==null&&n.memoizedState===null?!1:(ln.current&2)!==0),b&&(g=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,n===null){if(ht){if(g?di(i):Us(),ht){var C=tn,V;if(V=C){e:{for(V=C,C=Sr;V.nodeType!==8;){if(!C){C=null;break e}if(V=ki(V.nextSibling),V===null){C=null;break e}}C=V}C!==null?(i.memoizedState={dehydrated:C,treeContext:Wt!==null?{id:en,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},V=Ar(18,null,null,0),V.stateNode=C,V.return=i,i.child=V,Sn=i,tn=null,V=!0):V=!1}V||ci(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return dr(C)?i.lanes=32:i.lanes=536870912,null;rs(i)}return C=c.children,c=c.fallback,g?(Us(),g=i.mode,C=Ic({mode:"hidden",children:C},g),c=bo(c,g,a,null),C.return=i,c.return=i,C.sibling=c,i.child=C,g=i.child,g.memoizedState=If(a),g.childLanes=Fn(n,b,a),i.memoizedState=Rc,c):(di(i),bg(i,C))}if(V=n.memoizedState,V!==null&&(C=V.dehydrated,C!==null)){if(m)i.flags&256?(di(i),i.flags&=-257,i=Ag(n,i,a)):i.memoizedState!==null?(Us(),i.child=n.child,i.flags|=128,i=null):(Us(),g=c.fallback,C=i.mode,c=Ic({mode:"visible",children:c.children},C),g=bo(g,C,a,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,ko(i,n.child,null,a),c=i.child,c.memoizedState=If(a),c.childLanes=Fn(n,b,a),i.memoizedState=Rc,i=g);else if(di(i),dr(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var re=b.dgst;b=re,c=Error(s(419)),c.stack="",c.digest=b,Ta({value:c,source:null,stack:null}),i=Ag(n,i,a)}else if(jn||rc(n,i,a,!1),b=(a&n.childLanes)!==0,jn||b){if(b=Yt,b!==null&&(c=a&-a,c=(c&42)!==0?1:la(c),c=(c&(b.suspendedLanes|a))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,Eo(n,c),Wr(b,n,c),Hm;C.data==="$?"||jg(),i=Ag(n,i,a)}else C.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=V.treeContext,tn=ki(C.nextSibling),Sn=i,ht=!0,Oi=null,Sr=!1,n!==null&&(li[ui++]=en,li[ui++]=Ns,li[ui++]=Wt,en=n.id,Ns=n.overflow,Wt=i),i=bg(i,c.children),i.flags|=4096);return i}return g?(Us(),g=c.fallback,C=i.mode,V=n.child,re=V.sibling,c=ur(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,re!==null?g=ur(re,g):(g=bo(g,C,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,C=n.child.memoizedState,C===null?C=If(a):(V=C.cachePool,V!==null?(re=Gt._currentValue,V=V.parent!==re?{parent:re,pool:re}:V):V=mm(),C={baseLanes:C.baseLanes|a,cachePool:V}),g.memoizedState=C,g.childLanes=Fn(n,b,a),i.memoizedState=Rc,c):(di(i),a=n.child,n=a.sibling,a=ur(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,n!==null&&(b=i.deletions,b===null?(i.deletions=[n],i.flags|=16):b.push(n)),i.child=a,i.memoizedState=null,a)}function bg(n,i){return i=Ic({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Ic(n,i){return n=Ar(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ag(n,i,a){return ko(i,n.child,null,a),n=bg(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Sg(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Rr(n.return,i,a)}function Rg(n,i,a,c,g){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:g}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=g)}function Qm(n,i,a){var c=i.pendingProps,g=c.revealOrder,m=c.tail;if(Zt(n,i,c.children,a),c=ln.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Sg(n,a,i);else if(n.tag===19)Sg(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(be(ln,c),g){case"forwards":for(a=i.child,g=null;a!==null;)n=a.alternate,n!==null&&Tc(n)===null&&(g=a),a=a.sibling;a=g,a===null?(g=i.child,i.child=null):(g=a.sibling,a.sibling=null),Rg(i,!1,g,a,m);break;case"backwards":for(a=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&Tc(n)===null){i.child=g;break}n=g.sibling,g.sibling=a,a=g,g=n}Rg(i,!0,a,null,m);break;case"together":Rg(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Bs(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Na|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(rc(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=ur(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ur(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Pi(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Jh(n)))}function fr(n,i,a){switch(i.tag){case 3:Nt(i,i.stateNode.containerInfo),Qr(i,Gt,n.memoizedState.cache),nc();break;case 27:case 5:ia(i);break;case 4:Nt(i,i.stateNode.containerInfo);break;case 10:Qr(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(di(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Gm(n,i,a):(di(i),n=Bs(n,i,a),n!==null?n.sibling:null);di(i);break;case 19:var g=(n.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(rc(n,i,a,!1),c=(a&i.childLanes)!==0),g){if(c)return Qm(n,i,a);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),be(ln,ln.current),c)break;return null;case 22:case 23:return i.lanes=0,Sc(n,i,a);case 24:Qr(i,Gt,n.memoizedState.cache)}return Bs(n,i,a)}function Cf(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)jn=!0;else{if(!Pi(n,a)&&(i.flags&128)===0)return jn=!1,fr(n,i,a);jn=(n.flags&131072)!==0}else jn=!1,ht&&(i.flags&1048576)!==0&&Kd(i,Ju,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var c=i.elementType,g=c._init;if(c=g(c._payload),i.type=c,typeof c=="function")wo(c)?(n=Ia(c,n),i.tag=1,i=Ca(null,i,c,n,a)):(i.tag=0,i=Nl(null,i,c,n,a));else{if(c!=null){if(g=c.$$typeof,g===Ee){i.tag=11,i=bf(null,i,c,n,a);break e}else if(g===j){i.tag=14,i=Af(null,i,c,n,a);break e}}throw i=fn(c)||c,Error(s(306,i,""))}}return i;case 0:return Nl(n,i,i.type,i.pendingProps,a);case 1:return c=i.type,g=Ia(c,i.pendingProps),Ca(n,i,c,g,a);case 3:e:{if(Nt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));c=i.pendingProps;var m=i.memoizedState;g=m.element,Rl(n,i),tr(i,c,null,a);var b=i.memoizedState;if(c=b.cache,Qr(i,Gt,c),c!==m.cache&&it(i,[Gt],a,!0),Ni(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=qm(n,i,c,a);break e}else if(c!==g){g=lr(Error(s(424)),i),Ta(g),i=qm(n,i,c,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(tn=ki(n.firstChild),Sn=i,ht=!0,Oi=null,Sr=!0,a=Vm(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(nc(),c===g){i=Bs(n,i,a);break e}Zt(n,i,c,a)}i=i.child}return i;case 26:return ke(n,i),n===null?(a=Fy(i.type,null,i.pendingProps,null))?i.memoizedState=a:ht||(a=i.type,n=i.pendingProps,c=jo(He.current).createElement(a),c[dn]=i,c[_n]=n,xn(c,a,n),gn(c),i.stateNode=c):i.memoizedState=Fy(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return ia(i),n===null&&ht&&(c=i.stateNode=By(i.type,i.pendingProps,He.current),Sn=i,Sr=!0,g=tn,mi(i.type)?(Jg=g,tn=ki(c.firstChild)):tn=g),Zt(n,i,i.pendingProps.children,a),ke(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ht&&((g=c=tn)&&(c=Vy(c,i.type,i.pendingProps,Sr),c!==null?(i.stateNode=c,Sn=i,tn=ki(c.firstChild),Sr=!1,g=!0):g=!1),g||ci(i)),ia(i),g=i.type,m=i.pendingProps,b=n!==null?n.memoizedProps:null,c=m.children,Gf(g,m)?c=null:b!==null&&Gf(g,b)&&(i.flags|=32),i.memoizedState!==null&&(g=tg(n,i,ng,null,null,a),Wl._currentValue=g),ke(n,i),Zt(n,i,c,a),i.child;case 6:return n===null&&ht&&((n=a=tn)&&(a=Kf(a,i.pendingProps,Sr),a!==null?(i.stateNode=a,Sn=i,tn=null,n=!0):n=!1),n||ci(i)),null;case 13:return Gm(n,i,a);case 4:return Nt(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=ko(i,null,c,a):Zt(n,i,c,a),i.child;case 11:return bf(n,i,i.type,i.pendingProps,a);case 7:return Zt(n,i,i.pendingProps,a),i.child;case 8:return Zt(n,i,i.pendingProps.children,a),i.child;case 12:return Zt(n,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,Qr(i,i.type,c.value),Zt(n,i,c.children,a),i.child;case 9:return g=i.type._context,c=i.pendingProps.children,Ro(i),g=on(g),c=c(g),i.flags|=1,Zt(n,i,c,a),i.child;case 14:return Af(n,i,i.type,i.pendingProps,a);case 15:return Sf(n,i,i.type,i.pendingProps,a);case 19:return Qm(n,i,a);case 31:return c=i.pendingProps,a=i.mode,c={mode:c.mode,children:c.children},n===null?(a=Ic(c,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ur(n.child,c),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Sc(n,i,a);case 24:return Ro(i),c=on(Gt),n===null?(g=Ms(),g===null&&(g=Yt,m=Yd(),g.pooledCache=m,m.refCount++,m!==null&&(g.pooledCacheLanes|=a),g=m),i.memoizedState={parent:c,cache:g},Co(i),Qr(i,Gt,g)):((n.lanes&a)!==0&&(Rl(n,i),tr(i,null,null,a),Ni()),g=n.memoizedState,m=i.memoizedState,g.parent!==c?(g={parent:c,cache:c},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Qr(i,Gt,c)):(c=m.cache,Qr(i,Gt,c),c!==g.cache&&it(i,[Gt],a,!0))),Zt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function zs(n){n.flags|=4}function xf(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!On(i)){if(i=$r.current,i!==null&&((vt&4194048)===vt?hr!==null:(vt&62914560)!==vt&&(vt&536870912)===0||i!==hr))throw Sl=Wd,ym;n.flags|=8192}}function Of(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Nu():536870912,n.lanes|=i,Bl|=i)}function Cc(n,i){if(!ht)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Qt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var g=n.child;g!==null;)a|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)a|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function Km(n,i,a){var c=i.pendingProps;switch(ec(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(i),null;case 1:return Qt(i),null;case 3:return a=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),hi(Gt),vr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(tc(i)?zs(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,fm())),Qt(i),null;case 26:return a=i.memoizedState,n===null?(zs(i),a!==null?(Qt(i),xf(i,a)):(Qt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(zs(i),Qt(i),xf(i,a)):(Qt(i),i.flags&=-16777217):(n.memoizedProps!==c&&zs(i),Qt(i),i.flags&=-16777217),null;case 27:ni(i),a=He.current;var g=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&zs(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return Qt(i),null}n=Ve.current,tc(i)?cm(i):(n=By(g,c,a),i.stateNode=n,zs(i))}return Qt(i),null;case 5:if(ni(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&zs(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return Qt(i),null}if(n=Ve.current,tc(i))cm(i);else{switch(g=jo(He.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?g.createElement(a,{is:c.is}):g.createElement(a)}}n[dn]=i,n[_n]=c;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=n;e:switch(xn(n,a,c),a){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&zs(i)}}return Qt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&zs(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(n=He.current,tc(i)){if(n=i.stateNode,a=i.memoizedProps,c=null,g=Sn,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}n[dn]=i,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||My(n.nodeValue,a)),n||ci(i)}else n=jo(n).createTextNode(c),n[dn]=i,i.stateNode=n}return Qt(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=tc(i),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[dn]=i}else nc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Qt(i),g=!1}else g=fm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(rs(i),i):(rs(i),null)}if(rs(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=c!==null,n=n!==null&&n.memoizedState!==null,a){c=i.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==g&&(c.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Of(i,i.updateQueue),Qt(i),null;case 4:return vr(),n===null&&Yg(i.stateNode.containerInfo),Qt(i),null;case 10:return hi(i.type),Qt(i),null;case 19:if(Se(ln),g=i.memoizedState,g===null)return Qt(i),null;if(c=(i.flags&128)!==0,m=g.rendering,m===null)if(c)Cc(g,!1);else{if(un!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Tc(n),m!==null){for(i.flags|=128,Cc(g,!1),n=m.updateQueue,i.updateQueue=n,Of(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Zu(a,n),a=a.sibling;return be(ln,ln.current&1|2),i.child}n=n.sibling}g.tail!==null&&vn()>zl&&(i.flags|=128,c=!0,Cc(g,!1),i.lanes=4194304)}else{if(!c)if(n=Tc(m),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,Of(i,n),Cc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!m.alternate&&!ht)return Qt(i),null}else 2*vn()-g.renderingStartTime>zl&&a!==536870912&&(i.flags|=128,c=!0,Cc(g,!1),i.lanes=4194304);g.isBackwards?(m.sibling=i.child,i.child=m):(n=g.last,n!==null?n.sibling=m:i.child=m,g.last=m)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=vn(),i.sibling=null,n=ln.current,be(ln,c?n&1|2:n&1),i):(Qt(i),null);case 22:case 23:return rs(i),eg(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&(Qt(i),i.subtreeFlags&6&&(i.flags|=8192)):Qt(i),a=i.updateQueue,a!==null&&Of(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),n!==null&&Se(Io),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),hi(Gt),Qt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function $m(n,i){switch(ec(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return hi(Gt),vr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ni(i),null;case 13:if(rs(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));nc()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Se(ln),null;case 4:return vr(),null;case 10:return hi(i.type),null;case 22:case 23:return rs(i),eg(),n!==null&&Se(Io),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return hi(Gt),null;case 25:return null;default:return null}}function Ym(n,i){switch(ec(i),i.tag){case 3:hi(Gt),vr();break;case 26:case 27:case 5:ni(i);break;case 4:vr();break;case 13:rs(i);break;case 19:Se(ln);break;case 10:hi(i.type);break;case 22:case 23:rs(i),eg(),n!==null&&Se(Io);break;case 24:hi(Gt)}}function xc(n,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var g=c.next;a=g;do{if((a.tag&n)===n){c=void 0;var m=a.create,b=a.inst;c=m(),b.destroy=c}a=a.next}while(a!==g)}}catch(C){Kt(i,i.return,C)}}function xa(n,i,a){try{var c=i.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var m=g.next;c=m;do{if((c.tag&n)===n){var b=c.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,g=i;var V=a,re=C;try{re()}catch(de){Kt(g,V,de)}}}c=c.next}while(c!==m)}}catch(de){Kt(i,i.return,de)}}function Xm(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Jd(i,a)}catch(c){Kt(n,n.return,c)}}}function Ig(n,i,a){a.props=Ia(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){Kt(n,i,c)}}function Ml(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(g){Kt(n,i,g)}}function ss(n,i){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(g){Kt(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){Kt(n,i,g)}else a.current=null}function Df(n){var i=n.type,a=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(g){Kt(n,n.return,g)}}function Nf(n,i,a){try{var c=n.stateNode;H_(c,n.type,a,i),c[_n]=i}catch(g){Kt(n,n.return,g)}}function Pl(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&mi(n.type)||n.tag===4}function Oc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Pl(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&mi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Mf(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Hf));else if(c!==4&&(c===27&&mi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Mf(n,i,a),n=n.sibling;n!==null;)Mf(n,i,a),n=n.sibling}function Dc(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(c===27&&mi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Dc(n,i,a),n=n.sibling;n!==null;)Dc(n,i,a),n=n.sibling}function Nc(n){var i=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);xn(i,c,a),i[dn]=n,i[_n]=a}catch(m){Kt(n,n.return,m)}}var as=!1,Lt=!1,js=!1,Wm=typeof WeakSet=="function"?WeakSet:Set,In=null;function x_(n,i){if(n=n.containerInfo,Li=Wf,n=lm(n),Hd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var g=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,C=-1,V=-1,re=0,de=0,me=n,ae=null;t:for(;;){for(var ie;me!==a||g!==0&&me.nodeType!==3||(C=b+g),me!==m||c!==0&&me.nodeType!==3||(V=b+c),me.nodeType===3&&(b+=me.nodeValue.length),(ie=me.firstChild)!==null;)ae=me,me=ie;for(;;){if(me===n)break t;if(ae===a&&++re===g&&(C=b),ae===m&&++de===c&&(V=b),(ie=me.nextSibling)!==null)break;me=ae,ae=me.parentNode}me=ie}a=C===-1||V===-1?null:{start:C,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(qf={focusedElem:n,selectionRange:a},Wf=!1,In=i;In!==null;)if(i=In,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,In=n;else for(;In!==null;){switch(i=In,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,g=m.memoizedProps,m=m.memoizedState,c=a.stateNode;try{var ze=Ia(a.type,g,a.elementType===a.type);n=c.getSnapshotBeforeUpdate(ze,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(Be){Kt(a,a.return,Be)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Zg(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Zg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,In=n;break}In=i.return}}function Zm(n,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Oa(n,a),c&4&&xc(5,a);break;case 1:if(Oa(n,a),c&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(b){Kt(a,a.return,b)}else{var g=Ia(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(b){Kt(a,a.return,b)}}c&64&&Xm(a),c&512&&Ml(a,a.return);break;case 3:if(Oa(n,a),c&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jd(n,i)}catch(b){Kt(a,a.return,b)}}break;case 27:i===null&&c&4&&Nc(a);case 26:case 5:Oa(n,a),i===null&&c&4&&Df(a),c&512&&Ml(a,a.return);break;case 12:Oa(n,a);break;case 13:Oa(n,a),c&4&&ty(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Uf.bind(null,a),Ql(n,a))));break;case 22:if(c=a.memoizedState!==null||as,!c){i=i!==null&&i.memoizedState!==null||Lt,g=as;var m=Lt;as=c,(Lt=i)&&!m?Hs(n,a,(a.subtreeFlags&8772)!==0):Oa(n,a),as=g,Lt=m}break;case 30:break;default:Oa(n,a)}}function Jm(n){var i=n.alternate;i!==null&&(n.alternate=null,Jm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&ha(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var nn=null,Dr=!1;function Fs(n,i,a){for(a=a.child;a!==null;)ey(n,i,a),a=a.sibling}function ey(n,i,a){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(an,a)}catch{}switch(a.tag){case 26:Lt||ss(a,i),Fs(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||ss(a,i);var c=nn,g=Dr;mi(a.type)&&(nn=a.stateNode,Dr=!1),Fs(n,i,a),Hc(a.stateNode),nn=c,Dr=g;break;case 5:Lt||ss(a,i);case 6:if(c=nn,g=Dr,nn=null,Fs(n,i,a),nn=c,Dr=g,nn!==null)if(Dr)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(a.stateNode)}catch(m){Kt(a,i,m)}else try{nn.removeChild(a.stateNode)}catch(m){Kt(a,i,m)}break;case 18:nn!==null&&(Dr?(n=nn,Qf(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Wc(n)):Qf(nn,a.stateNode));break;case 4:c=nn,g=Dr,nn=a.stateNode.containerInfo,Dr=!0,Fs(n,i,a),nn=c,Dr=g;break;case 0:case 11:case 14:case 15:Lt||xa(2,a,i),Lt||xa(4,a,i),Fs(n,i,a);break;case 1:Lt||(ss(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Ig(a,i,c)),Fs(n,i,a);break;case 21:Fs(n,i,a);break;case 22:Lt=(c=Lt)||a.memoizedState!==null,Fs(n,i,a),Lt=c;break;default:Fs(n,i,a)}}function ty(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Wc(n)}catch(a){Kt(i,i.return,a)}}function O_(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Wm),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Wm),i;default:throw Error(s(435,n.tag))}}function Cg(n,i){var a=O_(n);i.forEach(function(c){var g=k_.bind(null,n,c);a.has(c)||(a.add(c),c.then(g,g))})}function Yr(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var g=a[c],m=n,b=i,C=b;e:for(;C!==null;){switch(C.tag){case 27:if(mi(C.type)){nn=C.stateNode,Dr=!1;break e}break;case 5:nn=C.stateNode,Dr=!1;break e;case 3:case 4:nn=C.stateNode.containerInfo,Dr=!0;break e}C=C.return}if(nn===null)throw Error(s(160));ey(m,b,g),nn=null,Dr=!1,m=g.alternate,m!==null&&(m.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)xg(i,n),i=i.sibling}var gi=null;function xg(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Yr(i,n),Nr(n),c&4&&(xa(3,n,n.return),xc(3,n),xa(5,n,n.return));break;case 1:Yr(i,n),Nr(n),c&512&&(Lt||a===null||ss(a,a.return)),c&64&&as&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var g=gi;if(Yr(i,n),Nr(n),c&512&&(Lt||a===null||ss(a,a.return)),c&4){var m=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){e:{c=n.type,a=n.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":m=g.getElementsByTagName("title")[0],(!m||m[io]||m[dn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=g.createElement(c),g.head.insertBefore(m,g.querySelector("head > title"))),xn(m,c,a),m[dn]=n,gn(m),c=m;break e;case"link":var b=Gy("link","href",g).get(c+(a.href||""));if(b){for(var C=0;C<b.length;C++)if(m=b[C],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(C,1);break t}}m=g.createElement(c),xn(m,c,a),g.head.appendChild(m);break;case"meta":if(b=Gy("meta","content",g).get(c+(a.content||""))){for(C=0;C<b.length;C++)if(m=b[C],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(C,1);break t}}m=g.createElement(c),xn(m,c,a),g.head.appendChild(m);break;default:throw Error(s(468,c))}m[dn]=n,gn(m),c=m}n.stateNode=c}else Qy(g,n.type,n.stateNode);else n.stateNode=qy(g,c,n.memoizedProps);else m!==c?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,c===null?Qy(g,n.type,n.stateNode):qy(g,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Nf(n,n.memoizedProps,a.memoizedProps)}break;case 27:Yr(i,n),Nr(n),c&512&&(Lt||a===null||ss(a,a.return)),a!==null&&c&4&&Nf(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Yr(i,n),Nr(n),c&512&&(Lt||a===null||ss(a,a.return)),n.flags&32){g=n.stateNode;try{Tr(g,"")}catch(ie){Kt(n,n.return,ie)}}c&4&&n.stateNode!=null&&(g=n.memoizedProps,Nf(n,g,a!==null?a.memoizedProps:g)),c&1024&&(js=!0);break;case 6:if(Yr(i,n),Nr(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(ie){Kt(n,n.return,ie)}}break;case 3:if(Xl=null,g=gi,gi=We(i.containerInfo),Yr(i,n),gi=g,Nr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Wc(i.containerInfo)}catch(ie){Kt(n,n.return,ie)}js&&(js=!1,ny(n));break;case 4:c=gi,gi=We(n.stateNode.containerInfo),Yr(i,n),Nr(n),gi=c;break;case 12:Yr(i,n),Nr(n);break;case 13:Yr(i,n),Nr(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kg=vn()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Cg(n,c)));break;case 22:g=n.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,re=as,de=Lt;if(as=re||g,Lt=de||V,Yr(i,n),Lt=de,as=re,Nr(n),c&8192)e:for(i=n.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(a===null||V||as||Lt||Bo(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){V=a=i;try{if(m=V.stateNode,g)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=V.stateNode;var me=V.memoizedProps.style,ae=me!=null&&me.hasOwnProperty("display")?me.display:null;C.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(ie){Kt(V,V.return,ie)}}}else if(i.tag===6){if(a===null){V=i;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(ie){Kt(V,V.return,ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Cg(n,a))));break;case 19:Yr(i,n),Nr(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Cg(n,c)));break;case 30:break;case 21:break;default:Yr(i,n),Nr(n)}}function Nr(n){var i=n.flags;if(i&2){try{for(var a,c=n.return;c!==null;){if(Pl(c)){a=c;break}c=c.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var g=a.stateNode,m=Oc(n);Dc(n,m,g);break;case 5:var b=a.stateNode;a.flags&32&&(Tr(b,""),a.flags&=-33);var C=Oc(n);Dc(n,C,b);break;case 3:case 4:var V=a.stateNode.containerInfo,re=Oc(n);Mf(n,re,V);break;default:throw Error(s(161))}}catch(de){Kt(n,n.return,de)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function ny(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;ny(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Oa(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Zm(n,i.alternate,i),i=i.sibling}function Bo(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:xa(4,i,i.return),Bo(i);break;case 1:ss(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ig(i,i.return,a),Bo(i);break;case 27:Hc(i.stateNode);case 26:case 5:ss(i,i.return),Bo(i);break;case 22:i.memoizedState===null&&Bo(i);break;case 30:Bo(i);break;default:Bo(i)}n=n.sibling}}function Hs(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,g=n,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:Hs(g,m,a),xc(4,m);break;case 1:if(Hs(g,m,a),c=m,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(re){Kt(c,c.return,re)}if(c=m,g=c.updateQueue,g!==null){var C=c.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)Tm(V[g],C)}catch(re){Kt(c,c.return,re)}}a&&b&64&&Xm(m),Ml(m,m.return);break;case 27:Nc(m);case 26:case 5:Hs(g,m,a),a&&c===null&&b&4&&Df(m),Ml(m,m.return);break;case 12:Hs(g,m,a);break;case 13:Hs(g,m,a),a&&b&4&&ty(g,m);break;case 22:m.memoizedState===null&&Hs(g,m,a),Ml(m,m.return);break;case 30:break;default:Hs(g,m,a)}i=i.sibling}}function Og(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ic(a))}function Dg(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ic(n))}function os(n,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ry(n,i,a,c),i=i.sibling}function ry(n,i,a,c){var g=i.flags;switch(i.tag){case 0:case 11:case 15:os(n,i,a,c),g&2048&&xc(9,i);break;case 1:os(n,i,a,c);break;case 3:os(n,i,a,c),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ic(n)));break;case 12:if(g&2048){os(n,i,a,c),n=i.stateNode;try{var m=i.memoizedProps,b=m.id,C=m.onPostCommit;typeof C=="function"&&C(b,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){Kt(i,i.return,V)}}else os(n,i,a,c);break;case 13:os(n,i,a,c);break;case 23:break;case 22:m=i.stateNode,b=i.alternate,i.memoizedState!==null?m._visibility&2?os(n,i,a,c):Mc(n,i):m._visibility&2?os(n,i,a,c):(m._visibility|=2,Ll(n,i,a,c,(i.subtreeFlags&10256)!==0)),g&2048&&Og(b,i);break;case 24:os(n,i,a,c),g&2048&&Dg(i.alternate,i);break;default:os(n,i,a,c)}}function Ll(n,i,a,c,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,b=i,C=a,V=c,re=b.flags;switch(b.tag){case 0:case 11:case 15:Ll(m,b,C,V,g),xc(8,b);break;case 23:break;case 22:var de=b.stateNode;b.memoizedState!==null?de._visibility&2?Ll(m,b,C,V,g):Mc(m,b):(de._visibility|=2,Ll(m,b,C,V,g)),g&&re&2048&&Og(b.alternate,b);break;case 24:Ll(m,b,C,V,g),g&&re&2048&&Dg(b.alternate,b);break;default:Ll(m,b,C,V,g)}i=i.sibling}}function Mc(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,c=i,g=c.flags;switch(c.tag){case 22:Mc(a,c),g&2048&&Og(c.alternate,c);break;case 24:Mc(a,c),g&2048&&Dg(c.alternate,c);break;default:Mc(a,c)}i=i.sibling}}var rr=8192;function kl(n){if(n.subtreeFlags&rr)for(n=n.child;n!==null;)iy(n),n=n.sibling}function iy(n){switch(n.tag){case 26:kl(n),n.flags&rr&&n.memoizedState!==null&&t0(gi,n.memoizedState,n.memoizedProps);break;case 5:kl(n);break;case 3:case 4:var i=gi;gi=We(n.stateNode.containerInfo),kl(n),gi=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=rr,rr=16777216,kl(n),rr=i):kl(n));break;default:kl(n)}}function sy(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Vl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];In=c,oy(c,n)}sy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ay(n),n=n.sibling}function ay(n){switch(n.tag){case 0:case 11:case 15:Vl(n),n.flags&2048&&xa(9,n,n.return);break;case 3:Vl(n);break;case 12:Vl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Pf(n)):Vl(n);break;default:Vl(n)}}function Pf(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];In=c,oy(c,n)}sy(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:xa(8,i,i.return),Pf(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Pf(i));break;default:Pf(i)}n=n.sibling}}function oy(n,i){for(;In!==null;){var a=In;switch(a.tag){case 0:case 11:case 15:xa(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ic(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,In=c;else e:for(a=n;In!==null;){c=In;var g=c.sibling,m=c.return;if(Jm(c),c===a){In=null;break e}if(g!==null){g.return=m,In=g;break e}In=m}}}var D_={getCacheForType:function(n){var i=on(Gt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},Ng=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Yt=null,ot=null,vt=0,Bt=0,Xr=null,Da=!1,Ul=!1,Mg=!1,qs=0,un=0,Na=0,zo=0,Pg=0,pi=0,Bl=0,Pc=null,Mr=null,Lg=!1,kg=0,zl=1/0,Lc=null,Ma=null,Yn=0,Pa=null,jl=null,Fl=0,Vg=0,Ug=null,ly=null,Hl=0,Bg=null;function ir(){if((Ut&2)!==0&&vt!==0)return vt&-vt;if(fe.T!==null){var n=Al;return n!==0?n:jf()}return ua()}function uy(){pi===0&&(pi=(vt&536870912)===0||ht?Du():536870912);var n=$r.current;return n!==null&&(n.flags|=32),pi}function Wr(n,i,a){(n===Yt&&(Bt===2||Bt===9)||n.cancelPendingCommit!==null)&&(ql(n,0),La(n,vt,pi,!1)),Hi(n,a),((Ut&2)===0||n!==Yt)&&(n===Yt&&((Ut&2)===0&&(zo|=a),un===4&&La(n,vt,pi,!1)),ls(n))}function cy(n,i,a){if((Ut&6)!==0)throw Error(s(327));var c=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Es(n,i),g=c?P_(n,i):Fg(n,i,!0),m=c;do{if(g===0){Ul&&!c&&La(n,i,0,!1);break}else{if(a=n.current.alternate,m&&!N_(a)){g=Fg(n,i,!1),m=!1;continue}if(g===2){if(m=i,n.errorRecoveryDisabledLanes&m)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var C=n;g=Pc;var V=C.current.memoizedState.isDehydrated;if(V&&(ql(C,b).flags|=256),b=Fg(C,b,!1),b!==2){if(Mg&&!V){C.errorRecoveryDisabledLanes|=m,zo|=m,g=4;break e}m=Mr,Mr=g,m!==null&&(Mr===null?Mr=m:Mr.push.apply(Mr,m))}g=b}if(m=!1,g!==2)continue}}if(g===1){ql(n,0),La(n,i,0,!0);break}e:{switch(c=n,m=g,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:La(c,i,pi,!Da);break e;case 2:Mr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=kg+300-vn(),10<g)){if(La(c,i,pi,!Da),oa(c,0,!0)!==0)break e;c.timeoutHandle=Py(hy.bind(null,c,a,Mr,Lc,Lg,i,pi,zo,Bl,Da,m,2,-0,0),g);break e}hy(c,a,Mr,Lc,Lg,i,pi,zo,Bl,Da,m,0,-0,0)}}break}while(!0);ls(n)}function hy(n,i,a,c,g,m,b,C,V,re,de,me,ae,ie){if(n.timeoutHandle=-1,me=i.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(Hn={stylesheets:null,count:0,unsuspend:e0},iy(i),me=n0(),me!==null)){n.cancelPendingCommit=me(kc.bind(null,n,i,m,a,c,g,b,C,V,de,1,ae,ie)),La(n,m,b,!re);return}kc(n,i,m,a,c,g,b,C,V)}function N_(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var g=a[c],m=g.getSnapshot;g=g.value;try{if(!qr(m(),g))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function La(n,i,a,c){i&=~Pg,i&=~zo,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var g=i;0<g;){var m=31-Ln(g),b=1<<m;c[m]=-1,g&=~b}a!==0&&qi(n,a,i)}function Lf(){return(Ut&6)===0?(Bc(0),!1):!0}function zg(){if(ot!==null){if(Bt===0)var n=ot.return;else n=ot,I=wa=null,af(n),Rn=null,Or=0,n=ot;for(;n!==null;)Ym(n.alternate,n),n=n.return;ot=null}}function ql(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,G_(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),zg(),Yt=n,ot=a=ur(n.current,null),vt=i,Bt=0,Xr=null,Da=!1,Ul=Es(n,i),Mg=!1,Bl=pi=Pg=zo=Na=un=0,Mr=Pc=null,Lg=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var g=31-Ln(c),m=1<<g;i|=n[g],c&=~m}return qs=i,_o(),a}function fy(n,i){nt=null,fe.H=_c,i===cr||i===nf?(i=_m(),Bt=3):i===ym?(i=_m(),Bt=4):Bt=i===Hm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Xr=i,ot===null&&(un=1,Ac(n,lr(i,n.current)))}function dy(){var n=fe.H;return fe.H=_c,n===null?_c:n}function gy(){var n=fe.A;return fe.A=D_,n}function jg(){un=4,Da||(vt&4194048)!==vt&&$r.current!==null||(Ul=!0),(Na&134217727)===0&&(zo&134217727)===0||Yt===null||La(Yt,vt,pi,!1)}function Fg(n,i,a){var c=Ut;Ut|=2;var g=dy(),m=gy();(Yt!==n||vt!==i)&&(Lc=null,ql(n,i)),i=!1;var b=un;e:do try{if(Bt!==0&&ot!==null){var C=ot,V=Xr;switch(Bt){case 8:zg(),b=6;break e;case 3:case 2:case 9:case 6:$r.current===null&&(i=!0);var re=Bt;if(Bt=0,Xr=null,Gl(n,C,V,re),a&&Ul){b=0;break e}break;default:re=Bt,Bt=0,Xr=null,Gl(n,C,V,re)}}M_(),b=un;break}catch(de){fy(n,de)}while(!0);return i&&n.shellSuspendCounter++,I=wa=null,Ut=c,fe.H=g,fe.A=m,ot===null&&(Yt=null,vt=0,_o()),b}function M_(){for(;ot!==null;)Hg(ot)}function P_(n,i){var a=Ut;Ut|=2;var c=dy(),g=gy();Yt!==n||vt!==i?(Lc=null,zl=vn()+500,ql(n,i)):Ul=Es(n,i);e:do try{if(Bt!==0&&ot!==null){i=ot;var m=Xr;t:switch(Bt){case 1:Bt=0,Xr=null,Gl(n,i,m,1);break;case 2:case 9:if(vm(m)){Bt=0,Xr=null,my(i);break}i=function(){Bt!==2&&Bt!==9||Yt!==n||(Bt=7),ls(n)},m.then(i,i);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:vm(m)?(Bt=0,Xr=null,my(i)):(Bt=0,Xr=null,Gl(n,i,m,7));break;case 5:var b=null;switch(ot.tag){case 26:b=ot.memoizedState;case 5:case 27:var C=ot;if(!b||On(b)){Bt=0,Xr=null;var V=C.sibling;if(V!==null)ot=V;else{var re=C.return;re!==null?(ot=re,kf(re)):ot=null}break t}}Bt=0,Xr=null,Gl(n,i,m,5);break;case 6:Bt=0,Xr=null,Gl(n,i,m,6);break;case 8:zg(),un=6;break e;default:throw Error(s(462))}}py();break}catch(de){fy(n,de)}while(!0);return I=wa=null,fe.H=c,fe.A=g,Ut=a,ot!==null?0:(Yt=null,vt=0,_o(),un)}function py(){for(;ot!==null&&!ps();)Hg(ot)}function Hg(n){var i=Cf(n.alternate,n,qs);n.memoizedProps=n.pendingProps,i===null?kf(n):ot=i}function my(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Rf(a,i,i.pendingProps,i.type,void 0,vt);break;case 11:i=Rf(a,i,i.pendingProps,i.type.render,i.ref,vt);break;case 5:af(i);default:Ym(a,i),i=ot=Zu(i,qs),i=Cf(a,i,qs)}n.memoizedProps=n.pendingProps,i===null?kf(n):ot=i}function Gl(n,i,a,c){I=wa=null,af(i),Rn=null,Or=0;var g=i.return;try{if(Fm(n,g,i,a,vt)){un=1,Ac(n,lr(a,n.current)),ot=null;return}}catch(m){if(g!==null)throw ot=g,m;un=1,Ac(n,lr(a,n.current)),ot=null;return}i.flags&32768?(ht||c===1?n=!0:Ul||(vt&536870912)!==0?n=!1:(Da=n=!0,(c===2||c===9||c===3||c===6)&&(c=$r.current,c!==null&&c.tag===13&&(c.flags|=16384))),yy(i,n)):kf(i)}function kf(n){var i=n;do{if((i.flags&32768)!==0){yy(i,Da);return}n=i.return;var a=Km(i.alternate,i,qs);if(a!==null){ot=a;return}if(i=i.sibling,i!==null){ot=i;return}ot=i=n}while(i!==null);un===0&&(un=5)}function yy(n,i){do{var a=$m(n.alternate,n);if(a!==null){a.flags&=32767,ot=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){ot=n;return}ot=n=a}while(n!==null);un=6,ot=null}function kc(n,i,a,c,g,m,b,C,V){n.cancelPendingCommit=null;do Vf();while(Yn!==0);if((Ut&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Gd,Mu(n,a,m,b,C,V),n===Yt&&(ot=Yt=null,vt=0),jl=i,Pa=n,Fl=a,Vg=m,Ug=g,ly=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Sy(Kn,function(){return wy(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=fe.T,fe.T=null,g=Re.p,Re.p=2,b=Ut,Ut|=4;try{x_(n,i,a)}finally{Ut=b,Re.p=g,fe.T=c}}Yn=1,vy(),_y(),Ey()}}function vy(){if(Yn===1){Yn=0;var n=Pa,i=jl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=fe.T,fe.T=null;var c=Re.p;Re.p=2;var g=Ut;Ut|=4;try{xg(i,n);var m=qf,b=lm(n.containerInfo),C=m.focusedElem,V=m.selectionRange;if(b!==C&&C&&C.ownerDocument&&om(C.ownerDocument.documentElement,C)){if(V!==null&&Hd(C)){var re=V.start,de=V.end;if(de===void 0&&(de=re),"selectionStart"in C)C.selectionStart=re,C.selectionEnd=Math.min(de,C.value.length);else{var me=C.ownerDocument||document,ae=me&&me.defaultView||window;if(ae.getSelection){var ie=ae.getSelection(),ze=C.textContent.length,Be=Math.min(V.start,ze),jt=V.end===void 0?Be:Math.min(V.end,ze);!ie.extend&&Be>jt&&(b=jt,jt=Be,Be=b);var W=Fd(C,Be),G=Fd(C,jt);if(W&&G&&(ie.rangeCount!==1||ie.anchorNode!==W.node||ie.anchorOffset!==W.offset||ie.focusNode!==G.node||ie.focusOffset!==G.offset)){var te=me.createRange();te.setStart(W.node,W.offset),ie.removeAllRanges(),Be>jt?(ie.addRange(te),ie.extend(G.node,G.offset)):(te.setEnd(G.node,G.offset),ie.addRange(te))}}}}for(me=[],ie=C;ie=ie.parentNode;)ie.nodeType===1&&me.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<me.length;C++){var ge=me[C];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Wf=!!Li,qf=Li=null}finally{Ut=g,Re.p=c,fe.T=a}}n.current=i,Yn=2}}function _y(){if(Yn===2){Yn=0;var n=Pa,i=jl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=fe.T,fe.T=null;var c=Re.p;Re.p=2;var g=Ut;Ut|=4;try{Zm(n,i.alternate,i)}finally{Ut=g,Re.p=c,fe.T=a}}Yn=3}}function Ey(){if(Yn===4||Yn===3){Yn=0,xh();var n=Pa,i=jl,a=Fl,c=ly;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yn=5:(Yn=0,jl=Pa=null,Ty(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Ma=null),ro(a),i=i.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(an,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=fe.T,g=Re.p,Re.p=2,fe.T=null;try{for(var m=n.onRecoverableError,b=0;b<c.length;b++){var C=c[b];m(C.value,{componentStack:C.stack})}}finally{fe.T=i,Re.p=g}}(Fl&3)!==0&&Vf(),ls(n),g=n.pendingLanes,(a&4194090)!==0&&(g&42)!==0?n===Bg?Hl++:(Hl=0,Bg=n):Hl=0,Bc(0)}}function Ty(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ic(i)))}function Vf(n){return vy(),_y(),Ey(),wy()}function wy(){if(Yn!==5)return!1;var n=Pa,i=Vg;Vg=0;var a=ro(Fl),c=fe.T,g=Re.p;try{Re.p=32>a?32:a,fe.T=null,a=Ug,Ug=null;var m=Pa,b=Fl;if(Yn=0,jl=Pa=null,Fl=0,(Ut&6)!==0)throw Error(s(331));var C=Ut;if(Ut|=4,ay(m.current),ry(m,m.current,b,a),Ut=C,Bc(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(an,m)}catch{}return!0}finally{Re.p=g,fe.T=c,Ty(n,i)}}function by(n,i,a){i=lr(a,i),i=wf(n.stateNode,i,2),n=Ps(n,i,2),n!==null&&(Hi(n,2),ls(n))}function Kt(n,i,a){if(n.tag===3)by(n,n,a);else for(;i!==null;){if(i.tag===3){by(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ma===null||!Ma.has(c))){n=lr(a,n),a=wg(2),c=Ps(i,a,2),c!==null&&(jm(a,c,i,n),Hi(c,2),ls(c));break}}i=i.return}}function qg(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new Ng;var g=new Set;c.set(i,g)}else g=c.get(i),g===void 0&&(g=new Set,c.set(i,g));g.has(a)||(Mg=!0,g.add(a),n=L_.bind(null,n,i,a),i.then(n,n))}function L_(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Yt===n&&(vt&a)===a&&(un===4||un===3&&(vt&62914560)===vt&&300>vn()-kg?(Ut&2)===0&&ql(n,0):Pg|=a,Bl===vt&&(Bl=0)),ls(n)}function Ay(n,i){i===0&&(i=Nu()),n=Eo(n,i),n!==null&&(Hi(n,i),ls(n))}function Uf(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Ay(n,a)}function k_(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,g=n.memoizedState;g!==null&&(a=g.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),Ay(n,a)}function Sy(n,i){return sa(n,i)}var Vc=null,ka=null,Bf=!1,Uc=!1,zf=!1,Va=0;function ls(n){n!==ka&&n.next===null&&(ka===null?Vc=ka=n:ka=ka.next=n),Uc=!0,Bf||(Bf=!0,Gg())}function Bc(n,i){if(!zf&&Uc){zf=!0;do for(var a=!1,c=Vc;c!==null;){if(n!==0){var g=c.pendingLanes;if(g===0)var m=0;else{var b=c.suspendedLanes,C=c.pingedLanes;m=(1<<31-Ln(42|n)+1)-1,m&=g&~(b&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Iy(c,m))}else m=vt,m=oa(c,c===Yt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Es(c,m)||(a=!0,Iy(c,m));c=c.next}while(a);zf=!1}}function V_(){zc()}function zc(){Uc=Bf=!1;var n=0;Va!==0&&(q_()&&(n=Va),Va=0);for(var i=vn(),a=null,c=Vc;c!==null;){var g=c.next,m=jc(c,i);m===0?(c.next=null,a===null?Vc=g:a.next=g,g===null&&(ka=a)):(a=c,(n!==0||(m&3)!==0)&&(Uc=!0)),c=g}Bc(n)}function jc(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,g=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var b=31-Ln(m),C=1<<b,V=g[b];V===-1?((C&a)===0||(C&c)!==0)&&(g[b]=Ou(C,i)):V<=i&&(n.expiredLanes|=C),m&=~C}if(i=Yt,a=vt,a=oa(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===i&&(Bt===2||Bt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Qn(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Es(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(c!==null&&Qn(c),ro(a)){case 2:case 8:a=ji;break;case 32:a=Kn;break;case 268435456:a=ms;break;default:a=Kn}return c=Ry.bind(null,n),a=sa(a,c),n.callbackPriority=i,n.callbackNode=a,i}return c!==null&&c!==null&&Qn(c),n.callbackPriority=2,n.callbackNode=null,2}function Ry(n,i){if(Yn!==0&&Yn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Vf()&&n.callbackNode!==a)return null;var c=vt;return c=oa(n,n===Yt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(cy(n,c,i),jc(n,vn()),n.callbackNode!=null&&n.callbackNode===a?Ry.bind(null,n):null)}function Iy(n,i){if(Vf())return null;cy(n,i,!0)}function Gg(){Q_(function(){(Ut&6)!==0?sa(Iu,V_):zc()})}function jf(){return Va===0&&(Va=Du()),Va}function Cy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:oo(""+n)}function xy(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function U_(n,i,a,c,g){if(i==="submit"&&a&&a.stateNode===g){var m=Cy((g[_n]||null).action),b=c.submitter;b&&(i=(i=b[_n]||null)?Cy(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var C=new fl("action","action",null,c,g);n.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Va!==0){var V=b?xy(g,b):new FormData(g);yc(a,{pending:!0,data:V,method:g.method,action:m},null,V)}}else typeof m=="function"&&(C.preventDefault(),V=b?xy(g,b):new FormData(g),yc(a,{pending:!0,data:V,method:g.method,action:m},m,V))},currentTarget:g}]})}}for(var Qg=0;Qg<Ot.length;Qg++){var Kg=Ot[Qg],B_=Kg.toLowerCase(),z_=Kg[0].toUpperCase()+Kg.slice(1);Ci(B_,"on"+z_)}Ci($h,"onAnimationEnd"),Ci(um,"onAnimationIteration"),Ci(Gr,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(Yh,"onTransitionRun"),Ci(w_,"onTransitionStart"),Ci(_l,"onTransitionCancel"),Ci($u,"onTransitionEnd"),ws("onMouseEnter",["mouseout","mouseover"]),ws("onMouseLeave",["mouseout","mouseover"]),ws("onPointerEnter",["pointerout","pointerover"]),ws("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fc));function Oy(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],g=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var b=c.length-1;0<=b;b--){var C=c[b],V=C.instance,re=C.currentTarget;if(C=C.listener,V!==m&&g.isPropagationStopped())break e;m=C,g.currentTarget=re;try{m(g)}catch(de){Vo(de)}g.currentTarget=null,m=V}else for(b=0;b<c.length;b++){if(C=c[b],V=C.instance,re=C.currentTarget,C=C.listener,V!==m&&g.isPropagationStopped())break e;m=C,g.currentTarget=re;try{m(g)}catch(de){Vo(de)}g.currentTarget=null,m=V}}}}function lt(n,i){var a=i[Lu];a===void 0&&(a=i[Lu]=new Set);var c=n+"__bubble";a.has(c)||(Dy(i,n,2,!1),a.add(c))}function $g(n,i,a){var c=0;i&&(c|=4),Dy(a,n,c,i)}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Yg(n){if(!n[Pr]){n[Pr]=!0,ku.forEach(function(a){a!=="selectionchange"&&(j_.has(a)||$g(a,!1,n),$g(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Pr]||(i[Pr]=!0,$g("selectionchange",!1,i))}}function Dy(n,i,a,c){switch(Xy(i)){case 2:var g=s0;break;case 8:g=Zl;break;default:g=sp}a=g.bind(null,i,a,n),g=void 0,!wr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),c?g!==void 0?n.addEventListener(i,a,{capture:!0,passive:g}):n.addEventListener(i,a,!0):g!==void 0?n.addEventListener(i,a,{passive:g}):n.addEventListener(i,a,!1)}function Gs(n,i,a,c,g){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var C=c.stateNode.containerInfo;if(C===g)break;if(b===4)for(b=c.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===g)return;b=b.return}for(;C!==null;){if(b=Ts(C),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){c=m=b;continue e}C=C.parentNode}}c=c.return}Uh(function(){var re=m,de=ii(a),me=[];e:{var ae=Yu.get(n);if(ae!==void 0){var ie=fl,ze=n;switch(n){case"keypress":if(yt(a)===0)break e;case"keydown":case"keyup":ie=ma;break;case"focusin":ze="focus",ie=fo;break;case"focusout":ze="blur",ie=fo;break;case"beforeblur":case"afterblur":ie=fo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Fh;break;case $h:case um:case Gr:ie=go;break;case $u:ie=Hh;break;case"scroll":case"scrollend":ie=Bh;break;case"wheel":ie=yl;break;case"copy":case"cut":case"paste":ie=po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=si;break;case"toggle":case"beforetoggle":ie=vo}var Be=(i&4)!==0,jt=!Be&&(n==="scroll"||n==="scrollend"),W=Be?ae!==null?ae+"Capture":null:ae;Be=[];for(var G=re,te;G!==null;){var ge=G;if(te=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||te===null||W===null||(ge=lo(G,W),ge!=null&&Be.push(Ke(G,ge,te))),jt)break;G=G.return}0<Be.length&&(ae=new ie(ae,ze,null,a,de),me.push({event:ae,listeners:Be}))}}if((i&7)===0){e:{if(ae=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",ae&&a!==Xi&&(ze=a.relatedTarget||a.fromElement)&&(Ts(ze)||ze[_r]))break e;if((ie||ae)&&(ae=de.window===de?de:(ae=de.ownerDocument)?ae.defaultView||ae.parentWindow:window,ie?(ze=a.relatedTarget||a.toElement,ie=re,ze=ze?Ts(ze):null,ze!==null&&(jt=h(ze),Be=ze.tag,ze!==jt||Be!==5&&Be!==27&&Be!==6)&&(ze=null)):(ie=null,ze=re),ie!==ze)){if(Be=Un,ge="onMouseLeave",W="onMouseEnter",G="mouse",(n==="pointerout"||n==="pointerover")&&(Be=si,ge="onPointerLeave",W="onPointerEnter",G="pointer"),jt=ie==null?ae:bi(ie),te=ze==null?ae:bi(ze),ae=new Be(ge,G+"leave",ie,a,de),ae.target=jt,ae.relatedTarget=te,ge=null,Ts(de)===re&&(Be=new Be(W,G+"enter",ze,a,de),Be.target=te,Be.relatedTarget=jt,ge=Be),jt=ge,ie&&ze)t:{for(Be=ie,W=ze,G=0,te=Be;te;te=Cn(te))G++;for(te=0,ge=W;ge;ge=Cn(ge))te++;for(;0<G-te;)Be=Cn(Be),G--;for(;0<te-G;)W=Cn(W),te--;for(;G--;){if(Be===W||W!==null&&Be===W.alternate)break t;Be=Cn(Be),W=Cn(W)}Be=null}else Be=null;ie!==null&&cn(me,ae,ie,Be,!1),ze!==null&&jt!==null&&cn(me,jt,ze,Be,!0)}}e:{if(ae=re?bi(re):window,ie=ae.nodeName&&ae.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ae.type==="file")var Oe=nm;else if(pn(ae))if(rm)Oe=__;else{Oe=va;var st=am}else ie=ae.nodeName,!ie||ie.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?re&&ju(re.elementType)&&(Oe=nm):Oe=Kh;if(Oe&&(Oe=Oe(n,re))){Hr(me,Oe,a,de);break e}st&&st(n,ae,re),n==="focusout"&&re&&ae.type==="number"&&re.memoizedProps.value!=null&&Yi(ae,"number",ae.value)}switch(st=re?bi(re):window,n){case"focusin":(pn(st)||st.contentEditable==="true")&&(vl=st,_a=re,Y=null);break;case"focusout":Y=_a=vl=null;break;case"mousedown":he=!0;break;case"contextmenu":case"mouseup":case"dragend":he=!1,oe(me,a,de);break;case"selectionchange":if(T_)break;case"keydown":case"keyup":oe(me,a,de)}var Le;if(Ji)e:{switch(n){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ct?le(n,a)&&(je="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(w&&a.locale!=="ko"&&(ct||je!=="onCompositionStart"?je==="onCompositionEnd"&&ct&&(Le=Fu()):(Zi=de,pa="value"in Zi?Zi.value:Zi.textContent,ct=!0)),st=Ff(re,je),0<st.length&&(je=new $n(je,n,null,a,de),me.push({event:je,listeners:st}),Le?je.data=Le:(Le=Ae(a),Le!==null&&(je.data=Le)))),(Le=E?An(n,a):gt(n,a))&&(je=Ff(re,"onBeforeInput"),0<je.length&&(st=new $n("onBeforeInput","beforeinput",null,a,de),me.push({event:st,listeners:je}),st.data=Le)),U_(me,n,re,a,de)}Oy(me,i)})}function Ke(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Ff(n,i){for(var a=i+"Capture",c=[];n!==null;){var g=n,m=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||m===null||(g=lo(n,a),g!=null&&c.unshift(Ke(n,g,m)),g=lo(n,i),g!=null&&c.push(Ke(n,g,m))),n.tag===3)return c;n=n.return}return[]}function Cn(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function cn(n,i,a,c,g){for(var m=i._reactName,b=[];a!==null&&a!==c;){var C=a,V=C.alternate,re=C.stateNode;if(C=C.tag,V!==null&&V===c)break;C!==5&&C!==26&&C!==27||re===null||(V=re,g?(re=lo(a,m),re!=null&&b.unshift(Ke(a,re,V))):g||(re=lo(a,m),re!=null&&b.push(Ke(a,re,V)))),a=a.return}b.length!==0&&n.push({event:i,listeners:b})}var F_=/\r\n?/g,Ua=/\u0000|\uFFFD/g;function Ny(n){return(typeof n=="string"?n:""+n).replace(F_,`
`).replace(Ua,"")}function My(n,i){return i=Ny(i),Ny(n)===i}function Hf(){}function zt(n,i,a,c,g,m){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Tr(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Tr(n,""+c);break;case"className":Ki(n,"class",c);break;case"tabIndex":Ki(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(n,a,c);break;case"style":cl(n,c,m);break;case"data":if(i!=="object"){Ki(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=oo(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&zt(n,i,"name",g.name,g,null),zt(n,i,"formEncType",g.formEncType,g,null),zt(n,i,"formMethod",g.formMethod,g,null),zt(n,i,"formTarget",g.formTarget,g,null)):(zt(n,i,"encType",g.encType,g,null),zt(n,i,"method",g.method,g,null),zt(n,i,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=oo(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=Hf);break;case"onScroll":c!=null&&lt("scroll",n);break;case"onScrollEnd":c!=null&&lt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=oo(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":lt("beforetoggle",n),lt("toggle",n),fa(n,"popover",c);break;case"xlinkActuate":kn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":fa(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=kh.get(a)||a,fa(n,a,c))}}function Xg(n,i,a,c,g,m){switch(a){case"style":cl(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof c=="string"?Tr(n,c):(typeof c=="number"||typeof c=="bigint")&&Tr(n,""+c);break;case"onScroll":c!=null&&lt("scroll",n);break;case"onScrollEnd":c!=null&&lt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Hf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),i=a.slice(2,g?a.length-7:void 0),m=n[_n]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,g),typeof c=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,c,g);break e}a in n?n[a]=c:c===!0?n.setAttribute(a,""):fa(n,a,c)}}}function xn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",n),lt("load",n);var c=!1,g=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:zt(n,i,m,b,a,null)}}g&&zt(n,i,"srcSet",a.srcSet,a,null),c&&zt(n,i,"src",a.src,a,null);return;case"input":lt("invalid",n);var C=m=b=g=null,V=null,re=null;for(c in a)if(a.hasOwnProperty(c)){var de=a[c];if(de!=null)switch(c){case"name":g=de;break;case"type":b=de;break;case"checked":V=de;break;case"defaultChecked":re=de;break;case"value":m=de;break;case"defaultValue":C=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,i));break;default:zt(n,i,c,de,a,null)}}ga(n,m,C,V,re,b,g,!1),ll(n);return;case"select":lt("invalid",n),c=b=m=null;for(g in a)if(a.hasOwnProperty(g)&&(C=a[g],C!=null))switch(g){case"value":m=C;break;case"defaultValue":b=C;break;case"multiple":c=C;default:zt(n,i,g,C,a,null)}i=m,a=b,n.multiple=!!c,i!=null?As(n,!!c,i,!1):a!=null&&As(n,!!c,a,!0);return;case"textarea":lt("invalid",n),m=g=c=null;for(b in a)if(a.hasOwnProperty(b)&&(C=a[b],C!=null))switch(b){case"value":c=C;break;case"defaultValue":g=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:zt(n,i,b,C,a,null)}Ss(n,c,g,m),ll(n);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(c=a[V],c!=null))switch(V){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:zt(n,i,V,c,a,null)}return;case"dialog":lt("beforetoggle",n),lt("toggle",n),lt("cancel",n),lt("close",n);break;case"iframe":case"object":lt("load",n);break;case"video":case"audio":for(c=0;c<Fc.length;c++)lt(Fc[c],n);break;case"image":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"embed":case"source":case"link":lt("error",n),lt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in a)if(a.hasOwnProperty(re)&&(c=a[re],c!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:zt(n,i,re,c,a,null)}return;default:if(ju(i)){for(de in a)a.hasOwnProperty(de)&&(c=a[de],c!==void 0&&Xg(n,i,de,c,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(c=a[C],c!=null&&zt(n,i,C,c,a,null))}function H_(n,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,m=null,b=null,C=null,V=null,re=null,de=null;for(ie in a){var me=a[ie];if(a.hasOwnProperty(ie)&&me!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":V=me;default:c.hasOwnProperty(ie)||zt(n,i,ie,null,c,me)}}for(var ae in c){var ie=c[ae];if(me=a[ae],c.hasOwnProperty(ae)&&(ie!=null||me!=null))switch(ae){case"type":m=ie;break;case"name":g=ie;break;case"checked":re=ie;break;case"defaultChecked":de=ie;break;case"value":b=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,i));break;default:ie!==me&&zt(n,i,ae,ie,c,me)}}Er(n,b,C,V,re,de,m,g);return;case"select":ie=b=C=ae=null;for(m in a)if(V=a[m],a.hasOwnProperty(m)&&V!=null)switch(m){case"value":break;case"multiple":ie=V;default:c.hasOwnProperty(m)||zt(n,i,m,null,c,V)}for(g in c)if(m=c[g],V=a[g],c.hasOwnProperty(g)&&(m!=null||V!=null))switch(g){case"value":ae=m;break;case"defaultValue":C=m;break;case"multiple":b=m;default:m!==V&&zt(n,i,g,m,c,V)}i=C,a=b,c=ie,ae!=null?As(n,!!a,ae,!1):!!c!=!!a&&(i!=null?As(n,!!a,i,!0):As(n,!!a,a?[]:"",!1));return;case"textarea":ie=ae=null;for(C in a)if(g=a[C],a.hasOwnProperty(C)&&g!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:zt(n,i,C,null,c,g)}for(b in c)if(g=c[b],m=a[b],c.hasOwnProperty(b)&&(g!=null||m!=null))switch(b){case"value":ae=g;break;case"defaultValue":ie=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==m&&zt(n,i,b,g,c,m)}kt(n,ae,ie);return;case"option":for(var ze in a)if(ae=a[ze],a.hasOwnProperty(ze)&&ae!=null&&!c.hasOwnProperty(ze))switch(ze){case"selected":n.selected=!1;break;default:zt(n,i,ze,null,c,ae)}for(V in c)if(ae=c[V],ie=a[V],c.hasOwnProperty(V)&&ae!==ie&&(ae!=null||ie!=null))switch(V){case"selected":n.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:zt(n,i,V,ae,c,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in a)ae=a[Be],a.hasOwnProperty(Be)&&ae!=null&&!c.hasOwnProperty(Be)&&zt(n,i,Be,null,c,ae);for(re in c)if(ae=c[re],ie=a[re],c.hasOwnProperty(re)&&ae!==ie&&(ae!=null||ie!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,i));break;default:zt(n,i,re,ae,c,ie)}return;default:if(ju(i)){for(var jt in a)ae=a[jt],a.hasOwnProperty(jt)&&ae!==void 0&&!c.hasOwnProperty(jt)&&Xg(n,i,jt,void 0,c,ae);for(de in c)ae=c[de],ie=a[de],!c.hasOwnProperty(de)||ae===ie||ae===void 0&&ie===void 0||Xg(n,i,de,ae,c,ie);return}}for(var W in a)ae=a[W],a.hasOwnProperty(W)&&ae!=null&&!c.hasOwnProperty(W)&&zt(n,i,W,null,c,ae);for(me in c)ae=c[me],ie=a[me],!c.hasOwnProperty(me)||ae===ie||ae==null&&ie==null||zt(n,i,me,ae,c,ie)}var Li=null,qf=null;function jo(n){return n.nodeType===9?n:n.ownerDocument}function rn(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sn(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Gf(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wg=null;function q_(){var n=window.event;return n&&n.type==="popstate"?n===Wg?!1:(Wg=n,!0):(Wg=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,G_=typeof clearTimeout=="function"?clearTimeout:void 0,Ly=typeof Promise=="function"?Promise:void 0,Q_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ly<"u"?function(n){return Ly.resolve(null).then(n).catch(ky)}:Py;function ky(n){setTimeout(function(){throw n})}function mi(n){return n==="head"}function Qf(n,i){var a=i,c=0,g=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<c&&8>c){a=c;var b=n.ownerDocument;if(a&1&&Hc(b.documentElement),a&2&&Hc(b.body),a&4)for(a=b.head,Hc(a),b=a.firstChild;b;){var C=b.nextSibling,V=b.nodeName;b[io]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=C}}if(g===0){n.removeChild(m),Wc(i);return}g--}else a==="$"||a==="$?"||a==="$!"?g++:c=a.charCodeAt(0)-48;else c=0;a=m}while(a);Wc(i)}function Zg(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zg(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Vy(n,i,a,c){for(;n.nodeType===1;){var g=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[io])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=ki(n.nextSibling),n===null)break}return null}function Kf(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ki(n.nextSibling),n===null))return null;return n}function dr(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Ql(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function ki(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Jg=null;function Uy(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function By(n,i,a){switch(i=jo(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Hc(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);ha(n)}var Zr=new Map,us=new Set;function We(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var cs=Re.d;Re.d={f:yi,r:zy,D:K_,C:jy,L:$f,m:$_,X:X_,S:Y_,M:W_};function yi(){var n=cs.f(),i=Lf();return n||i}function zy(n){var i=Gi(n);i!==null&&i.tag===5&&i.type==="form"?vf(i):cs.r(n)}var Kl=typeof document>"u"?null:document;function Dt(n,i,a){var c=Kl;if(c&&typeof i=="string"&&i){var g=En(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),us.has(g)||(us.add(g),n={rel:n,crossOrigin:a,href:i},c.querySelector(g)===null&&(i=c.createElement("link"),xn(i,"link",n),gn(i),c.head.appendChild(i)))}}function K_(n){cs.D(n),Dt("dns-prefetch",n,null)}function jy(n,i){cs.C(n,i),Dt("preconnect",n,i)}function $f(n,i,a){cs.L(n,i,a);var c=Kl;if(c&&n&&i){var g='link[rel="preload"][as="'+En(i)+'"]';i==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+En(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+En(a.imageSizes)+'"]')):g+='[href="'+En(n)+'"]';var m=g;switch(i){case"style":m=$l(n);break;case"script":m=Yl(n)}Zr.has(m)||(n=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Zr.set(m,n),c.querySelector(g)!==null||i==="style"&&c.querySelector(qc(m))||i==="script"&&c.querySelector(Gc(m))||(i=c.createElement("link"),xn(i,"link",n),gn(i),c.head.appendChild(i)))}}function $_(n,i){cs.m(n,i);var a=Kl;if(a&&n){var c=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+En(c)+'"][href="'+En(n)+'"]',m=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Yl(n)}if(!Zr.has(m)&&(n=A({rel:"modulepreload",href:n},i),Zr.set(m,n),a.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gc(m)))return}c=a.createElement("link"),xn(c,"link",n),gn(c),a.head.appendChild(c)}}}function Y_(n,i,a){cs.S(n,i,a);var c=Kl;if(c&&n){var g=ar(c).hoistableStyles,m=$l(n);i=i||"default";var b=g.get(m);if(!b){var C={loading:0,preload:null};if(b=c.querySelector(qc(m)))C.loading=5;else{n=A({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Zr.get(m))&&Qc(n,a);var V=b=c.createElement("link");gn(V),xn(V,"link",n),V._p=new Promise(function(re,de){V.onload=re,V.onerror=de}),V.addEventListener("load",function(){C.loading|=1}),V.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Yf(b,i,c)}b={type:"stylesheet",instance:b,count:1,state:C},g.set(m,b)}}}function X_(n,i){cs.X(n,i);var a=Kl;if(a&&n){var c=ar(a).hoistableScripts,g=Yl(n),m=c.get(g);m||(m=a.querySelector(Gc(g)),m||(n=A({src:n,async:!0},i),(i=Zr.get(g))&&ep(n,i),m=a.createElement("script"),gn(m),xn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(g,m))}}function W_(n,i){cs.M(n,i);var a=Kl;if(a&&n){var c=ar(a).hoistableScripts,g=Yl(n),m=c.get(g);m||(m=a.querySelector(Gc(g)),m||(n=A({src:n,async:!0,type:"module"},i),(i=Zr.get(g))&&ep(n,i),m=a.createElement("script"),gn(m),xn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(g,m))}}function Fy(n,i,a,c){var g=(g=He.current)?We(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=$l(a.href),a=ar(g).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=$l(a.href);var m=ar(g).hoistableStyles,b=m.get(n);if(b||(g=g.ownerDocument||g,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,b),(m=g.querySelector(qc(n)))&&!m._p&&(b.instance=m,b.state.loading=5),Zr.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zr.set(n,a),m||Z_(g,n,a,b.state))),i&&c===null)throw Error(s(528,""));return b}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Yl(a),a=ar(g).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function $l(n){return'href="'+En(n)+'"'}function qc(n){return'link[rel="stylesheet"]['+n+"]"}function Hy(n){return A({},n,{"data-precedence":n.precedence,precedence:null})}function Z_(n,i,a,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),xn(i,"link",a),gn(i),n.head.appendChild(i))}function Yl(n){return'[src="'+En(n)+'"]'}function Gc(n){return"script[async]"+n}function qy(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+En(a.href)+'"]');if(c)return i.instance=c,gn(c),c;var g=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),gn(c),xn(c,"style",g),Yf(c,a.precedence,n),i.instance=c;case"stylesheet":g=$l(a.href);var m=n.querySelector(qc(g));if(m)return i.state.loading|=4,i.instance=m,gn(m),m;c=Hy(a),(g=Zr.get(g))&&Qc(c,g),m=(n.ownerDocument||n).createElement("link"),gn(m);var b=m;return b._p=new Promise(function(C,V){b.onload=C,b.onerror=V}),xn(m,"link",c),i.state.loading|=4,Yf(m,a.precedence,n),i.instance=m;case"script":return m=Yl(a.src),(g=n.querySelector(Gc(m)))?(i.instance=g,gn(g),g):(c=a,(g=Zr.get(m))&&(c=A({},a),ep(c,g)),n=n.ownerDocument||n,g=n.createElement("script"),gn(g),xn(g,"link",c),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Yf(c,a.precedence,n));return i.instance}function Yf(n,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,m=g,b=0;b<c.length;b++){var C=c[b];if(C.dataset.precedence===i)m=C;else if(m!==g)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Qc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function ep(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Xl=null;function Gy(n,i,a){if(Xl===null){var c=new Map,g=Xl=new Map;g.set(a,c)}else g=Xl,c=g.get(a),c||(c=new Map,g.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),g=0;g<a.length;g++){var m=a[g];if(!(m[io]||m[dn]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=n+b;var C=c.get(b);C?C.push(m):c.set(b,[m])}}return c}function Qy(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function J_(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function On(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Hn=null;function e0(){}function t0(n,i,a){if(Hn===null)throw Error(s(475));var c=Hn;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=$l(a.href),m=n.querySelector(qc(g));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Kc.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=m,gn(m);return}m=n.ownerDocument||n,a=Hy(a),(g=Zr.get(g))&&Qc(a,g),m=m.createElement("link"),gn(m);var b=m;b._p=new Promise(function(C,V){b.onload=C,b.onerror=V}),xn(m,"link",a),i.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Kc.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function n0(){if(Hn===null)throw Error(s(475));var n=Hn;return n.stylesheets&&n.count===0&&tp(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&tp(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)tp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xf=null;function tp(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xf=new Map,i.forEach(r0,n),Xf=null,Kc.call(n))}function r0(n,i){if(!(i.state.loading&4)){var a=Xf.get(n);if(a)var c=a.get(null);else{a=new Map,Xf.set(n,a);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<g.length;m++){var b=g[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),c=b)}c&&a.set(null,c)}g=i.instance,b=g.getAttribute("data-precedence"),m=a.get(b)||c,m===c&&a.set(null,g),a.set(b,g),this.count++,c=Kc.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),m?m.parentNode.insertBefore(g,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var Wl={$$typeof:se,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function i0(n,i,a,c,g,m,b,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.hiddenUpdates=Fi(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Ky(n,i,a,c,g,m,b,C,V,re,de,me){return n=new i0(n,i,a,b,C,V,re,me),i=1,m===!0&&(i|=24),m=Ar(3,null,null,i),n.current=m,m.stateNode=n,i=Yd(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:a,cache:i},Co(m),n}function $y(n){return n?(n=To,n):To}function np(n,i,a,c,g,m){g=$y(g),c.context===null?c.context=g:c.pendingContext=g,c=ba(i),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=Ps(n,c,i),a!==null&&(Wr(a,n,i),ac(a,n,i))}function rp(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function ip(n,i){rp(n,i),(n=n.alternate)&&rp(n,i)}function Yy(n){if(n.tag===13){var i=Eo(n,67108864);i!==null&&Wr(i,n,67108864),ip(n,67108864)}}var Wf=!0;function s0(n,i,a,c){var g=fe.T;fe.T=null;var m=Re.p;try{Re.p=2,sp(n,i,a,c)}finally{Re.p=m,fe.T=g}}function Zl(n,i,a,c){var g=fe.T;fe.T=null;var m=Re.p;try{Re.p=8,sp(n,i,a,c)}finally{Re.p=m,fe.T=g}}function sp(n,i,a,c){if(Wf){var g=ap(c);if(g===null)Gs(n,i,c,Zf,a),Wy(n,c);else if(o0(g,n,i,a,c))c.stopPropagation();else if(Wy(n,c),i&4&&-1<a0.indexOf(n)){for(;g!==null;){var m=Gi(g);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Fr(m.pendingLanes);if(b!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var V=1<<31-Ln(b);C.entanglements[1]|=V,b&=~V}ls(m),(Ut&6)===0&&(zl=vn()+500,Bc(0))}}break;case 13:C=Eo(m,2),C!==null&&Wr(C,m,2),Lf(),ip(m,2)}if(m=ap(c),m===null&&Gs(n,i,c,Zf,a),m===g)break;g=m}g!==null&&c.stopPropagation()}else Gs(n,i,c,null,a)}}function ap(n){return n=ii(n),op(n)}var Zf=null;function op(n){if(Zf=null,n=Ts(n),n!==null){var i=h(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=d(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Zf=n,null}function Xy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oh()){case Iu:return 2;case ji:return 8;case Kn:case no:return 32;case ms:return 268435456;default:return 32}default:return 32}}var Jf=!1,Qs=null,Ba=null,za=null,$c=new Map,Yc=new Map,ja=[],a0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wy(n,i){switch(n){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":$c.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(i.pointerId)}}function Xc(n,i,a,c,g,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[g]},i!==null&&(i=Gi(i),i!==null&&Yy(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function o0(n,i,a,c,g){switch(i){case"focusin":return Qs=Xc(Qs,n,i,a,c,g),!0;case"dragenter":return Ba=Xc(Ba,n,i,a,c,g),!0;case"mouseover":return za=Xc(za,n,i,a,c,g),!0;case"pointerover":var m=g.pointerId;return $c.set(m,Xc($c.get(m)||null,n,i,a,c,g)),!0;case"gotpointercapture":return m=g.pointerId,Yc.set(m,Xc(Yc.get(m)||null,n,i,a,c,g)),!0}return!1}function Zy(n){var i=Ts(n.target);if(i!==null){var a=h(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){n.blockedOn=i,Dh(n.priority,function(){if(a.tag===13){var c=ir();c=la(c);var g=Eo(a,c);g!==null&&Wr(g,a,c),ip(a,c)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ed(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=ap(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Xi=c,a.target.dispatchEvent(c),Xi=null}else return i=Gi(a),i!==null&&Yy(i),n.blockedOn=a,!1;i.shift()}return!0}function Jy(n,i,a){ed(n)&&a.delete(i)}function l0(){Jf=!1,Qs!==null&&ed(Qs)&&(Qs=null),Ba!==null&&ed(Ba)&&(Ba=null),za!==null&&ed(za)&&(za=null),$c.forEach(Jy),Yc.forEach(Jy)}function td(n,i){n.blockedOn===i&&(n.blockedOn=null,Jf||(Jf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,l0)))}var nd=null;function ev(n){nd!==n&&(nd=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nd===n&&(nd=null);for(var i=0;i<n.length;i+=3){var a=n[i],c=n[i+1],g=n[i+2];if(typeof c!="function"){if(op(c||a)===null)continue;break}var m=Gi(a);m!==null&&(n.splice(i,3),i-=3,yc(m,{pending:!0,data:g,method:a.method,action:c},c,g))}}))}function Wc(n){function i(V){return td(V,n)}Qs!==null&&td(Qs,n),Ba!==null&&td(Ba,n),za!==null&&td(za,n),$c.forEach(i),Yc.forEach(i);for(var a=0;a<ja.length;a++){var c=ja[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<ja.length&&(a=ja[0],a.blockedOn===null);)Zy(a),a.blockedOn===null&&ja.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var g=a[c],m=a[c+1],b=g[_n]||null;if(typeof m=="function")b||ev(a);else if(b){var C=null;if(m&&m.hasAttribute("formAction")){if(g=m,b=m[_n]||null)C=b.formAction;else if(op(g)!==null)continue}else C=b.action;typeof C=="function"?a[c+1]=C:(a.splice(c,3),c-=3),ev(a)}}}function lp(n){this._internalRoot=n}rd.prototype.render=lp.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,c=ir();np(a,c,n,i,null,null)},rd.prototype.unmount=lp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;np(n.current,2,null,n,null,null),Lf(),i[_r]=null}};function rd(n){this._internalRoot=n}rd.prototype.unstable_scheduleHydration=function(n){if(n){var i=ua();n={blockedOn:null,target:n,priority:i};for(var a=0;a<ja.length&&i!==0&&i<ja[a].priority;a++);ja.splice(a,0,n),a===0&&Zy(n)}};var tv=e.version;if(tv!=="19.1.0")throw Error(s(527,tv,"19.1.0"));Re.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=v(i),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var u0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:fe,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{an=id.inject(u0),wt=id}catch{}}return cp.createRoot=function(n,i){if(!l(n))throw Error(s(299));var a=!1,c="",g=Tg,m=Tf,b=zm,C=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=Ky(n,1,!1,null,null,a,c,g,m,b,C,null),n[_r]=i.current,Yg(n),new lp(i)},cp.hydrateRoot=function(n,i,a){if(!l(n))throw Error(s(299));var c=!1,g="",m=Tg,b=Tf,C=zm,V=null,re=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(V=a.unstable_transitionCallbacks),a.formState!==void 0&&(re=a.formState)),i=Ky(n,1,!0,i,a??null,c,g,m,b,C,V,re),i.context=$y(null),a=i.current,c=ir(),c=la(c),g=ba(c),g.callback=null,Ps(a,g,c),a=c,i.current.lanes=a,Hi(i,a),ls(i),n[_r]=i.current,Yg(n),new rd(i)},cp.version="19.1.0",cp}var zT;function aI(){if(zT)return m0.exports;zT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),m0.exports=sI(),m0.exports}var oI=aI(),hp={},jT;function lI(){if(jT)return hp;jT=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.parse=d,hp.serialize=_;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,h=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function d(x,L){const z=new h,X=x.length;if(X<2)return z;const H=(L==null?void 0:L.decode)||A;let ne=0;do{const ce=x.indexOf("=",ne);if(ce===-1)break;const se=x.indexOf(";",ne),Ee=se===-1?X:se;if(ce>Ee){ne=x.lastIndexOf(";",ce-1)+1;continue}const we=y(x,ne,ce),Ie=v(x,ce,we),j=x.slice(we,Ie);if(z[j]===void 0){let N=y(x,ce+1,Ee),M=v(x,Ee,N);const F=H(x.slice(N,M));z[j]=F}ne=Ee+1}while(ne<X);return z}function y(x,L,z){do{const X=x.charCodeAt(L);if(X!==32&&X!==9)return L}while(++L<z);return z}function v(x,L,z){for(;L>z;){const X=x.charCodeAt(--L);if(X!==32&&X!==9)return L+1}return z}function _(x,L,z){const X=(z==null?void 0:z.encode)||encodeURIComponent;if(!r.test(x))throw new TypeError(`argument name is invalid: ${x}`);const H=X(L);if(!e.test(H))throw new TypeError(`argument val is invalid: ${L}`);let ne=x+"="+H;if(!z)return ne;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);ne+="; Max-Age="+z.maxAge}if(z.domain){if(!t.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);ne+="; Domain="+z.domain}if(z.path){if(!s.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);ne+="; Path="+z.path}if(z.expires){if(!R(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);ne+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(ne+="; HttpOnly"),z.secure&&(ne+="; Secure"),z.partitioned&&(ne+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":ne+="; Priority=Low";break;case"medium":ne+="; Priority=Medium";break;case"high":ne+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":ne+="; SameSite=Strict";break;case"lax":ne+="; SameSite=Lax";break;case"none":ne+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return ne}function A(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function R(x){return l.call(x)==="[object Date]"}return hp}lI();var FT="popstate";function uI(r={}){function e(l,h){let{pathname:d="/",search:y="",hash:v=""}=_h(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),V0("",{pathname:d,search:y,hash:v},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function t(l,h){let d=l.document.querySelector("base"),y="";if(d&&d.getAttribute("href")){let v=l.location.href,_=v.indexOf("#");y=_===-1?v:v.slice(0,_)}return y+"#"+(typeof h=="string"?h:Rp(h))}function s(l,h){ta(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(h)})`)}return hI(e,t,s,r)}function mn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ta(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cI(){return Math.random().toString(36).substring(2,10)}function HT(r,e){return{usr:r.state,key:r.key,idx:e}}function V0(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?_h(e):e,state:t,key:e&&e.key||s||cI()}}function Rp({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function _h(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function hI(r,e,t,s={}){let{window:l=document.defaultView,v5Compat:h=!1}=s,d=l.history,y="POP",v=null,_=A();_==null&&(_=0,d.replaceState({...d.state,idx:_},""));function A(){return(d.state||{idx:null}).idx}function R(){y="POP";let H=A(),ne=H==null?null:H-_;_=H,v&&v({action:y,location:X.location,delta:ne})}function x(H,ne){y="PUSH";let ce=V0(X.location,H,ne);t&&t(ce,H),_=A()+1;let se=HT(ce,_),Ee=X.createHref(ce);try{d.pushState(se,"",Ee)}catch(we){if(we instanceof DOMException&&we.name==="DataCloneError")throw we;l.location.assign(Ee)}h&&v&&v({action:y,location:X.location,delta:1})}function L(H,ne){y="REPLACE";let ce=V0(X.location,H,ne);t&&t(ce,H),_=A();let se=HT(ce,_),Ee=X.createHref(ce);d.replaceState(se,"",Ee),h&&v&&v({action:y,location:X.location,delta:0})}function z(H){return fI(H)}let X={get action(){return y},get location(){return r(l,d)},listen(H){if(v)throw new Error("A history only accepts one active listener");return l.addEventListener(FT,R),v=H,()=>{l.removeEventListener(FT,R),v=null}},createHref(H){return e(l,H)},createURL:z,encodeLocation(H){let ne=z(H);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:x,replace:L,go(H){return d.go(H)}};return X}function fI(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mn(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Rp(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Yw(r,e,t="/"){return dI(r,e,t,!1)}function dI(r,e,t,s){let l=typeof e=="string"?_h(e):e,h=Wo(l.pathname||"/",t);if(h==null)return null;let d=Xw(r);gI(d);let y=null;for(let v=0;y==null&&v<d.length;++v){let _=SI(h);y=bI(d[v],_,s)}return y}function Xw(r,e=[],t=[],s=""){let l=(h,d,y)=>{let v={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};v.relativePath.startsWith("/")&&(mn(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length));let _=Yo([s,v.relativePath]),A=t.concat(v);h.children&&h.children.length>0&&(mn(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Xw(h.children,e,A,_)),!(h.path==null&&!h.index)&&e.push({path:_,score:TI(_,h.index),routesMeta:A})};return r.forEach((h,d)=>{var y;if(h.path===""||!((y=h.path)!=null&&y.includes("?")))l(h,d);else for(let v of Ww(h.path))l(h,d,v)}),e}function Ww(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,l=t.endsWith("?"),h=t.replace(/\?$/,"");if(s.length===0)return l?[h,""]:[h];let d=Ww(s.join("/")),y=[];return y.push(...d.map(v=>v===""?h:[h,v].join("/"))),l&&y.push(...d),y.map(v=>r.startsWith("/")&&v===""?"/":v)}function gI(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:wI(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var pI=/^:[\w-]+$/,mI=3,yI=2,vI=1,_I=10,EI=-2,qT=r=>r==="*";function TI(r,e){let t=r.split("/"),s=t.length;return t.some(qT)&&(s+=EI),e&&(s+=yI),t.filter(l=>!qT(l)).reduce((l,h)=>l+(pI.test(h)?mI:h===""?vI:_I),s)}function wI(r,e){return r.length===e.length&&r.slice(0,-1).every((s,l)=>s===e[l])?r[r.length-1]-e[e.length-1]:0}function bI(r,e,t=!1){let{routesMeta:s}=r,l={},h="/",d=[];for(let y=0;y<s.length;++y){let v=s[y],_=y===s.length-1,A=h==="/"?e:e.slice(h.length)||"/",R=Av({path:v.relativePath,caseSensitive:v.caseSensitive,end:_},A),x=v.route;if(!R&&_&&t&&!s[s.length-1].route.index&&(R=Av({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},A)),!R)return null;Object.assign(l,R.params),d.push({params:l,pathname:Yo([h,R.pathname]),pathnameBase:xI(Yo([h,R.pathnameBase])),route:x}),R.pathnameBase!=="/"&&(h=Yo([h,R.pathnameBase]))}return d}function Av(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=AI(r.path,r.caseSensitive,r.end),l=e.match(t);if(!l)return null;let h=l[0],d=h.replace(/(.)\/+$/,"$1"),y=l.slice(1);return{params:s.reduce((_,{paramName:A,isOptional:R},x)=>{if(A==="*"){let z=y[x]||"";d=h.slice(0,h.length-z.length).replace(/(.)\/+$/,"$1")}const L=y[x];return R&&!L?_[A]=void 0:_[A]=(L||"").replace(/%2F/g,"/"),_},{}),pathname:h,pathnameBase:d,pattern:r}}function AI(r,e=!1,t=!0){ta(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,y,v)=>(s.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function SI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ta(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Wo(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function RI(r,e="/"){let{pathname:t,search:s="",hash:l=""}=typeof r=="string"?_h(r):r;return{pathname:t?t.startsWith("/")?t:II(t,e):e,search:OI(s),hash:DI(l)}}function II(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function E0(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CI(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Zw(r){let e=CI(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Jw(r,e,t,s=!1){let l;typeof r=="string"?l=_h(r):(l={...r},mn(!l.pathname||!l.pathname.includes("?"),E0("?","pathname","search",l)),mn(!l.pathname||!l.pathname.includes("#"),E0("#","pathname","hash",l)),mn(!l.search||!l.search.includes("#"),E0("#","search","hash",l)));let h=r===""||l.pathname==="",d=h?"/":l.pathname,y;if(d==null)y=t;else{let R=e.length-1;if(!s&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),R-=1;l.pathname=x.join("/")}y=R>=0?e[R]:"/"}let v=RI(l,y),_=d&&d!=="/"&&d.endsWith("/"),A=(h||d===".")&&t.endsWith("/");return!v.pathname.endsWith("/")&&(_||A)&&(v.pathname+="/"),v}var Yo=r=>r.join("/").replace(/\/\/+/g,"/"),xI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),OI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,DI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function NI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var eb=["POST","PUT","PATCH","DELETE"];new Set(eb);var MI=["GET",...eb];new Set(MI);var Pd=ee.createContext(null);Pd.displayName="DataRouter";var Yv=ee.createContext(null);Yv.displayName="DataRouterState";var tb=ee.createContext({isTransitioning:!1});tb.displayName="ViewTransition";var PI=ee.createContext(new Map);PI.displayName="Fetchers";var LI=ee.createContext(null);LI.displayName="Await";var eo=ee.createContext(null);eo.displayName="Navigation";var Fp=ee.createContext(null);Fp.displayName="Location";var to=ee.createContext({outlet:null,matches:[],isDataRoute:!1});to.displayName="Route";var RE=ee.createContext(null);RE.displayName="RouteError";function kI(r,{relative:e}={}){mn(Hp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=ee.useContext(eo),{hash:l,pathname:h,search:d}=qp(r,{relative:e}),y=h;return t!=="/"&&(y=h==="/"?t:Yo([t,h])),s.createHref({pathname:y,search:d,hash:l})}function Hp(){return ee.useContext(Fp)!=null}function Eh(){return mn(Hp(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(Fp).location}var nb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rb(r){ee.useContext(eo).static||ee.useLayoutEffect(r)}function Xv(){let{isDataRoute:r}=ee.useContext(to);return r?XI():VI()}function VI(){mn(Hp(),"useNavigate() may be used only in the context of a <Router> component.");let r=ee.useContext(Pd),{basename:e,navigator:t}=ee.useContext(eo),{matches:s}=ee.useContext(to),{pathname:l}=Eh(),h=JSON.stringify(Zw(s)),d=ee.useRef(!1);return rb(()=>{d.current=!0}),ee.useCallback((v,_={})=>{if(ta(d.current,nb),!d.current)return;if(typeof v=="number"){t.go(v);return}let A=Jw(v,JSON.parse(h),l,_.relative==="path");r==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Yo([e,A.pathname])),(_.replace?t.replace:t.push)(A,_.state,_)},[e,t,h,l,r])}ee.createContext(null);function UI(){let{matches:r}=ee.useContext(to),e=r[r.length-1];return e?e.params:{}}function qp(r,{relative:e}={}){let{matches:t}=ee.useContext(to),{pathname:s}=Eh(),l=JSON.stringify(Zw(t));return ee.useMemo(()=>Jw(r,JSON.parse(l),s,e==="path"),[r,l,s,e])}function BI(r,e){return ib(r,e)}function ib(r,e,t,s){var ce;mn(Hp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:h}=ee.useContext(eo),{matches:d}=ee.useContext(to),y=d[d.length-1],v=y?y.params:{},_=y?y.pathname:"/",A=y?y.pathnameBase:"/",R=y&&y.route;{let se=R&&R.path||"";sb(_,!R||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let x=Eh(),L;if(e){let se=typeof e=="string"?_h(e):e;mn(A==="/"||((ce=se.pathname)==null?void 0:ce.startsWith(A)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${se.pathname}" was given in the \`location\` prop.`),L=se}else L=x;let z=L.pathname||"/",X=z;if(A!=="/"){let se=A.replace(/^\//,"").split("/");X="/"+z.replace(/^\//,"").split("/").slice(se.length).join("/")}let H=!h&&t&&t.matches&&t.matches.length>0?t.matches:Yw(r,{pathname:X});ta(R||H!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),ta(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=qI(H&&H.map(se=>Object.assign({},se,{params:Object.assign({},v,se.params),pathname:Yo([A,l.encodeLocation?l.encodeLocation(se.pathname).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?A:Yo([A,l.encodeLocation?l.encodeLocation(se.pathnameBase).pathname:se.pathnameBase])})),d,t,s);return e&&ne?ee.createElement(Fp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},ne):ne}function zI(){let r=YI(),e=NI(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=ee.createElement(ee.Fragment,null,ee.createElement("p",null," Hey developer "),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:h},"ErrorBoundary")," or"," ",ee.createElement("code",{style:h},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),t?ee.createElement("pre",{style:l},t):null,d)}var jI=ee.createElement(zI,null),FI=class extends ee.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?ee.createElement(to.Provider,{value:this.props.routeContext},ee.createElement(RE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HI({routeContext:r,match:e,children:t}){let s=ee.useContext(Pd);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),ee.createElement(to.Provider,{value:r},t)}function qI(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,h=t==null?void 0:t.errors;if(h!=null){let v=l.findIndex(_=>_.route.id&&(h==null?void 0:h[_.route.id])!==void 0);mn(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,y=-1;if(t)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(y=v),_.route.id){let{loaderData:A,errors:R}=t,x=_.route.loader&&!A.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||x){d=!0,y>=0?l=l.slice(0,y+1):l=[l[0]];break}}}return l.reduceRight((v,_,A)=>{let R,x=!1,L=null,z=null;t&&(R=h&&_.route.id?h[_.route.id]:void 0,L=_.route.errorElement||jI,d&&(y<0&&A===0?(sb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,z=null):y===A&&(x=!0,z=_.route.hydrateFallbackElement||null)));let X=e.concat(l.slice(0,A+1)),H=()=>{let ne;return R?ne=L:x?ne=z:_.route.Component?ne=ee.createElement(_.route.Component,null):_.route.element?ne=_.route.element:ne=v,ee.createElement(HI,{match:_,routeContext:{outlet:v,matches:X,isDataRoute:t!=null},children:ne})};return t&&(_.route.ErrorBoundary||_.route.errorElement||A===0)?ee.createElement(FI,{location:t.location,revalidation:t.revalidation,component:L,error:R,children:H(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):H()},null)}function IE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GI(r){let e=ee.useContext(Pd);return mn(e,IE(r)),e}function QI(r){let e=ee.useContext(Yv);return mn(e,IE(r)),e}function KI(r){let e=ee.useContext(to);return mn(e,IE(r)),e}function CE(r){let e=KI(r),t=e.matches[e.matches.length-1];return mn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function $I(){return CE("useRouteId")}function YI(){var s;let r=ee.useContext(RE),e=QI("useRouteError"),t=CE("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function XI(){let{router:r}=GI("useNavigate"),e=CE("useNavigate"),t=ee.useRef(!1);return rb(()=>{t.current=!0}),ee.useCallback(async(l,h={})=>{ta(t.current,nb),t.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:e,...h}))},[r,e])}var GT={};function sb(r,e,t){!e&&!GT[r]&&(GT[r]=!0,ta(!1,t))}ee.memo(WI);function WI({routes:r,future:e,state:t}){return ib(r,void 0,t,e)}function Zc(r){mn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZI({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:l,static:h=!1}){mn(!Hp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),y=ee.useMemo(()=>({basename:d,navigator:l,static:h,future:{}}),[d,l,h]);typeof t=="string"&&(t=_h(t));let{pathname:v="/",search:_="",hash:A="",state:R=null,key:x="default"}=t,L=ee.useMemo(()=>{let z=Wo(v,d);return z==null?null:{location:{pathname:z,search:_,hash:A,state:R,key:x},navigationType:s}},[d,v,_,A,R,x,s]);return ta(L!=null,`<Router basename="${d}"> is not able to match the URL "${v}${_}${A}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:ee.createElement(eo.Provider,{value:y},ee.createElement(Fp.Provider,{children:e,value:L}))}function JI({children:r,location:e}){return BI(U0(r),e)}function U0(r,e=[]){let t=[];return ee.Children.forEach(r,(s,l)=>{if(!ee.isValidElement(s))return;let h=[...e,l];if(s.type===ee.Fragment){t.push.apply(t,U0(s.props.children,h));return}mn(s.type===Zc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=U0(s.props.children,h)),t.push(d)}),t}var fv="get",dv="application/x-www-form-urlencoded";function Wv(r){return r!=null&&typeof r.tagName=="string"}function eC(r){return Wv(r)&&r.tagName.toLowerCase()==="button"}function tC(r){return Wv(r)&&r.tagName.toLowerCase()==="form"}function nC(r){return Wv(r)&&r.tagName.toLowerCase()==="input"}function rC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function iC(r,e){return r.button===0&&(!e||e==="_self")&&!rC(r)}var iv=null;function sC(){if(iv===null)try{new FormData(document.createElement("form"),0),iv=!1}catch{iv=!0}return iv}var aC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function T0(r){return r!=null&&!aC.has(r)?(ta(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dv}"`),null):r}function oC(r,e){let t,s,l,h,d;if(tC(r)){let y=r.getAttribute("action");s=y?Wo(y,e):null,t=r.getAttribute("method")||fv,l=T0(r.getAttribute("enctype"))||dv,h=new FormData(r)}else if(eC(r)||nC(r)&&(r.type==="submit"||r.type==="image")){let y=r.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||y.getAttribute("action");if(s=v?Wo(v,e):null,t=r.getAttribute("formmethod")||y.getAttribute("method")||fv,l=T0(r.getAttribute("formenctype"))||T0(y.getAttribute("enctype"))||dv,h=new FormData(y,r),!sC()){let{name:_,type:A,value:R}=r;if(A==="image"){let x=_?`${_}.`:"";h.append(`${x}x`,"0"),h.append(`${x}y`,"0")}else _&&h.append(_,R)}}else{if(Wv(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fv,s=null,l=dv,d=r}return h&&l==="text/plain"&&(d=h,h=void 0),{action:s,method:t.toLowerCase(),encType:l,formData:h,body:d}}function xE(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function lC(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uC(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function cC(r,e,t){let s=await Promise.all(r.map(async l=>{let h=e.routes[l.route.id];if(h){let d=await lC(h,t);return d.links?d.links():[]}return[]}));return gC(s.flat(1).filter(uC).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function QT(r,e,t,s,l,h){let d=(v,_)=>t[_]?v.route.id!==t[_].route.id:!0,y=(v,_)=>{var A;return t[_].pathname!==v.pathname||((A=t[_].route.path)==null?void 0:A.endsWith("*"))&&t[_].params["*"]!==v.params["*"]};return h==="assets"?e.filter((v,_)=>d(v,_)||y(v,_)):h==="data"?e.filter((v,_)=>{var R;let A=s.routes[v.route.id];if(!A||!A.hasLoader)return!1;if(d(v,_)||y(v,_))return!0;if(v.route.shouldRevalidate){let x=v.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((R=t[0])==null?void 0:R.params)||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function hC(r,e,{includeHydrateFallback:t}={}){return fC(r.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function fC(r){return[...new Set(r)]}function dC(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function gC(r,e){let t=new Set;return new Set(e),r.reduce((s,l)=>{let h=JSON.stringify(dC(l));return t.has(h)||(t.add(h),s.push({key:h,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pC=new Set([100,101,204,205]);function mC(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Wo(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ab(){let r=ee.useContext(Pd);return xE(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function yC(){let r=ee.useContext(Yv);return xE(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var OE=ee.createContext(void 0);OE.displayName="FrameworkContext";function ob(){let r=ee.useContext(OE);return xE(r,"You must render this element inside a <HydratedRouter> element"),r}function vC(r,e){let t=ee.useContext(OE),[s,l]=ee.useState(!1),[h,d]=ee.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:_,onMouseLeave:A,onTouchStart:R}=e,x=ee.useRef(null);ee.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let X=ne=>{ne.forEach(ce=>{d(ce.isIntersecting)})},H=new IntersectionObserver(X,{threshold:.5});return x.current&&H.observe(x.current),()=>{H.disconnect()}}},[r]),ee.useEffect(()=>{if(s){let X=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(X)}}},[s]);let L=()=>{l(!0)},z=()=>{l(!1),d(!1)};return t?r!=="intent"?[h,x,{}]:[h,x,{onFocus:fp(y,L),onBlur:fp(v,z),onMouseEnter:fp(_,L),onMouseLeave:fp(A,z),onTouchStart:fp(R,L)}]:[!1,x,{}]}function fp(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function _C({page:r,...e}){let{router:t}=ab(),s=ee.useMemo(()=>Yw(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?ee.createElement(TC,{page:r,matches:s,...e}):null}function EC(r){let{manifest:e,routeModules:t}=ob(),[s,l]=ee.useState([]);return ee.useEffect(()=>{let h=!1;return cC(r,e,t).then(d=>{h||l(d)}),()=>{h=!0}},[r,e,t]),s}function TC({page:r,matches:e,...t}){let s=Eh(),{manifest:l,routeModules:h}=ob(),{basename:d}=ab(),{loaderData:y,matches:v}=yC(),_=ee.useMemo(()=>QT(r,e,v,l,s,"data"),[r,e,v,l,s]),A=ee.useMemo(()=>QT(r,e,v,l,s,"assets"),[r,e,v,l,s]),R=ee.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,X=!1;if(e.forEach(ne=>{var se;let ce=l.routes[ne.route.id];!ce||!ce.hasLoader||(!_.some(Ee=>Ee.route.id===ne.route.id)&&ne.route.id in y&&((se=h[ne.route.id])!=null&&se.shouldRevalidate)||ce.hasClientLoader?X=!0:z.add(ne.route.id))}),z.size===0)return[];let H=mC(r,d);return X&&z.size>0&&H.searchParams.set("_routes",e.filter(ne=>z.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[H.pathname+H.search]},[d,y,s,l,_,e,r,h]),x=ee.useMemo(()=>hC(A,l),[A,l]),L=EC(A);return ee.createElement(ee.Fragment,null,R.map(z=>ee.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),x.map(z=>ee.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),L.map(({key:z,link:X})=>ee.createElement("link",{key:z,...X})))}function wC(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lb&&(window.__reactRouterVersion="7.6.0")}catch{}function bC({basename:r,children:e,window:t}){let s=ee.useRef();s.current==null&&(s.current=uI({window:t,v5Compat:!0}));let l=s.current,[h,d]=ee.useState({action:l.action,location:l.location}),y=ee.useCallback(v=>{ee.startTransition(()=>d(v))},[d]);return ee.useLayoutEffect(()=>l.listen(y),[l,y]),ee.createElement(ZI,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:l})}var ub=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qo=ee.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:l,reloadDocument:h,replace:d,state:y,target:v,to:_,preventScrollReset:A,viewTransition:R,...x},L){let{basename:z}=ee.useContext(eo),X=typeof _=="string"&&ub.test(_),H,ne=!1;if(typeof _=="string"&&X&&(H=_,lb))try{let M=new URL(window.location.href),F=_.startsWith("//")?new URL(M.protocol+_):new URL(_),Q=Wo(F.pathname,z);F.origin===M.origin&&Q!=null?_=Q+F.search+F.hash:ne=!0}catch{ta(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ce=kI(_,{relative:l}),[se,Ee,we]=vC(s,x),Ie=IC(_,{replace:d,state:y,target:v,preventScrollReset:A,relative:l,viewTransition:R});function j(M){e&&e(M),M.defaultPrevented||Ie(M)}let N=ee.createElement("a",{...x,...we,href:H||ce,onClick:ne||h?e:j,ref:wC(L,Ee),target:v,"data-discover":!X&&t==="render"?"true":void 0});return se&&!X?ee.createElement(ee.Fragment,null,N,ee.createElement(_C,{page:ce})):N});Qo.displayName="Link";var AC=ee.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:l=!1,style:h,to:d,viewTransition:y,children:v,..._},A){let R=qp(d,{relative:_.relative}),x=Eh(),L=ee.useContext(Yv),{navigator:z,basename:X}=ee.useContext(eo),H=L!=null&&NC(R)&&y===!0,ne=z.encodeLocation?z.encodeLocation(R).pathname:R.pathname,ce=x.pathname,se=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;t||(ce=ce.toLowerCase(),se=se?se.toLowerCase():null,ne=ne.toLowerCase()),se&&X&&(se=Wo(se,X)||se);const Ee=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let we=ce===ne||!l&&ce.startsWith(ne)&&ce.charAt(Ee)==="/",Ie=se!=null&&(se===ne||!l&&se.startsWith(ne)&&se.charAt(ne.length)==="/"),j={isActive:we,isPending:Ie,isTransitioning:H},N=we?e:void 0,M;typeof s=="function"?M=s(j):M=[s,we?"active":null,Ie?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let F=typeof h=="function"?h(j):h;return ee.createElement(Qo,{..._,"aria-current":N,className:M,ref:A,style:F,to:d,viewTransition:y},typeof v=="function"?v(j):v)});AC.displayName="NavLink";var SC=ee.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:l,state:h,method:d=fv,action:y,onSubmit:v,relative:_,preventScrollReset:A,viewTransition:R,...x},L)=>{let z=OC(),X=DC(y,{relative:_}),H=d.toLowerCase()==="get"?"get":"post",ne=typeof y=="string"&&ub.test(y),ce=se=>{if(v&&v(se),se.defaultPrevented)return;se.preventDefault();let Ee=se.nativeEvent.submitter,we=(Ee==null?void 0:Ee.getAttribute("formmethod"))||d;z(Ee||se.currentTarget,{fetcherKey:e,method:we,navigate:t,replace:l,state:h,relative:_,preventScrollReset:A,viewTransition:R})};return ee.createElement("form",{ref:L,method:H,action:X,onSubmit:s?v:ce,...x,"data-discover":!ne&&r==="render"?"true":void 0})});SC.displayName="Form";function RC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cb(r){let e=ee.useContext(Pd);return mn(e,RC(r)),e}function IC(r,{target:e,replace:t,state:s,preventScrollReset:l,relative:h,viewTransition:d}={}){let y=Xv(),v=Eh(),_=qp(r,{relative:h});return ee.useCallback(A=>{if(iC(A,e)){A.preventDefault();let R=t!==void 0?t:Rp(v)===Rp(_);y(r,{replace:R,state:s,preventScrollReset:l,relative:h,viewTransition:d})}},[v,y,_,t,s,e,r,l,h,d])}var CC=0,xC=()=>`__${String(++CC)}__`;function OC(){let{router:r}=cb("useSubmit"),{basename:e}=ee.useContext(eo),t=$I();return ee.useCallback(async(s,l={})=>{let{action:h,method:d,encType:y,formData:v,body:_}=oC(s,e);if(l.navigate===!1){let A=l.fetcherKey||xC();await r.fetch(A,t,l.action||h,{preventScrollReset:l.preventScrollReset,formData:v,body:_,formMethod:l.method||d,formEncType:l.encType||y,flushSync:l.flushSync})}else await r.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:v,body:_,formMethod:l.method||d,formEncType:l.encType||y,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,e,t])}function DC(r,{relative:e}={}){let{basename:t}=ee.useContext(eo),s=ee.useContext(to);mn(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),h={...qp(r||".",{relative:e})},d=Eh();if(r==null){h.search=d.search;let y=new URLSearchParams(h.search),v=y.getAll("index");if(v.some(A=>A==="")){y.delete("index"),v.filter(R=>R).forEach(R=>y.append("index",R));let A=y.toString();h.search=A?`?${A}`:""}}return(!r||r===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(h.pathname=h.pathname==="/"?t:Yo([t,h.pathname])),Rp(h)}function NC(r,e={}){let t=ee.useContext(tb);mn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cb("useViewTransitionState"),l=qp(r,{relative:e.relative});if(!t.isTransitioning)return!1;let h=Wo(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=Wo(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Av(l.pathname,d)!=null||Av(l.pathname,h)!=null}[...pC];const MC=()=>{};var KT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},PC=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const l=r[t++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[t++];e[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[t++],d=r[t++],y=r[t++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[t++],d=r[t++];e[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return e.join("")},fb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const h=r[l],d=l+1<r.length,y=d?r[l+1]:0,v=l+2<r.length,_=v?r[l+2]:0,A=h>>2,R=(h&3)<<4|y>>4;let x=(y&15)<<2|_>>6,L=_&63;v||(L=64,d||(x=64)),s.push(t[A],t[R],t[x],t[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(hb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):PC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const h=t[r.charAt(l++)],y=l<r.length?t[r.charAt(l)]:0;++l;const _=l<r.length?t[r.charAt(l)]:64;++l;const R=l<r.length?t[r.charAt(l)]:64;if(++l,h==null||y==null||_==null||R==null)throw new LC;const x=h<<2|y>>4;if(s.push(x),_!==64){const L=y<<4&240|_>>2;if(s.push(L),R!==64){const z=_<<6&192|R;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class LC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kC=function(r){const e=hb(r);return fb.encodeByteArray(e,!0)},Sv=function(r){return kC(r).replace(/\./g,"")},db=function(r){try{return fb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=()=>VC().__FIREBASE_DEFAULTS__,BC=()=>{if(typeof process>"u"||typeof KT>"u")return;const r=KT.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&db(r[1]);return e&&JSON.parse(e)},Zv=()=>{try{return MC()||UC()||BC()||zC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},gb=r=>{var e,t;return(t=(e=Zv())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},jC=r=>{const e=gb(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},pb=()=>{var r;return(r=Zv())===null||r===void 0?void 0:r.config},mb=r=>{var e;return(e=Zv())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(r){return r.endsWith(".cloudworkstations.dev")}async function yb(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Sv(JSON.stringify(t)),Sv(JSON.stringify(d)),""].join(".")}const _p={};function qC(){const r={prod:[],emulator:[]};for(const e of Object.keys(_p))_p[e]?r.emulator.push(e):r.prod.push(e);return r}function GC(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let $T=!1;function vb(r,e){if(typeof window>"u"||typeof document>"u"||!Gp(window.location.host)||_p[r]===e||_p[r]||$T)return;_p[r]=e;function t(x){return`__firebase__banner__${x}`}const s="__firebase__banner",h=qC().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function y(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,L){x.setAttribute("width","24"),x.setAttribute("id",L),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{$T=!0,d()},x}function A(x,L){x.setAttribute("id",L),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function R(){const x=GC(s),L=t("text"),z=document.getElementById(L)||document.createElement("span"),X=t("learnmore"),H=document.getElementById(X)||document.createElement("a"),ne=t("preprendIcon"),ce=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const se=x.element;y(se),A(H,X);const Ee=_();v(ce,ne),se.append(ce,z,H,Ee),document.body.appendChild(se)}h?(z.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zr())}function KC(){var r;const e=(r=Zv())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $C(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _b(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function YC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XC(){const r=zr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function WC(){return!KC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Eb(){try{return typeof indexedDB=="object"}catch{return!1}}function Tb(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{var h;e(((h=l.error)===null||h===void 0?void 0:h.message)||"")}}catch(t){e(t)}})}function ZC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="FirebaseError";class ra extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=JC,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Th.prototype.create)}}class Th{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},l=`${this.service}/${e}`,h=this.errors[e],d=h?ex(h,s):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new ra(l,y,s)}}function ex(r,e){return r.replace(tx,(t,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const tx=/\{\$([^}]+)}/g;function nx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Eu(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const l of t){if(!s.includes(l))return!1;const h=r[l],d=e[l];if(YT(h)&&YT(d)){if(!Eu(h,d))return!1}else if(h!==d)return!1}for(const l of s)if(!t.includes(l))return!1;return!0}function YT(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function rx(r,e){const t=new ix(r,e);return t.subscribe.bind(t)}class ix{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let l;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");sx(e,["next","error","complete"])?l=e:l={next:e,error:t,complete:s},l.next===void 0&&(l.next=w0),l.error===void 0&&(l.error=w0),l.complete===void 0&&(l.complete=w0);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sx(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function w0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=1e3,ox=2,lx=4*60*60*1e3,ux=.5;function XT(r,e=ax,t=ox){const s=e*Math.pow(t,r),l=Math.round(ux*s*(Math.random()-.5)*2);return Math.min(lx,s+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(r){return r&&r._delegate?r._delegate:r}class na{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new FC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(l)return null;throw h}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fx(e))try{this.getOrInitializeService({instanceIdentifier:Jc})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(e=Jc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jc){return this.instances.has(e)}getOptions(e=Jc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);s===y&&d.resolve(l)}return l}onInit(e,t){var s;const l=this.normalizeInstanceIdentifier(t),h=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(l,h);const d=this.instances.get(l);return d&&e(d,l),()=>{h.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const l of s)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hx(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Jc){return this.component?this.component.multipleInstances?e:Jc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hx(r){return r===Jc?void 0:r}function fx(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(_t||(_t={}));const gx={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},px=_t.INFO,mx={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},yx=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=mx[e];if(l)console[l](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jv{constructor(e){this.name=e,this._logLevel=px,this._logHandler=yx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...e),this._logHandler(this,_t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...e),this._logHandler(this,_t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...e),this._logHandler(this,_t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...e),this._logHandler(this,_t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...e),this._logHandler(this,_t.ERROR,...e)}}const vx=(r,e)=>e.some(t=>r instanceof t);let WT,ZT;function _x(){return WT||(WT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ex(){return ZT||(ZT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wb=new WeakMap,B0=new WeakMap,bb=new WeakMap,b0=new WeakMap,DE=new WeakMap;function Tx(r){const e=new Promise((t,s)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{t(du(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&wb.set(t,r)}).catch(()=>{}),DE.set(e,r),e}function wx(r){if(B0.has(r))return;const e=new Promise((t,s)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{t(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});B0.set(r,e)}let z0={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return B0.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bb.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return du(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function bx(r){z0=r(z0)}function Ax(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(A0(this),e,...t);return bb.set(s,e.sort?e.sort():[e]),du(s)}:Ex().includes(r)?function(...e){return r.apply(A0(this),e),du(wb.get(this))}:function(...e){return du(r.apply(A0(this),e))}}function Sx(r){return typeof r=="function"?Ax(r):(r instanceof IDBTransaction&&wx(r),vx(r,_x())?new Proxy(r,z0):r)}function du(r){if(r instanceof IDBRequest)return Tx(r);if(b0.has(r))return b0.get(r);const e=Sx(r);return e!==r&&(b0.set(r,e),DE.set(e,r)),e}const A0=r=>DE.get(r);function Ab(r,e,{blocked:t,upgrade:s,blocking:l,terminated:h}={}){const d=indexedDB.open(r,e),y=du(d);return s&&d.addEventListener("upgradeneeded",v=>{s(du(d.result),v.oldVersion,v.newVersion,du(d.transaction),v)}),t&&d.addEventListener("blocked",v=>t(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const Rx=["get","getKey","getAll","getAllKeys","count"],Ix=["put","add","delete","clear"],S0=new Map;function JT(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(S0.get(e))return S0.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,l=Ix.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Rx.includes(t)))return;const h=async function(d,...y){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[t](...y),l&&v.done]))[0]};return S0.set(e,h),h}bx(r=>({...r,get:(e,t,s)=>JT(e,t)||r.get(e,t,s),has:(e,t)=>!!JT(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(xx(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function xx(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const j0="@firebase/app",e1="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Jv("@firebase/app"),Ox="@firebase/app-compat",Dx="@firebase/analytics-compat",Nx="@firebase/analytics",Mx="@firebase/app-check-compat",Px="@firebase/app-check",Lx="@firebase/auth",kx="@firebase/auth-compat",Vx="@firebase/database",Ux="@firebase/data-connect",Bx="@firebase/database-compat",zx="@firebase/functions",jx="@firebase/functions-compat",Fx="@firebase/installations",Hx="@firebase/installations-compat",qx="@firebase/messaging",Gx="@firebase/messaging-compat",Qx="@firebase/performance",Kx="@firebase/performance-compat",$x="@firebase/remote-config",Yx="@firebase/remote-config-compat",Xx="@firebase/storage",Wx="@firebase/storage-compat",Zx="@firebase/firestore",Jx="@firebase/ai",e2="@firebase/firestore-compat",t2="firebase",n2="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="[DEFAULT]",r2={[j0]:"fire-core",[Ox]:"fire-core-compat",[Nx]:"fire-analytics",[Dx]:"fire-analytics-compat",[Px]:"fire-app-check",[Mx]:"fire-app-check-compat",[Lx]:"fire-auth",[kx]:"fire-auth-compat",[Vx]:"fire-rtdb",[Ux]:"fire-data-connect",[Bx]:"fire-rtdb-compat",[zx]:"fire-fn",[jx]:"fire-fn-compat",[Fx]:"fire-iid",[Hx]:"fire-iid-compat",[qx]:"fire-fcm",[Gx]:"fire-fcm-compat",[Qx]:"fire-perf",[Kx]:"fire-perf-compat",[$x]:"fire-rc",[Yx]:"fire-rc-compat",[Xx]:"fire-gcs",[Wx]:"fire-gcs-compat",[Zx]:"fire-fst",[e2]:"fire-fst-compat",[Jx]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new Map,i2=new Map,H0=new Map;function t1(r,e){try{r.container.addComponent(e)}catch(t){Zo.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Xa(r){const e=r.name;if(H0.has(e))return Zo.debug(`There were multiple attempts to register component ${e}.`),!1;H0.set(e,r);for(const t of Rv.values())t1(t,r);for(const t of i2.values())t1(t,r);return!0}function wh(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function fs(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gu=new Th("app","Firebase",s2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=n2;function Sb(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:F0,automaticDataCollectionEnabled:!0},e),l=s.name;if(typeof l!="string"||!l)throw gu.create("bad-app-name",{appName:String(l)});if(t||(t=pb()),!t)throw gu.create("no-options");const h=Rv.get(l);if(h){if(Eu(t,h.options)&&Eu(s,h.config))return h;throw gu.create("duplicate-app",{appName:l})}const d=new dx(l);for(const v of H0.values())d.addComponent(v);const y=new a2(t,s,d);return Rv.set(l,y),y}function NE(r=F0){const e=Rv.get(r);if(!e&&r===F0&&pb())return Sb();if(!e)throw gu.create("no-app",{appName:r});return e}function gs(r,e,t){var s;let l=(s=r2[r])!==null&&s!==void 0?s:r;t&&(l+=`-${t}`);const h=l.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const y=[`Unable to register library "${l}" with version "${e}":`];h&&y.push(`library name "${l}" contains illegal characters (whitespace or "/")`),h&&d&&y.push("and"),d&&y.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zo.warn(y.join(" "));return}Xa(new na(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="firebase-heartbeat-database",l2=1,Ip="firebase-heartbeat-store";let R0=null;function Rb(){return R0||(R0=Ab(o2,l2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ip)}catch(t){console.warn(t)}}}}).catch(r=>{throw gu.create("idb-open",{originalErrorMessage:r.message})})),R0}async function u2(r){try{const t=(await Rb()).transaction(Ip),s=await t.objectStore(Ip).get(Ib(r));return await t.done,s}catch(e){if(e instanceof ra)Zo.warn(e.message);else{const t=gu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zo.warn(t.message)}}}async function n1(r,e){try{const s=(await Rb()).transaction(Ip,"readwrite");await s.objectStore(Ip).put(e,Ib(r)),await s.done}catch(t){if(t instanceof ra)Zo.warn(t.message);else{const s=gu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Zo.warn(s.message)}}}function Ib(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=1024,h2=30;class f2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new g2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=r1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:l}),this._heartbeatsCache.heartbeats.length>h2){const d=p2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Zo.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=r1(),{heartbeatsToSend:s,unsentEntries:l}=d2(this._heartbeatsCache.heartbeats),h=Sv(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(t){return Zo.warn(t),""}}}function r1(){return new Date().toISOString().substring(0,10)}function d2(r,e=c2){const t=[];let s=r.slice();for(const l of r){const h=t.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),i1(t)>e){h.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),i1(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class g2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Eb()?Tb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await u2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const l=await this.read();return n1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const l=await this.read();return n1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function i1(r){return Sv(JSON.stringify({version:2,heartbeats:r})).length}function p2(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(r){Xa(new na("platform-logger",e=>new Cx(e),"PRIVATE")),Xa(new na("heartbeat",e=>new f2(e),"PRIVATE")),gs(j0,e1,r),gs(j0,e1,"esm2017"),gs("fire-js","")}m2("");var s1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pu,Cb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,N){function M(){}M.prototype=N.prototype,j.D=N.prototype,j.prototype=new M,j.prototype.constructor=j,j.C=function(F,Q,K){for(var U=Array(arguments.length-2),fn=2;fn<arguments.length;fn++)U[fn-2]=arguments[fn];return N.prototype[Q].apply(F,U)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(j,N,M){M||(M=0);var F=Array(16);if(typeof N=="string")for(var Q=0;16>Q;++Q)F[Q]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(Q=0;16>Q;++Q)F[Q]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=j.g[0],M=j.g[1],Q=j.g[2];var K=j.g[3],U=N+(K^M&(Q^K))+F[0]+3614090360&4294967295;N=M+(U<<7&4294967295|U>>>25),U=K+(Q^N&(M^Q))+F[1]+3905402710&4294967295,K=N+(U<<12&4294967295|U>>>20),U=Q+(M^K&(N^M))+F[2]+606105819&4294967295,Q=K+(U<<17&4294967295|U>>>15),U=M+(N^Q&(K^N))+F[3]+3250441966&4294967295,M=Q+(U<<22&4294967295|U>>>10),U=N+(K^M&(Q^K))+F[4]+4118548399&4294967295,N=M+(U<<7&4294967295|U>>>25),U=K+(Q^N&(M^Q))+F[5]+1200080426&4294967295,K=N+(U<<12&4294967295|U>>>20),U=Q+(M^K&(N^M))+F[6]+2821735955&4294967295,Q=K+(U<<17&4294967295|U>>>15),U=M+(N^Q&(K^N))+F[7]+4249261313&4294967295,M=Q+(U<<22&4294967295|U>>>10),U=N+(K^M&(Q^K))+F[8]+1770035416&4294967295,N=M+(U<<7&4294967295|U>>>25),U=K+(Q^N&(M^Q))+F[9]+2336552879&4294967295,K=N+(U<<12&4294967295|U>>>20),U=Q+(M^K&(N^M))+F[10]+4294925233&4294967295,Q=K+(U<<17&4294967295|U>>>15),U=M+(N^Q&(K^N))+F[11]+2304563134&4294967295,M=Q+(U<<22&4294967295|U>>>10),U=N+(K^M&(Q^K))+F[12]+1804603682&4294967295,N=M+(U<<7&4294967295|U>>>25),U=K+(Q^N&(M^Q))+F[13]+4254626195&4294967295,K=N+(U<<12&4294967295|U>>>20),U=Q+(M^K&(N^M))+F[14]+2792965006&4294967295,Q=K+(U<<17&4294967295|U>>>15),U=M+(N^Q&(K^N))+F[15]+1236535329&4294967295,M=Q+(U<<22&4294967295|U>>>10),U=N+(Q^K&(M^Q))+F[1]+4129170786&4294967295,N=M+(U<<5&4294967295|U>>>27),U=K+(M^Q&(N^M))+F[6]+3225465664&4294967295,K=N+(U<<9&4294967295|U>>>23),U=Q+(N^M&(K^N))+F[11]+643717713&4294967295,Q=K+(U<<14&4294967295|U>>>18),U=M+(K^N&(Q^K))+F[0]+3921069994&4294967295,M=Q+(U<<20&4294967295|U>>>12),U=N+(Q^K&(M^Q))+F[5]+3593408605&4294967295,N=M+(U<<5&4294967295|U>>>27),U=K+(M^Q&(N^M))+F[10]+38016083&4294967295,K=N+(U<<9&4294967295|U>>>23),U=Q+(N^M&(K^N))+F[15]+3634488961&4294967295,Q=K+(U<<14&4294967295|U>>>18),U=M+(K^N&(Q^K))+F[4]+3889429448&4294967295,M=Q+(U<<20&4294967295|U>>>12),U=N+(Q^K&(M^Q))+F[9]+568446438&4294967295,N=M+(U<<5&4294967295|U>>>27),U=K+(M^Q&(N^M))+F[14]+3275163606&4294967295,K=N+(U<<9&4294967295|U>>>23),U=Q+(N^M&(K^N))+F[3]+4107603335&4294967295,Q=K+(U<<14&4294967295|U>>>18),U=M+(K^N&(Q^K))+F[8]+1163531501&4294967295,M=Q+(U<<20&4294967295|U>>>12),U=N+(Q^K&(M^Q))+F[13]+2850285829&4294967295,N=M+(U<<5&4294967295|U>>>27),U=K+(M^Q&(N^M))+F[2]+4243563512&4294967295,K=N+(U<<9&4294967295|U>>>23),U=Q+(N^M&(K^N))+F[7]+1735328473&4294967295,Q=K+(U<<14&4294967295|U>>>18),U=M+(K^N&(Q^K))+F[12]+2368359562&4294967295,M=Q+(U<<20&4294967295|U>>>12),U=N+(M^Q^K)+F[5]+4294588738&4294967295,N=M+(U<<4&4294967295|U>>>28),U=K+(N^M^Q)+F[8]+2272392833&4294967295,K=N+(U<<11&4294967295|U>>>21),U=Q+(K^N^M)+F[11]+1839030562&4294967295,Q=K+(U<<16&4294967295|U>>>16),U=M+(Q^K^N)+F[14]+4259657740&4294967295,M=Q+(U<<23&4294967295|U>>>9),U=N+(M^Q^K)+F[1]+2763975236&4294967295,N=M+(U<<4&4294967295|U>>>28),U=K+(N^M^Q)+F[4]+1272893353&4294967295,K=N+(U<<11&4294967295|U>>>21),U=Q+(K^N^M)+F[7]+4139469664&4294967295,Q=K+(U<<16&4294967295|U>>>16),U=M+(Q^K^N)+F[10]+3200236656&4294967295,M=Q+(U<<23&4294967295|U>>>9),U=N+(M^Q^K)+F[13]+681279174&4294967295,N=M+(U<<4&4294967295|U>>>28),U=K+(N^M^Q)+F[0]+3936430074&4294967295,K=N+(U<<11&4294967295|U>>>21),U=Q+(K^N^M)+F[3]+3572445317&4294967295,Q=K+(U<<16&4294967295|U>>>16),U=M+(Q^K^N)+F[6]+76029189&4294967295,M=Q+(U<<23&4294967295|U>>>9),U=N+(M^Q^K)+F[9]+3654602809&4294967295,N=M+(U<<4&4294967295|U>>>28),U=K+(N^M^Q)+F[12]+3873151461&4294967295,K=N+(U<<11&4294967295|U>>>21),U=Q+(K^N^M)+F[15]+530742520&4294967295,Q=K+(U<<16&4294967295|U>>>16),U=M+(Q^K^N)+F[2]+3299628645&4294967295,M=Q+(U<<23&4294967295|U>>>9),U=N+(Q^(M|~K))+F[0]+4096336452&4294967295,N=M+(U<<6&4294967295|U>>>26),U=K+(M^(N|~Q))+F[7]+1126891415&4294967295,K=N+(U<<10&4294967295|U>>>22),U=Q+(N^(K|~M))+F[14]+2878612391&4294967295,Q=K+(U<<15&4294967295|U>>>17),U=M+(K^(Q|~N))+F[5]+4237533241&4294967295,M=Q+(U<<21&4294967295|U>>>11),U=N+(Q^(M|~K))+F[12]+1700485571&4294967295,N=M+(U<<6&4294967295|U>>>26),U=K+(M^(N|~Q))+F[3]+2399980690&4294967295,K=N+(U<<10&4294967295|U>>>22),U=Q+(N^(K|~M))+F[10]+4293915773&4294967295,Q=K+(U<<15&4294967295|U>>>17),U=M+(K^(Q|~N))+F[1]+2240044497&4294967295,M=Q+(U<<21&4294967295|U>>>11),U=N+(Q^(M|~K))+F[8]+1873313359&4294967295,N=M+(U<<6&4294967295|U>>>26),U=K+(M^(N|~Q))+F[15]+4264355552&4294967295,K=N+(U<<10&4294967295|U>>>22),U=Q+(N^(K|~M))+F[6]+2734768916&4294967295,Q=K+(U<<15&4294967295|U>>>17),U=M+(K^(Q|~N))+F[13]+1309151649&4294967295,M=Q+(U<<21&4294967295|U>>>11),U=N+(Q^(M|~K))+F[4]+4149444226&4294967295,N=M+(U<<6&4294967295|U>>>26),U=K+(M^(N|~Q))+F[11]+3174756917&4294967295,K=N+(U<<10&4294967295|U>>>22),U=Q+(N^(K|~M))+F[2]+718787259&4294967295,Q=K+(U<<15&4294967295|U>>>17),U=M+(K^(Q|~N))+F[9]+3951481745&4294967295,j.g[0]=j.g[0]+N&4294967295,j.g[1]=j.g[1]+(Q+(U<<21&4294967295|U>>>11))&4294967295,j.g[2]=j.g[2]+Q&4294967295,j.g[3]=j.g[3]+K&4294967295}s.prototype.u=function(j,N){N===void 0&&(N=j.length);for(var M=N-this.blockSize,F=this.B,Q=this.h,K=0;K<N;){if(Q==0)for(;K<=M;)l(this,j,K),K+=this.blockSize;if(typeof j=="string"){for(;K<N;)if(F[Q++]=j.charCodeAt(K++),Q==this.blockSize){l(this,F),Q=0;break}}else for(;K<N;)if(F[Q++]=j[K++],Q==this.blockSize){l(this,F),Q=0;break}}this.h=Q,this.o+=N},s.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var N=1;N<j.length-8;++N)j[N]=0;var M=8*this.o;for(N=j.length-8;N<j.length;++N)j[N]=M&255,M/=256;for(this.u(j),j=Array(16),N=M=0;4>N;++N)for(var F=0;32>F;F+=8)j[M++]=this.g[N]>>>F&255;return j};function h(j,N){var M=y;return Object.prototype.hasOwnProperty.call(M,j)?M[j]:M[j]=N(j)}function d(j,N){this.h=N;for(var M=[],F=!0,Q=j.length-1;0<=Q;Q--){var K=j[Q]|0;F&&K==N||(M[Q]=K,F=!1)}this.g=M}var y={};function v(j){return-128<=j&&128>j?h(j,function(N){return new d([N|0],0>N?-1:0)}):new d([j|0],0>j?-1:0)}function _(j){if(isNaN(j)||!isFinite(j))return R;if(0>j)return H(_(-j));for(var N=[],M=1,F=0;j>=M;F++)N[F]=j/M|0,M*=4294967296;return new d(N,0)}function A(j,N){if(j.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j.charAt(0)=="-")return H(A(j.substring(1),N));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=_(Math.pow(N,8)),F=R,Q=0;Q<j.length;Q+=8){var K=Math.min(8,j.length-Q),U=parseInt(j.substring(Q,Q+K),N);8>K?(K=_(Math.pow(N,K)),F=F.j(K).add(_(U))):(F=F.j(M),F=F.add(_(U)))}return F}var R=v(0),x=v(1),L=v(16777216);r=d.prototype,r.m=function(){if(X(this))return-H(this).m();for(var j=0,N=1,M=0;M<this.g.length;M++){var F=this.i(M);j+=(0<=F?F:4294967296+F)*N,N*=4294967296}return j},r.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(z(this))return"0";if(X(this))return"-"+H(this).toString(j);for(var N=_(Math.pow(j,6)),M=this,F="";;){var Q=Ee(M,N).g;M=ne(M,Q.j(N));var K=((0<M.g.length?M.g[0]:M.h)>>>0).toString(j);if(M=Q,z(M))return K+F;for(;6>K.length;)K="0"+K;F=K+F}},r.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function z(j){if(j.h!=0)return!1;for(var N=0;N<j.g.length;N++)if(j.g[N]!=0)return!1;return!0}function X(j){return j.h==-1}r.l=function(j){return j=ne(this,j),X(j)?-1:z(j)?0:1};function H(j){for(var N=j.g.length,M=[],F=0;F<N;F++)M[F]=~j.g[F];return new d(M,~j.h).add(x)}r.abs=function(){return X(this)?H(this):this},r.add=function(j){for(var N=Math.max(this.g.length,j.g.length),M=[],F=0,Q=0;Q<=N;Q++){var K=F+(this.i(Q)&65535)+(j.i(Q)&65535),U=(K>>>16)+(this.i(Q)>>>16)+(j.i(Q)>>>16);F=U>>>16,K&=65535,U&=65535,M[Q]=U<<16|K}return new d(M,M[M.length-1]&-2147483648?-1:0)};function ne(j,N){return j.add(H(N))}r.j=function(j){if(z(this)||z(j))return R;if(X(this))return X(j)?H(this).j(H(j)):H(H(this).j(j));if(X(j))return H(this.j(H(j)));if(0>this.l(L)&&0>j.l(L))return _(this.m()*j.m());for(var N=this.g.length+j.g.length,M=[],F=0;F<2*N;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(var Q=0;Q<j.g.length;Q++){var K=this.i(F)>>>16,U=this.i(F)&65535,fn=j.i(Q)>>>16,Xt=j.i(Q)&65535;M[2*F+2*Q]+=U*Xt,ce(M,2*F+2*Q),M[2*F+2*Q+1]+=K*Xt,ce(M,2*F+2*Q+1),M[2*F+2*Q+1]+=U*fn,ce(M,2*F+2*Q+1),M[2*F+2*Q+2]+=K*fn,ce(M,2*F+2*Q+2)}for(F=0;F<N;F++)M[F]=M[2*F+1]<<16|M[2*F];for(F=N;F<2*N;F++)M[F]=0;return new d(M,0)};function ce(j,N){for(;(j[N]&65535)!=j[N];)j[N+1]+=j[N]>>>16,j[N]&=65535,N++}function se(j,N){this.g=j,this.h=N}function Ee(j,N){if(z(N))throw Error("division by zero");if(z(j))return new se(R,R);if(X(j))return N=Ee(H(j),N),new se(H(N.g),H(N.h));if(X(N))return N=Ee(j,H(N)),new se(H(N.g),N.h);if(30<j.g.length){if(X(j)||X(N))throw Error("slowDivide_ only works with positive integers.");for(var M=x,F=N;0>=F.l(j);)M=we(M),F=we(F);var Q=Ie(M,1),K=Ie(F,1);for(F=Ie(F,2),M=Ie(M,2);!z(F);){var U=K.add(F);0>=U.l(j)&&(Q=Q.add(M),K=U),F=Ie(F,1),M=Ie(M,1)}return N=ne(j,Q.j(N)),new se(Q,N)}for(Q=R;0<=j.l(N);){for(M=Math.max(1,Math.floor(j.m()/N.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),K=_(M),U=K.j(N);X(U)||0<U.l(j);)M-=F,K=_(M),U=K.j(N);z(K)&&(K=x),Q=Q.add(K),j=ne(j,U)}return new se(Q,j)}r.A=function(j){return Ee(this,j).h},r.and=function(j){for(var N=Math.max(this.g.length,j.g.length),M=[],F=0;F<N;F++)M[F]=this.i(F)&j.i(F);return new d(M,this.h&j.h)},r.or=function(j){for(var N=Math.max(this.g.length,j.g.length),M=[],F=0;F<N;F++)M[F]=this.i(F)|j.i(F);return new d(M,this.h|j.h)},r.xor=function(j){for(var N=Math.max(this.g.length,j.g.length),M=[],F=0;F<N;F++)M[F]=this.i(F)^j.i(F);return new d(M,this.h^j.h)};function we(j){for(var N=j.g.length+1,M=[],F=0;F<N;F++)M[F]=j.i(F)<<1|j.i(F-1)>>>31;return new d(M,j.h)}function Ie(j,N){var M=N>>5;N%=32;for(var F=j.g.length-M,Q=[],K=0;K<F;K++)Q[K]=0<N?j.i(K+M)>>>N|j.i(K+M+1)<<32-N:j.i(K+M);return new d(Q,j.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Cb=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,pu=d}).apply(typeof s1<"u"?s1:typeof self<"u"?self:typeof window<"u"?window:{});var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xb,dp,Ob,gv,q0,Db,Nb,Mb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,w){return f==Array.prototype||f==Object.prototype||(f[E]=w.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof sv=="object"&&sv];for(var E=0;E<f.length;++E){var w=f[E];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=t(this);function l(f,E){if(E)e:{var w=s;f=f.split(".");for(var O=0;O<f.length-1;O++){var J=f[O];if(!(J in w))break e;w=w[J]}f=f[f.length-1],O=w[f],E=E(O),E!=O&&E!=null&&e(w,f,{configurable:!0,writable:!0,value:E})}}function h(f,E){f instanceof String&&(f+="");var w=0,O=!1,J={next:function(){if(!O&&w<f.length){var le=w++;return{value:E(le,f[le]),done:!1}}return O=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}l("Array.prototype.values",function(f){return f||function(){return h(this,function(E,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},y=this||self;function v(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function _(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function A(f,E,w){return f.call.apply(f.bind,arguments)}function R(f,E,w){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,O),f.apply(E,J)}}return function(){return f.apply(E,arguments)}}function x(f,E,w){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:R,x.apply(null,arguments)}function L(f,E){var w=Array.prototype.slice.call(arguments,1);return function(){var O=w.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function z(f,E){function w(){}w.prototype=E.prototype,f.aa=E.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(O,J,le){for(var Ae=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)Ae[ct-2]=arguments[ct];return E.prototype[J].apply(O,Ae)}}function X(f){const E=f.length;if(0<E){const w=Array(E);for(let O=0;O<E;O++)w[O]=f[O];return w}return[]}function H(f,E){for(let w=1;w<arguments.length;w++){const O=arguments[w];if(v(O)){const J=f.length||0,le=O.length||0;f.length=J+le;for(let Ae=0;Ae<le;Ae++)f[J+Ae]=O[Ae]}else f.push(O)}}class ne{constructor(E,w){this.i=E,this.j=w,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function ce(f){return/^[\s\xa0]*$/.test(f)}function se(){var f=y.navigator;return f&&(f=f.userAgent)?f:""}function Ee(f){return Ee[" "](f),f}Ee[" "]=function(){};var we=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function Ie(f,E,w){for(const O in f)E.call(w,f[O],O,f)}function j(f,E){for(const w in f)E.call(void 0,f[w],w,f)}function N(f){const E={};for(const w in f)E[w]=f[w];return E}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(f,E){let w,O;for(let J=1;J<arguments.length;J++){O=arguments[J];for(w in O)f[w]=O[w];for(let le=0;le<M.length;le++)w=M[le],Object.prototype.hasOwnProperty.call(O,w)&&(f[w]=O[w])}}function Q(f){var E=1;f=f.split(":");const w=[];for(;0<E&&f.length;)w.push(f.shift()),E--;return f.length&&w.push(f.join(":")),w}function K(f){y.setTimeout(()=>{throw f},0)}function U(){var f=Tt;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class fn{constructor(){this.h=this.g=null}add(E,w){const O=Xt.get();O.set(E,w),this.h?this.h.next=O:this.g=O,this.h=O}}var Xt=new ne(()=>new fe,f=>f.reset());class fe{constructor(){this.next=this.g=this.h=null}set(E,w){this.h=E,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,Ne=!1,Tt=new fn,P=()=>{const f=y.Promise.resolve(void 0);Re=()=>{f.then(ue)}};var ue=()=>{for(var f;f=U();){try{f.h.call(f.g)}catch(w){K(w)}var E=Xt;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}Ne=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};y.addEventListener("test",w,E),y.removeEventListener("test",w,E)}catch{}return f}();function Ze(f,E){if(be.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(we){e:{try{Ee(E.nodeName);var J=!0;break e}catch{}J=!1}J||(E=null)}}else w=="mouseover"?E=f.fromElement:w=="mouseout"&&(E=f.toElement);this.relatedTarget=E,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:He[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ze.aa.h.call(this)}}z(Ze,be);var He={2:"touch",3:"pen",4:"mouse"};Ze.prototype.h=function(){Ze.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Mn="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function vr(f,E,w,O,J){this.listener=f,this.proxy=null,this.src=E,this.type=w,this.capture=!!O,this.ha=J,this.key=++Nt,this.da=this.fa=!1}function ia(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ni(f){this.src=f,this.g={},this.h=0}ni.prototype.add=function(f,E,w,O,J){var le=f.toString();f=this.g[le],f||(f=this.g[le]=[],this.h++);var Ae=sa(f,E,O,J);return-1<Ae?(E=f[Ae],w||(E.fa=!1)):(E=new vr(E,this.src,le,!!O,J),E.fa=w,f.push(E)),E};function zi(f,E){var w=E.type;if(w in f.g){var O=f.g[w],J=Array.prototype.indexOf.call(O,E,void 0),le;(le=0<=J)&&Array.prototype.splice.call(O,J,1),le&&(ia(E),f.g[w].length==0&&(delete f.g[w],f.h--))}}function sa(f,E,w,O){for(var J=0;J<f.length;++J){var le=f[J];if(!le.da&&le.listener==E&&le.capture==!!w&&le.ha==O)return J}return-1}var Qn="closure_lm_"+(1e6*Math.random()|0),ps={};function xh(f,E,w,O,J){if(Array.isArray(E)){for(var le=0;le<E.length;le++)xh(f,E[le],w,O,J);return null}return w=aa(w),f&&f[Mn]?f.K(E,w,_(O)?!!O.capture:!1,J):vn(f,E,w,!1,O,J)}function vn(f,E,w,O,J,le){if(!E)throw Error("Invalid event type");var Ae=_(J)?!!J.capture:!!J,ct=ms(f);if(ct||(f[Qn]=ct=new ni(f)),w=ct.add(E,w,O,Ae,le),w.proxy)return w;if(O=Oh(),w.proxy=O,O.src=f,O.listener=w,f.addEventListener)Ve||(J=Ae),J===void 0&&(J=!1),f.addEventListener(E.toString(),O,J);else if(f.attachEvent)f.attachEvent(Kn(E.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Oh(){function f(w){return E.call(f.src,f.listener,w)}const E=no;return f}function Iu(f,E,w,O,J){if(Array.isArray(E))for(var le=0;le<E.length;le++)Iu(f,E[le],w,O,J);else O=_(O)?!!O.capture:!!O,w=aa(w),f&&f[Mn]?(f=f.i,E=String(E).toString(),E in f.g&&(le=f.g[E],w=sa(le,w,O,J),-1<w&&(ia(le[w]),Array.prototype.splice.call(le,w,1),le.length==0&&(delete f.g[E],f.h--)))):f&&(f=ms(f))&&(E=f.g[E.toString()],f=-1,E&&(f=sa(E,w,O,J)),(w=-1<f?E[f]:null)&&ji(w))}function ji(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[Mn])zi(E.i,f);else{var w=f.type,O=f.proxy;E.removeEventListener?E.removeEventListener(w,O,f.capture):E.detachEvent?E.detachEvent(Kn(w),O):E.addListener&&E.removeListener&&E.removeListener(O),(w=ms(E))?(zi(w,f),w.h==0&&(w.src=null,E[Qn]=null)):ia(f)}}}function Kn(f){return f in ps?ps[f]:ps[f]="on"+f}function no(f,E){if(f.da)f=!0;else{E=new Ze(E,this);var w=f.listener,O=f.ha||f.src;f.fa&&ji(f),f=w.call(O,E)}return f}function ms(f){return f=f[Qn],f instanceof ni?f:null}var Cu="__closure_events_fn_"+(1e9*Math.random()>>>0);function aa(f){return typeof f=="function"?f:(f[Cu]||(f[Cu]=function(E){return f.handleEvent(E)}),f[Cu])}function an(){Se.call(this),this.i=new ni(this),this.M=this,this.F=null}z(an,Se),an.prototype[Mn]=!0,an.prototype.removeEventListener=function(f,E,w,O){Iu(this,f,E,w,O)};function wt(f,E){var w,O=f.F;if(O)for(w=[];O;O=O.F)w.push(O);if(f=f.M,O=E.type||E,typeof E=="string")E=new be(E,f);else if(E instanceof be)E.target=E.target||f;else{var J=E;E=new be(O,f),F(E,J)}if(J=!0,w)for(var le=w.length-1;0<=le;le--){var Ae=E.g=w[le];J=Pn(Ae,O,!0,E)&&J}if(Ae=E.g=f,J=Pn(Ae,O,!0,E)&&J,J=Pn(Ae,O,!1,E)&&J,w)for(le=0;le<w.length;le++)Ae=E.g=w[le],J=Pn(Ae,O,!1,E)&&J}an.prototype.N=function(){if(an.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var w=f.g[E],O=0;O<w.length;O++)ia(w[O]);delete f.g[E],f.h--}}this.F=null},an.prototype.K=function(f,E,w,O){return this.i.add(String(f),E,!1,w,O)},an.prototype.L=function(f,E,w,O){return this.i.add(String(f),E,!0,w,O)};function Pn(f,E,w,O){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var J=!0,le=0;le<E.length;++le){var Ae=E[le];if(Ae&&!Ae.da&&Ae.capture==w){var ct=Ae.listener,An=Ae.ha||Ae.src;Ae.fa&&zi(f.i,Ae),J=ct.call(An,O)!==!1&&J}}return J&&!O.defaultPrevented}function Ln(f,E,w){if(typeof f=="function")w&&(f=x(f,w));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:y.setTimeout(f,E||0)}function rl(f){f.g=Ln(()=>{f.g=null,f.i&&(f.i=!1,rl(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class xu extends Se{constructor(E,w){super(),this.m=E,this.l=w,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:rl(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(f){Se.call(this),this.h=f,this.g={}}z(ys,Se);var vs=[];function _s(f){Ie(f.g,function(E,w){this.g.hasOwnProperty(w)&&ji(E)},f),f.g={}}ys.prototype.N=function(){ys.aa.N.call(this),_s(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fr=y.JSON.stringify,oa=y.JSON.parse,Es=class{stringify(f){return y.JSON.stringify(f,void 0)}parse(f){return y.JSON.parse(f,void 0)}};function Ou(){}Ou.prototype.h=null;function Du(f){return f.h||(f.h=f.i())}function Nu(){}var Fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hi(){be.call(this,"d")}z(Hi,be);function Mu(){be.call(this,"c")}z(Mu,be);var qi={},Pu=null;function la(){return Pu=Pu||new an}qi.La="serverreachability";function ro(f){be.call(this,qi.La,f)}z(ro,be);function ua(f){const E=la();wt(E,new ro(E))}qi.STAT_EVENT="statevent";function Dh(f,E){be.call(this,qi.STAT_EVENT,f),this.stat=E}z(Dh,be);function Jt(f){const E=la();wt(E,new Dh(E,f))}qi.Ma="timingevent";function dn(f,E){be.call(this,qi.Ma,f),this.size=E}z(dn,be);function _n(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){f()},E)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function Lu(f,E,w,O,J,le){f.info(function(){if(f.g)if(le)for(var Ae="",ct=le.split("&"),An=0;An<ct.length;An++){var gt=ct[An].split("=");if(1<gt.length){var Pt=gt[0];gt=gt[1];var pn=Pt.split("_");Ae=2<=pn.length&&pn[1]=="type"?Ae+(Pt+"="+gt+"&"):Ae+(Pt+"=redacted&")}}else Ae=null;else Ae=le;return"XMLHTTP REQ ("+O+") [attempt "+J+"]: "+E+`
`+w+`
`+Ae})}function zd(f,E,w,O,J,le,Ae){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+J+"]: "+E+`
`+w+`
`+le+" "+Ae})}function ca(f,E,w,O){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+io(f,w)+(O?" "+O:"")})}function Nh(f,E){f.info(function(){return"TIMEOUT: "+E})}_r.prototype.info=function(){};function io(f,E){if(!f.g)return E;if(!E)return null;try{var w=JSON.parse(E);if(w){for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var O=w[f];if(!(2>O.length)){var J=O[1];if(Array.isArray(J)&&!(1>J.length)){var le=J[0];if(le!="noop"&&le!="stop"&&le!="close")for(var Ae=1;Ae<J.length;Ae++)J[Ae]=""}}}}return Fr(w)}catch{return E}}var ha={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ts={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gi;function bi(){}z(bi,Ou),bi.prototype.g=function(){return new XMLHttpRequest},bi.prototype.i=function(){return{}},Gi=new bi;function ar(f,E,w,O){this.j=f,this.i=E,this.l=w,this.R=O||1,this.U=new ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gn}function gn(){this.i=null,this.g="",this.h=!1}var ku={},il={};function Ai(f,E,w){f.L=1,f.v=Ss(Er(E)),f.m=w,f.P=!0,ws(f,null)}function ws(f,E){f.F=Date.now(),Qi(f),f.A=Er(f.v);var w=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),hl(w.i,"t",O),f.C=0,w=f.j.J,f.h=new gn,f.g=Hh(f.j,w?E:null,!f.m),0<f.O&&(f.M=new xu(x(f.Y,f,f.g),f.O)),E=f.U,w=f.g,O=f.ca;var J="readystatechange";Array.isArray(J)||(J&&(vs[0]=J.toString()),J=vs);for(var le=0;le<J.length;le++){var Ae=xh(w,J[le],O||E.handleEvent,!1,E.h||E);if(!Ae)break;E.g[Ae.key]=Ae}E=f.H?N(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),ua(),Lu(f.i,f.u,f.A,f.l,f.R,f.m)}ar.prototype.ca=function(f){f=f.target;const E=this.M;E&&Un(f)==3?E.j():this.Y(f)},ar.prototype.Y=function(f){try{if(f==this.g)e:{const pn=Un(this.g);var E=this.g.Ba();const Hr=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||qu(this.g)))){this.J||pn!=4||E==7||(E==8||0>=Hr?ua(3):ua(2)),fa(this);var w=this.g.Z();this.X=w;t:if(so(this)){var O=qu(this.g);f="";var J=O.length,le=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),Ki(this);var Ae="";break t}this.h.i=new y.TextDecoder}for(E=0;E<J;E++)this.h.h=!0,f+=this.h.i.decode(O[E],{stream:!(le&&E==J-1)});O.length=0,this.h.g+=f,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=w==200,zd(this.i,this.u,this.A,this.l,this.R,pn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,An=this.g;if((ct=An.g?An.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ce(ct)){var gt=ct;break t}}gt=null}if(w=gt)ca(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,da(this,w);else{this.o=!1,this.s=3,Jt(12),kn(this),Ki(this);break e}}if(this.P){w=!0;let zn;for(;!this.J&&this.C<Ae.length;)if(zn=Mh(this,Ae),zn==il){pn==4&&(this.s=4,Jt(14),w=!1),ca(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==ku){this.s=4,Jt(15),ca(this.i,this.l,Ae,"[Invalid Chunk]"),w=!1;break}else ca(this.i,this.l,zn,null),da(this,zn);if(so(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||Ae.length!=0||this.h.h||(this.s=1,Jt(16),w=!1),this.o=this.o&&w,!w)ca(this.i,this.l,Ae,"[Invalid Chunked Response]"),kn(this),Ki(this);else if(0<Ae.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),br(Pt),Pt.M=!0,Jt(11))}}else ca(this.i,this.l,Ae,null),da(this,Ae);pn==4&&kn(this),this.o&&!this.J&&(pn==4?qt(this.j,this):(this.o=!1,Qi(this)))}else Gu(this.g),w==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),kn(this),Ki(this)}}}catch{}finally{}};function so(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Mh(f,E){var w=f.C,O=E.indexOf(`
`,w);return O==-1?il:(w=Number(E.substring(w,O)),isNaN(w)?ku:(O+=1,O+w>E.length?il:(E=E.slice(O,O+w),f.C=O+w,E)))}ar.prototype.cancel=function(){this.J=!0,kn(this)};function Qi(f){f.S=Date.now()+f.I,Ph(f,f.I)}function Ph(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=_n(x(f.ba,f),E)}function fa(f){f.B&&(y.clearTimeout(f.B),f.B=null)}ar.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Nh(this.i,this.A),this.L!=2&&(ua(),Jt(17)),kn(this),this.s=2,Ki(this)):Ph(this,this.S-f)};function Ki(f){f.j.G==0||f.J||qt(f.j,f)}function kn(f){fa(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,_s(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function da(f,E){try{var w=f.j;if(w.G!=0&&(w.g==f||Uu(w.h,f))){if(!f.K&&Uu(w.h,f)&&w.G==3){try{var O=w.Da.g.parse(E)}catch{O=null}if(Array.isArray(O)&&O.length==3){var J=O;if(J[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<f.F)ma(w),go(w);else break e;pl(w),Jt(18)}}else w.za=J[1],0<w.za-w.T&&37500>J[2]&&w.F&&w.v==0&&!w.C&&(w.C=_n(x(w.Za,w),6e3));if(1>=al(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Ri(w,11)}else if((f.K||w.g==f)&&ma(w),!ce(E))for(J=w.Da.g.parse(E),E=0;E<J.length;E++){let gt=J[E];if(w.T=gt[0],gt=gt[1],w.G==2)if(gt[0]=="c"){w.K=gt[1],w.ia=gt[2];const Pt=gt[3];Pt!=null&&(w.la=Pt,w.j.info("VER="+w.la));const pn=gt[4];pn!=null&&(w.Aa=pn,w.j.info("SVER="+w.Aa));const Hr=gt[5];Hr!=null&&typeof Hr=="number"&&0<Hr&&(O=1.5*Hr,w.L=O,w.j.info("backChannelRequestTimeoutMs_="+O)),O=w;const zn=f.g;if(zn){const Ii=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var le=O.h;le.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(ao(le,le.h),le.h=null))}if(O.D){const Ku=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ku&&(O.ya=Ku,kt(O.I,O.D,Ku))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms")),O=w;var Ae=f;if(O.qa=ml(O,O.J?O.ia:null,O.W),Ae.K){Jn(O.h,Ae);var ct=Ae,An=O.L;An&&(ct.I=An),ct.B&&(fa(ct),Qi(ct)),O.g=Ae}else jh(O);0<w.i.length&&po(w)}else gt[0]!="stop"&&gt[0]!="close"||Ri(w,7);else w.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?Ri(w,7):gl(w):gt[0]!="noop"&&w.l&&w.l.ta(gt),w.v=0)}}ua(4)}catch{}}var Vu=class{constructor(f,E){this.g=f,this.map=E}};function bs(f){this.l=f||10,y.PerformanceNavigationTiming?(f=y.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function al(f){return f.h?1:f.g?f.g.size:0}function Uu(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function ao(f,E){f.g?f.g.add(E):f.h=E}function Jn(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}bs.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ol(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const w of f.g.values())E=E.concat(w.D);return E}return X(f.i)}function Bu(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(v(f)){for(var E=[],w=f.length,O=0;O<w;O++)E.push(f[O]);return E}E=[],w=0;for(O in f)E[w++]=f[O];return E}function ll(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(v(f)||typeof f=="string"){var E=[];f=f.length;for(var w=0;w<f;w++)E.push(w);return E}E=[],w=0;for(const O in f)E[w++]=O;return E}}}function ul(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(v(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var w=ll(f),O=Bu(f),J=O.length,le=0;le<J;le++)E.call(void 0,O[le],w&&w[le],f)}var $i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lh(f,E){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var O=f[w].indexOf("="),J=null;if(0<=O){var le=f[w].substring(0,O);J=f[w].substring(O+1)}else le=f[w];E(le,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function En(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof En){this.h=f.h,ga(this,f.j),this.o=f.o,this.g=f.g,Yi(this,f.s),this.l=f.l;var E=f.i,w=new Xi;w.i=E.i,E.g&&(w.g=new Map(E.g),w.h=E.h),As(this,w),this.m=f.m}else f&&(E=String(f).match($i))?(this.h=!1,ga(this,E[1]||"",!0),this.o=Tr(E[2]||""),this.g=Tr(E[3]||"",!0),Yi(this,E[4]),this.l=Tr(E[5]||"",!0),As(this,E[6]||"",!0),this.m=Tr(E[7]||"")):(this.h=!1,this.i=new Xi(null,this.h))}En.prototype.toString=function(){var f=[],E=this.j;E&&f.push(ri(E,cl,!0),":");var w=this.g;return(w||E=="file")&&(f.push("//"),(E=this.o)&&f.push(ri(E,cl,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&f.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(ri(w,w.charAt(0)=="/"?kh:ju,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",ri(w,oo)),f.join("")};function Er(f){return new En(f)}function ga(f,E,w){f.j=w?Tr(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Yi(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function As(f,E,w){E instanceof Xi?(f.i=E,Uh(f.i,f.h)):(w||(E=ri(E,Vh)),f.i=new Xi(E,f.h))}function kt(f,E,w){f.i.set(E,w)}function Ss(f){return kt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Tr(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ri(f,E,w){return typeof f=="string"?(f=encodeURI(f).replace(E,zu),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function zu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var cl=/[#\/\?@]/g,ju=/[#\?:]/g,kh=/[#\?]/g,Vh=/[#\?@]/g,oo=/#/g;function Xi(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function ii(f){f.g||(f.g=new Map,f.h=0,f.i&&Lh(f.i,function(E,w){f.add(decodeURIComponent(E.replace(/\+/g," ")),w)}))}r=Xi.prototype,r.add=function(f,E){ii(this),this.i=null,f=Wi(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(E),this.h+=1,this};function Rs(f,E){ii(f),E=Wi(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function Is(f,E){return ii(f),E=Wi(f,E),f.g.has(E)}r.forEach=function(f,E){ii(this),this.g.forEach(function(w,O){w.forEach(function(J){f.call(E,J,O,this)},this)},this)},r.na=function(){ii(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),w=[];for(let O=0;O<E.length;O++){const J=f[O];for(let le=0;le<J.length;le++)w.push(E[O])}return w},r.V=function(f){ii(this);let E=[];if(typeof f=="string")Is(this,f)&&(E=E.concat(this.g.get(Wi(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)E=E.concat(f[w])}return E},r.set=function(f,E){return ii(this),this.i=null,f=Wi(this,f),Is(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},r.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function hl(f,E,w){Rs(f,E),0<w.length&&(f.i=null,f.g.set(Wi(f,E),X(w)),f.h+=w.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var w=0;w<E.length;w++){var O=E[w];const le=encodeURIComponent(String(O)),Ae=this.V(O);for(O=0;O<Ae.length;O++){var J=le;Ae[O]!==""&&(J+="="+encodeURIComponent(String(Ae[O]))),f.push(J)}}return this.i=f.join("&")};function Wi(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Uh(f,E){E&&!f.j&&(ii(f),f.i=null,f.g.forEach(function(w,O){var J=O.toLowerCase();O!=J&&(Rs(this,O),hl(this,J,w))},f)),f.j=E}function lo(f,E){const w=new _r;if(y.Image){const O=new Image;O.onload=L(wr,w,"TestLoadImage: loaded",!0,E,O),O.onerror=L(wr,w,"TestLoadImage: error",!1,E,O),O.onabort=L(wr,w,"TestLoadImage: abort",!1,E,O),O.ontimeout=L(wr,w,"TestLoadImage: timeout",!1,E,O),y.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else E(!1)}function Si(f,E){const w=new _r,O=new AbortController,J=setTimeout(()=>{O.abort(),wr(w,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:O.signal}).then(le=>{clearTimeout(J),le.ok?wr(w,"TestPingServer: ok",!0,E):wr(w,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(J),wr(w,"TestPingServer: error",!1,E)})}function wr(f,E,w,O,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),O(w)}catch{}}function uo(){this.g=new Es}function Zi(f,E,w){const O=w||"";try{ul(f,function(J,le){let Ae=J;_(J)&&(Ae=Fr(J)),E.push(O+le+"="+encodeURIComponent(Ae))})}catch(J){throw E.push(O+"type="+encodeURIComponent("_badmap")),J}}function pa(f){this.l=f.Ub||null,this.j=f.eb||!1}z(pa,Ou),pa.prototype.g=function(){return new Cs(this.l,this.j)},pa.prototype.i=function(f){return function(){return f}}({});function Cs(f,E){an.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Cs,an),r=Cs.prototype,r.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,dt(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||y).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yt(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,dt(this)),this.g&&(this.readyState=3,dt(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?yt(this):dt(this),this.readyState==3&&Fu(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,yt(this))},r.Qa=function(f){this.g&&(this.response=f,yt(this))},r.ga=function(){this.g&&yt(this)};function yt(f){f.readyState=4,f.l=null,f.j=null,f.v=null,dt(f)}r.setRequestHeader=function(f,E){this.u.append(f,E)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var w=E.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=E.next();return f.join(`\r
`)};function dt(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Hu(f){let E="";return Ie(f,function(w,O){E+=O,E+=":",E+=w,E+=`\r
`}),E}function Vn(f,E,w){e:{for(O in w){var O=!1;break e}O=!0}O||(w=Hu(w),typeof f=="string"?w!=null&&encodeURIComponent(String(w)):kt(f,E,w))}function Mt(f){an.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Mt,an);var fl=/^https?$/i,co=["POST","PUT"];r=Mt.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,E,w,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gi.g(),this.v=this.o?Du(this.o):Du(Gi),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(le){Bh(this,le);return}if(f=w||"",w=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var J in O)w.set(J,O[J]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const le of O.keys())w.set(le,O.get(le));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(w.keys()).find(le=>le.toLowerCase()=="content-type"),J=y.FormData&&f instanceof y.FormData,!(0<=Array.prototype.indexOf.call(co,E,void 0))||O||J||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Ae]of w)this.g.setRequestHeader(le,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xs(this),this.u=!0,this.g.send(f),this.u=!1}catch(le){Bh(this,le)}};function Bh(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,ho(f),$t(f)}function ho(f){f.A||(f.A=!0,wt(f,"complete"),wt(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,wt(this,"complete"),wt(this,"abort"),$t(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Mt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?dl(this):this.bb())},r.bb=function(){dl(this)};function dl(f){if(f.h&&typeof d<"u"&&(!f.v[1]||Un(f)!=4||f.Z()!=2)){if(f.u&&Un(f)==4)Ln(f.Ea,0,f);else if(wt(f,"readystatechange"),Un(f)==4){f.h=!1;try{const Ae=f.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var w;if(!(w=E)){var O;if(O=Ae===0){var J=String(f.D).match($i)[1]||null;!J&&y.self&&y.self.location&&(J=y.self.location.protocol.slice(0,-1)),O=!fl.test(J?J.toLowerCase():"")}w=O}if(w)wt(f,"complete"),wt(f,"success");else{f.m=6;try{var le=2<Un(f)?f.g.statusText:""}catch{le=""}f.l=le+" ["+f.Z()+"]",ho(f)}}finally{$t(f)}}}}function $t(f,E){if(f.g){xs(f);const w=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||wt(f,"ready");try{w.onreadystatechange=O}catch{}}}function xs(f){f.I&&(y.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function Un(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),oa(E)}};function qu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Gu(f){const E={};f=(f.g&&2<=Un(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(ce(f[O]))continue;var w=Q(f[O]);const J=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const le=E[J]||[];E[J]=le,le.push(w)}j(E,function(O){return O.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bn(f,E,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||E}function fo(f){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bn("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bn("baseRetryDelayMs",5e3,f),this.cb=Bn("retryDelaySeedMs",1e4,f),this.Wa=Bn("forwardChannelMaxRetries",2,f),this.wa=Bn("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new bs(f&&f.concurrentRequestLimit),this.Da=new uo,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=fo.prototype,r.la=8,r.G=1,r.connect=function(f,E,w,O){Jt(0),this.W=f,this.H=E||{},w&&O!==void 0&&(this.H.OSID=w,this.H.OAID=O),this.F=this.X,this.I=ml(this,null,this.W),po(this)};function gl(f){if(Qu(f),f.G==3){var E=f.U++,w=Er(f.I);if(kt(w,"SID",f.K),kt(w,"RID",E),kt(w,"TYPE","terminate"),mo(f,w),E=new ar(f,f.j,E),E.L=2,E.v=Ss(Er(w)),w=!1,y.navigator&&y.navigator.sendBeacon)try{w=y.navigator.sendBeacon(E.v.toString(),"")}catch{}!w&&y.Image&&(new Image().src=E.v,w=!0),w||(E.g=Hh(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Qi(E)}Fh(f)}function go(f){f.g&&(br(f),f.g.cancel(),f.g=null)}function Qu(f){go(f),f.u&&(y.clearTimeout(f.u),f.u=null),ma(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&y.clearTimeout(f.s),f.s=null)}function po(f){if(!sl(f.h)&&!f.s){f.s=!0;var E=f.Ga;Re||P(),Ne||(Re(),Ne=!0),Tt.add(E,f),f.B=0}}function zh(f,E){return al(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=_n(x(f.Ga,f,E),si(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const J=new ar(this,this.j,f);let le=this.o;if(this.S&&(le?(le=N(le),F(le,this.S)):le=this.S),this.m!==null||this.O||(J.H=le,le=null),this.P)e:{for(var E=0,w=0;w<this.i.length;w++){t:{var O=this.i[w];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(E+=O,4096<E){E=w;break e}if(E===4096||w===this.i.length-1){E=w+1;break e}}E=1e3}else E=1e3;E=or(this,J,E),w=Er(this.I),kt(w,"RID",f),kt(w,"CVER",22),this.D&&kt(w,"X-HTTP-Session-Id",this.D),mo(this,w),le&&(this.O?E="headers="+encodeURIComponent(String(Hu(le)))+"&"+E:this.m&&Vn(w,this.m,le)),ao(this.h,J),this.Ua&&kt(w,"TYPE","init"),this.P?(kt(w,"$req",E),kt(w,"SID","null"),J.T=!0,Ai(J,w,null)):Ai(J,w,E),this.G=2}}else this.G==3&&(f?$n(this,f):this.i.length==0||sl(this.h)||$n(this))};function $n(f,E){var w;E?w=E.l:w=f.U++;const O=Er(f.I);kt(O,"SID",f.K),kt(O,"RID",w),kt(O,"AID",f.T),mo(f,O),f.m&&f.o&&Vn(O,f.m,f.o),w=new ar(f,f.j,w,f.B+1),f.m===null&&(w.H=f.o),E&&(f.i=E.D.concat(f.i)),E=or(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ao(f.h,w),Ai(w,O,E)}function mo(f,E){f.H&&Ie(f.H,function(w,O){kt(E,O,w)}),f.l&&ul({},function(w,O){kt(E,O,w)})}function or(f,E,w){w=Math.min(f.i.length,w);var O=f.l?x(f.l.Na,f.l,f):null;e:{var J=f.i;let le=-1;for(;;){const Ae=["count="+w];le==-1?0<w?(le=J[0].g,Ae.push("ofs="+le)):le=0:Ae.push("ofs="+le);let ct=!0;for(let An=0;An<w;An++){let gt=J[An].g;const Pt=J[An].map;if(gt-=le,0>gt)le=Math.max(0,J[An].g-100),ct=!1;else try{Zi(Pt,Ae,"req"+gt+"_")}catch{O&&O(Pt)}}if(ct){O=Ae.join("&");break e}}}return f=f.i.splice(0,w),E.D=f,O}function jh(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;Re||P(),Ne||(Re(),Ne=!0),Tt.add(E,f),f.v=0}}function pl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=_n(x(f.Fa,f),si(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,yo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=_n(x(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),go(this),yo(this))};function br(f){f.A!=null&&(y.clearTimeout(f.A),f.A=null)}function yo(f){f.g=new ar(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Er(f.qa);kt(E,"RID","rpc"),kt(E,"SID",f.K),kt(E,"AID",f.T),kt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&kt(E,"TO",f.ja),kt(E,"TYPE","xmlhttp"),mo(f,E),f.m&&f.o&&Vn(E,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=Ss(Er(E)),w.m=null,w.P=!0,ws(w,f)}r.Za=function(){this.C!=null&&(this.C=null,go(this),pl(this),Jt(19))};function ma(f){f.C!=null&&(y.clearTimeout(f.C),f.C=null)}function qt(f,E){var w=null;if(f.g==E){ma(f),br(f),f.g=null;var O=2}else if(Uu(f.h,E))w=E.D,Jn(f.h,E),O=1;else return;if(f.G!=0){if(E.o)if(O==1){w=E.m?E.m.length:0,E=Date.now()-E.F;var J=f.B;O=la(),wt(O,new dn(O,w)),po(f)}else jh(f);else if(J=E.s,J==3||J==0&&0<E.X||!(O==1&&zh(f,E)||O==2&&pl(f)))switch(w&&0<w.length&&(E=f.h,E.i=E.i.concat(w)),J){case 1:Ri(f,5);break;case 4:Ri(f,10);break;case 3:Ri(f,6);break;default:Ri(f,2)}}}function si(f,E){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*E}function Ri(f,E){if(f.j.info("Error code "+E),E==2){var w=x(f.fb,f),O=f.Xa;const J=!O;O=new En(O||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||ga(O,"https"),Ss(O),J?lo(O.toString(),w):Si(O.toString(),w)}else Jt(2);f.G=0,f.l&&f.l.sa(E),Fh(f),Qu(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Fh(f){if(f.G=0,f.ka=[],f.l){const E=ol(f.h);(E.length!=0||f.i.length!=0)&&(H(f.ka,E),H(f.ka,f.i),f.h.i.length=0,X(f.i),f.i.length=0),f.l.ra()}}function ml(f,E,w){var O=w instanceof En?Er(w):new En(w);if(O.g!="")E&&(O.g=E+"."+O.g),Yi(O,O.s);else{var J=y.location;O=J.protocol,E=E?E+"."+J.hostname:J.hostname,J=+J.port;var le=new En(null);O&&ga(le,O),E&&(le.g=E),J&&Yi(le,J),w&&(le.l=w),O=le}return w=f.D,E=f.ya,w&&E&&kt(O,w,E),kt(O,"VER",f.la),mo(f,O),O}function Hh(f,E,w){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new Mt(new pa({eb:w})):new Mt(f.pa),E.Ha(f.J),E}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qh(){}r=qh.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function yl(){}yl.prototype.g=function(f,E){return new er(f,E)};function er(f,E){an.call(this),this.g=new fo(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!ce(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!ce(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Ji(this)}z(er,an),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){gl(this.g)},er.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.u&&(w={},w.__data__=Fr(f),f=w);E.i.push(new Vu(E.Ya++,f)),E.G==3&&po(E)},er.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,er.aa.N.call(this)};function vo(f){Hi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const w in E){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}z(vo,Hi);function Os(){Mu.call(this),this.status=1}z(Os,Mu);function Ji(f){this.g=f}z(Ji,qh),Ji.prototype.ua=function(){wt(this.g,"a")},Ji.prototype.ta=function(f){wt(this.g,new vo(f))},Ji.prototype.sa=function(f){wt(this.g,new Os)},Ji.prototype.ra=function(){wt(this.g,"b")},yl.prototype.createWebChannel=yl.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,Mb=function(){return new yl},Nb=function(){return la()},Db=qi,q0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ha.NO_ERROR=0,ha.TIMEOUT=8,ha.HTTP_ERROR=6,gv=ha,Ts.COMPLETE="complete",Ob=Ts,Nu.EventType=Fi,Fi.OPEN="a",Fi.CLOSE="b",Fi.ERROR="c",Fi.MESSAGE="d",an.prototype.listen=an.prototype.K,dp=Nu,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,xb=Mt}).apply(typeof sv<"u"?sv:typeof self<"u"?self:typeof window<"u"?window:{});const a1="@firebase/firestore",o1="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Jv("@firebase/firestore");function sd(){return fh.logLevel}function De(r,...e){if(fh.logLevel<=_t.DEBUG){const t=e.map(ME);fh.debug(`Firestore (${kd}): ${r}`,...t)}}function Jo(r,...e){if(fh.logLevel<=_t.ERROR){const t=e.map(ME);fh.error(`Firestore (${kd}): ${r}`,...t)}}function Id(r,...e){if(fh.logLevel<=_t.WARN){const t=e.map(ME);fh.warn(`Firestore (${kd}): ${r}`,...t)}}function ME(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Pb(r,s,t)}function Pb(r,e,t){let s=`FIRESTORE (${kd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Jo(s),new Error(s)}function Ht(r,e,t,s){let l="Unexpected state";typeof t=="string"?l=t:s=t,r||Pb(e,l,s)}function et(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends ra{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ur.UNAUTHENTICATED))}shutdown(){}}class v2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _2{constructor(e){this.t=e,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ht(this.o===void 0,42304);let s=this.i;const l=v=>this.i!==s?(s=this.i,t(v)):Promise.resolve();let h=new mu;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new mu,e.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await l(this.currentUser)})},y=v=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>y(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new mu)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new Lb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Ur(e)}}class E2{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T2{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new E2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ht(this.o===void 0,3512);const s=h=>{h.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,De("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const l=h=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new l1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ht(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new l1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=b2(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<t&&(s+=e.charAt(l[h]%62))}return s}}function ut(r,e){return r<e?-1:r>e?1:0}function G0(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),l=e.codePointAt(t);if(s!==l){if(s<128&&l<128)return ut(s,l);{const h=kb(),d=A2(h.encode(u1(r,t)),h.encode(u1(e,t)));return d!==0?d:ut(s,l)}}t+=s>65535?2:1}return ut(r.length,e.length)}function u1(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function A2(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return ut(r[t],e[t]);return ut(r.length,e.length)}function Cd(r,e,t){return r.length===e.length&&r.every((s,l)=>t(s,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=-62135596800,h1=1e6;class Wn{static now(){return Wn.fromMillis(Date.now())}static fromDate(e){return Wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*h1);return new Wn(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<c1)throw new Ue(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h1}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-c1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new Wn(0,0))}static max(){return new Je(new Wn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="__name__";class Ha{constructor(e,t,s){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&$e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ha.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ha?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const h=Ha.compareSegments(e.get(l),t.get(l));if(h!==0)return h}return ut(e.length,t.length)}static compareSegments(e,t){const s=Ha.isNumericId(e),l=Ha.isNumericId(t);return s&&!l?-1:!s&&l?1:s&&l?Ha.extractNumericId(e).compare(Ha.extractNumericId(t)):G0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pu.fromString(e.substring(4,e.length-2))}}class hn extends Ha{construct(e,t,s){return new hn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ue(Te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(l=>l.length>0))}return new hn(t)}static emptyPath(){return new hn([])}}const S2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends Ha{construct(e,t,s){return new mr(e,t,s)}static isValidIdentifier(e){return S2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f1}static keyField(){return new mr([f1])}static fromServerFormat(e){const t=[];let s="",l=0;const h=()=>{if(s.length===0)throw new Ue(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new Ue(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Ue(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(s+=y,l++):(h(),l++)}if(h(),d)throw new Ue(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mr(t)}static emptyPath(){return new mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(hn.fromString(e))}static fromName(e){return new Fe(hn.fromString(e).popFirst(5))}static empty(){return new Fe(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&hn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new hn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=-1;function R2(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Je.fromTimestamp(s===1e9?new Wn(t+1,0):new Wn(t,s));return new Tu(l,Fe.empty(),e)}function I2(r){return new Tu(r.readTime,r.key,Cp)}class Tu{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Tu(Je.min(),Fe.empty(),Cp)}static max(){return new Tu(Je.max(),Fe.empty(),Cp)}}function C2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Fe.comparator(r.documentKey,e.documentKey),t!==0?t:ut(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(r){if(r.code!==Te.FAILED_PRECONDITION||r.message!==x2)throw r;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ve((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(t,h).next(s,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ve?t:ve.resolve(t)}catch(t){return ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.reject(t)}static resolve(e){return new ve((t,s)=>{t(e)})}static reject(e){return new ve((t,s)=>{s(e)})}static waitFor(e){return new ve((t,s)=>{let l=0,h=0,d=!1;e.forEach(y=>{++l,y.next(()=>{++h,d&&h===l&&t()},v=>s(v))}),d=!0,h===l&&t()})}static or(e){let t=ve.resolve(!1);for(const s of e)t=t.next(l=>l?ve.resolve(l):s());return t}static forEach(e,t){const s=[];return e.forEach((l,h)=>{s.push(t.call(this,l,h))}),this.waitFor(s)}static mapArray(e,t){return new ve((s,l)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;t(e[_]).next(A=>{d[_]=A,++y,y===h&&s(d)},A=>l(A))}})}static doWhile(e,t){return new ve((s,l)=>{const h=()=>{e()===!0?t().next(()=>{h()},l):s()};h()})}}function D2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ud(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}e_.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=-1;function t_(r){return r==null}function Iv(r){return r===0&&1/r==-1/0}function N2(r){return typeof r=="number"&&Number.isInteger(r)&&!Iv(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="";function M2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=d1(e)),e=P2(r.get(t),e);return d1(e)}function P2(r,e){let t=e;const s=r.length;for(let l=0;l<s;l++){const h=r.charAt(l);switch(h){case"\0":t+="";break;case Ub:t+="";break;default:t+=h}}return t}function d1(r){return r+Ub+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function bh(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Bb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t){this.comparator=e,this.root=t||gr.EMPTY}insert(e,t){return new yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new av(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new av(this.root,e,this.comparator,!1)}getReverseIterator(){return new av(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new av(this.root,e,this.comparator,!0)}}class av{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?s(e.key,t):1,t&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gr{constructor(e,t,s,l,h){this.key=e,this.value=t,this.color=s??gr.RED,this.left=l??gr.EMPTY,this.right=h??gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,h){return new gr(e??this.key,t??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const h=s(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,t,s),null):h===0?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),t(e,l.key)===0){if(l.right.isEmpty())return gr.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1;gr.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,s,l,h){return this}insert(e,t,s){return new gr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.comparator=e,this.data=new yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new p1(this.data.getIterator())}getIteratorFrom(e){return new p1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zn(this.comparator);return t.data=e,t}}class p1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.fields=e,e.sort(mr.comparator)}static empty(){return new Ws([])}unionWith(e){let t=new Zn(mr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ws(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cd(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new zb("Invalid base64 string: "+h):h}}(e);return new yr(t)}static fromUint8Array(e){const t=function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h}(e);return new yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let l=0;l<t.length;l++)s[l]=t.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const L2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wu(r){if(Ht(!!r,39018),typeof r=="string"){let e=0;const t=L2.exec(r);if(Ht(!!t,46558,{timestamp:r}),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nn(r.seconds),nanos:Nn(r.nanos)}}function Nn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function bu(r){return typeof r=="string"?yr.fromBase64String(r):yr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="server_timestamp",Fb="__type__",Hb="__previous_value__",qb="__local_write_time__";function LE(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fb])===null||t===void 0?void 0:t.stringValue)===jb}function n_(r){const e=r.mapValue.fields[Hb];return LE(e)?n_(e):e}function xp(r){const e=wu(r.mapValue.fields[qb].timestampValue);return new Wn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,t,s,l,h,d,y,v,_,A){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Cv="(default)";class Op{constructor(e,t){this.projectId=e,this.database=t||Cv}static empty(){return new Op("","")}get isDefaultDatabase(){return this.database===Cv}isEqual(e){return e instanceof Op&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="__type__",V2="__max__",ov={mapValue:{}},Qb="__vector__",xv="value";function Au(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?LE(r)?4:B2(r)?9007199254740991:U2(r)?10:11:$e(28295,{value:r})}function Wa(r,e){if(r===e)return!0;const t=Au(r);if(t!==Au(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xp(r).isEqual(xp(e));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=wu(l.timestampValue),y=wu(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(l,h){return bu(l.bytesValue).isEqual(bu(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,h){return Nn(l.geoPointValue.latitude)===Nn(h.geoPointValue.latitude)&&Nn(l.geoPointValue.longitude)===Nn(h.geoPointValue.longitude)}(r,e);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return Nn(l.integerValue)===Nn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=Nn(l.doubleValue),y=Nn(h.doubleValue);return d===y?Iv(d)===Iv(y):isNaN(d)&&isNaN(y)}return!1}(r,e);case 9:return Cd(r.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:case 11:return function(l,h){const d=l.mapValue.fields||{},y=h.mapValue.fields||{};if(g1(d)!==g1(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Wa(d[v],y[v])))return!1;return!0}(r,e);default:return $e(52216,{left:r})}}function Dp(r,e){return(r.values||[]).find(t=>Wa(t,e))!==void 0}function xd(r,e){if(r===e)return 0;const t=Au(r),s=Au(e);if(t!==s)return ut(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ut(r.booleanValue,e.booleanValue);case 2:return function(h,d){const y=Nn(h.integerValue||h.doubleValue),v=Nn(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1}(r,e);case 3:return m1(r.timestampValue,e.timestampValue);case 4:return m1(xp(r),xp(e));case 5:return G0(r.stringValue,e.stringValue);case 6:return function(h,d){const y=bu(h),v=bu(d);return y.compareTo(v)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=ut(y[_],v[_]);if(A!==0)return A}return ut(y.length,v.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const y=ut(Nn(h.latitude),Nn(d.latitude));return y!==0?y:ut(Nn(h.longitude),Nn(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return y1(r.arrayValue,e.arrayValue);case 10:return function(h,d){var y,v,_,A;const R=h.fields||{},x=d.fields||{},L=(y=R[xv])===null||y===void 0?void 0:y.arrayValue,z=(v=x[xv])===null||v===void 0?void 0:v.arrayValue,X=ut(((_=L==null?void 0:L.values)===null||_===void 0?void 0:_.length)||0,((A=z==null?void 0:z.values)===null||A===void 0?void 0:A.length)||0);return X!==0?X:y1(L,z)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===ov.mapValue&&d===ov.mapValue)return 0;if(h===ov.mapValue)return 1;if(d===ov.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let R=0;R<v.length&&R<A.length;++R){const x=G0(v[R],A[R]);if(x!==0)return x;const L=xd(y[v[R]],_[A[R]]);if(L!==0)return L}return ut(v.length,A.length)}(r.mapValue,e.mapValue);default:throw $e(23264,{Pe:t})}}function m1(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ut(r,e);const t=wu(r),s=wu(e),l=ut(t.seconds,s.seconds);return l!==0?l:ut(t.nanos,s.nanos)}function y1(r,e){const t=r.values||[],s=e.values||[];for(let l=0;l<t.length&&l<s.length;++l){const h=xd(t[l],s[l]);if(h)return h}return ut(t.length,s.length)}function Od(r){return Q0(r)}function Q0(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=wu(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return bu(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Fe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",l=!0;for(const h of t.values||[])l?l=!1:s+=",",s+=Q0(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let l="{",h=!0;for(const d of s)h?h=!1:l+=",",l+=`${d}:${Q0(t.fields[d])}`;return l+"}"}(r.mapValue):$e(61005,{value:r})}function pv(r){switch(Au(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=n_(r);return e?16+pv(e):16;case 5:return 2*r.stringValue.length;case 6:return bu(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,h)=>l+pv(h),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return bh(s.fields,(h,d)=>{l+=h.length+pv(d)}),l}(r.mapValue);default:throw $e(13486,{value:r})}}function K0(r){return!!r&&"integerValue"in r}function kE(r){return!!r&&"arrayValue"in r}function v1(r){return!!r&&"nullValue"in r}function _1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mv(r){return!!r&&"mapValue"in r}function U2(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Gb])===null||t===void 0?void 0:t.stringValue)===Qb}function Ep(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return bh(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ep(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ep(r.arrayValue.values[t]);return e}return Object.assign({},r)}function B2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===V2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!mv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ep(t)}setAll(e){let t=mr.emptyPath(),s={},l=[];e.forEach((d,y)=>{if(!t.isImmediateParentOf(y)){const v=this.getFieldsMap(t);this.applyChanges(v,s,l),s={},l=[],t=y.popLast()}d?s[y.lastSegment()]=Ep(d):l.push(y.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,s,l)}delete(e){const t=this.field(e.popLast());mv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];mv(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){bh(t,(l,h)=>e[l]=h);for(const l of s)delete e[l]}clone(){return new ds(Ep(this.value))}}function Kb(r){const e=[];return bh(r.fields,(t,s)=>{const l=new mr([t]);if(mv(s)){const h=Kb(s.mapValue).fields;if(h.length===0)e.push(l);else for(const d of h)e.push(l.child(d))}else e.push(l)}),new Ws(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,t,s,l,h,d,y){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Br(e,0,Je.min(),Je.min(),Je.min(),ds.empty(),0)}static newFoundDocument(e,t,s,l){return new Br(e,1,t,Je.min(),s,l,0)}static newNoDocument(e,t){return new Br(e,2,t,Je.min(),Je.min(),ds.empty(),0)}static newUnknownDocument(e,t){return new Br(e,3,t,Je.min(),Je.min(),ds.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t){this.position=e,this.inclusive=t}}function E1(r,e,t){let s=0;for(let l=0;l<r.position.length;l++){const h=e[l],d=r.position[l];if(h.field.isKeyField()?s=Fe.comparator(Fe.fromName(d.referenceValue),t.key):s=xd(d,t.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function T1(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Wa(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,t="asc"){this.field=e,this.dir=t}}function z2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $b=class{};class Xn extends $b{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new F2(e,t,s):t==="array-contains"?new G2(e,s):t==="in"?new Q2(e,s):t==="not-in"?new K2(e,s):t==="array-contains-any"?new $2(e,s):new Xn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new H2(e,s):new q2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xd(t,this.value)):t!==null&&Au(this.value)===Au(t)&&this.matchesComparison(xd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Za extends $b{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Za(e,t)}matches(e){return Yb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Yb(r){return r.op==="and"}function Xb(r){return j2(r)&&Yb(r)}function j2(r){for(const e of r.filters)if(e instanceof Za)return!1;return!0}function $0(r){if(r instanceof Xn)return r.field.canonicalString()+r.op.toString()+Od(r.value);if(Xb(r))return r.filters.map(e=>$0(e)).join(",");{const e=r.filters.map(t=>$0(t)).join(",");return`${r.op}(${e})`}}function Wb(r,e){return r instanceof Xn?function(s,l){return l instanceof Xn&&s.op===l.op&&s.field.isEqual(l.field)&&Wa(s.value,l.value)}(r,e):r instanceof Za?function(s,l){return l instanceof Za&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((h,d,y)=>h&&Wb(d,l.filters[y]),!0):!1}(r,e):void $e(19439)}function Zb(r){return r instanceof Xn?function(t){return`${t.field.canonicalString()} ${t.op} ${Od(t.value)}`}(r):r instanceof Za?function(t){return t.op.toString()+" {"+t.getFilters().map(Zb).join(" ,")+"}"}(r):"Filter"}class F2 extends Xn{constructor(e,t,s){super(e,t,s),this.key=Fe.fromName(s.referenceValue)}matches(e){const t=Fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class H2 extends Xn{constructor(e,t){super(e,"in",t),this.keys=Jb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class q2 extends Xn{constructor(e,t){super(e,"not-in",t),this.keys=Jb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Fe.fromName(s.referenceValue))}class G2 extends Xn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kE(t)&&Dp(t.arrayValue,this.value)}}class Q2 extends Xn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Dp(this.value.arrayValue,t)}}class K2 extends Xn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Dp(this.value.arrayValue,t)}}class $2 extends Xn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Dp(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,t=null,s=[],l=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=d,this.endAt=y,this.Ie=null}}function w1(r,e=null,t=[],s=[],l=null,h=null,d=null){return new Y2(r,e,t,s,l,h,d)}function VE(r){const e=et(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>$0(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),t_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Od(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Od(s)).join(",")),e.Ie=t}return e.Ie}function UE(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!z2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Wb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!T1(r.startAt,e.startAt)&&T1(r.endAt,e.endAt)}function Y0(r){return Fe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,t=null,s=[],l=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function X2(r,e,t,s,l,h,d,y){return new r_(r,e,t,s,l,h,d,y)}function i_(r){return new r_(r)}function b1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function W2(r){return r.collectionGroup!==null}function Tp(r){const e=et(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),t.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Zn(mr.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(y=y.add(_.field))})}),y})(e).forEach(h=>{t.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Dv(h,s))}),t.has(mr.keyField().canonicalString())||e.Ee.push(new Dv(mr.keyField(),s))}return e.Ee}function Ka(r){const e=et(r);return e.de||(e.de=Z2(e,Tp(r))),e.de}function Z2(r,e){if(r.limitType==="F")return w1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new Dv(l.field,h)});const t=r.endAt?new Ov(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ov(r.startAt.position,r.startAt.inclusive):null;return w1(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function X0(r,e,t){return new r_(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function s_(r,e){return UE(Ka(r),Ka(e))&&r.limitType===e.limitType}function eA(r){return`${VE(Ka(r))}|lt:${r.limitType}`}function ad(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(l=>Zb(l)).join(", ")}]`),t_(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(l=>Od(l)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(l=>Od(l)).join(",")),`Target(${s})`}(Ka(r))}; limitType=${r.limitType})`}function a_(r,e){return e.isFoundDocument()&&function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):Fe.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,l){for(const h of Tp(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0}(r,e)&&function(s,l){return!(s.startAt&&!function(d,y,v){const _=E1(d,y,v);return d.inclusive?_<=0:_<0}(s.startAt,Tp(s),l)||s.endAt&&!function(d,y,v){const _=E1(d,y,v);return d.inclusive?_>=0:_>0}(s.endAt,Tp(s),l))}(r,e)}function J2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tA(r){return(e,t)=>{let s=!1;for(const l of Tp(r)){const h=eO(l,e,t);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function eO(r,e,t){const s=r.field.isKeyField()?Fe.comparator(e.key,t.key):function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?xd(v,_):$e(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return $e(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,e))return h}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){bh(this.inner,(t,s)=>{for(const[l,h]of s)e(l,h)})}isEmpty(){return Bb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new yn(Fe.comparator);function el(){return tO}const nA=new yn(Fe.comparator);function gp(...r){let e=nA;for(const t of r)e=e.insert(t.key,t);return e}function rA(r){let e=nA;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function eh(){return wp()}function iA(){return wp()}function wp(){return new Ah(r=>r.toString(),(r,e)=>r.isEqual(e))}const nO=new yn(Fe.comparator),rO=new Zn(Fe.comparator);function Et(...r){let e=rO;for(const t of r)e=e.add(t);return e}const iO=new Zn(ut);function sO(){return iO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iv(e)?"-0":e}}function sA(r){return{integerValue:""+r}}function aO(r,e){return N2(e)?sA(e):BE(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this._=void 0}}function oO(r,e,t){return r instanceof Nv?function(l,h){const d={fields:{[Fb]:{stringValue:jb},[qb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&LE(h)&&(h=n_(h)),h&&(d.fields[Hb]=h),{mapValue:d}}(t,e):r instanceof Np?oA(r,e):r instanceof Mp?lA(r,e):function(l,h){const d=aA(l,h),y=A1(d)+A1(l.Re);return K0(d)&&K0(l.Re)?sA(y):BE(l.serializer,y)}(r,e)}function lO(r,e,t){return r instanceof Np?oA(r,e):r instanceof Mp?lA(r,e):t}function aA(r,e){return r instanceof Mv?function(s){return K0(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Nv extends o_{}class Np extends o_{constructor(e){super(),this.elements=e}}function oA(r,e){const t=uA(e);for(const s of r.elements)t.some(l=>Wa(l,s))||t.push(s);return{arrayValue:{values:t}}}class Mp extends o_{constructor(e){super(),this.elements=e}}function lA(r,e){let t=uA(e);for(const s of r.elements)t=t.filter(l=>!Wa(l,s));return{arrayValue:{values:t}}}class Mv extends o_{constructor(e,t){super(),this.serializer=e,this.Re=t}}function A1(r){return Nn(r.integerValue||r.doubleValue)}function uA(r){return kE(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function uO(r,e){return r.field.isEqual(e.field)&&function(s,l){return s instanceof Np&&l instanceof Np||s instanceof Mp&&l instanceof Mp?Cd(s.elements,l.elements,Wa):s instanceof Mv&&l instanceof Mv?Wa(s.Re,l.Re):s instanceof Nv&&l instanceof Nv}(r.transform,e.transform)}class cO{constructor(e,t){this.version=e,this.transformResults=t}}class Xo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xo}static exists(e){return new Xo(void 0,e)}static updateTime(e){return new Xo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yv(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}let l_=class{};function cA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new fA(r.key,Xo.none()):new Kp(r.key,r.data,Xo.none());{const t=r.data,s=ds.empty();let l=new Zn(mr.comparator);for(let h of e.fields)if(!l.has(h)){let d=t.field(h);d===null&&h.length>1&&(h=h.popLast(),d=t.field(h)),d===null?s.delete(h):s.set(h,d),l=l.add(h)}return new Sh(r.key,s,new Ws(l.toArray()),Xo.none())}}function hO(r,e,t){r instanceof Kp?function(l,h,d){const y=l.value.clone(),v=R1(l.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(r,e,t):r instanceof Sh?function(l,h,d){if(!yv(l.precondition,h))return void h.convertToUnknownDocument(d.version);const y=R1(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(hA(l)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(r,e,t):function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function bp(r,e,t,s){return r instanceof Kp?function(h,d,y,v){if(!yv(h.precondition,d))return y;const _=h.value.clone(),A=I1(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,e,t,s):r instanceof Sh?function(h,d,y,v){if(!yv(h.precondition,d))return y;const _=I1(h.fieldTransforms,v,d),A=d.data;return A.setAll(hA(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(R=>R.field))}(r,e,t,s):function(h,d,y){return yv(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y}(r,e,t)}function fO(r,e){let t=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),h=aA(s.transform,l||null);h!=null&&(t===null&&(t=ds.empty()),t.set(s.field,h))}return t||null}function S1(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Cd(s,l,(h,d)=>uO(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Kp extends l_{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Sh extends l_{constructor(e,t,s,l,h=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function hA(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function R1(r,e,t){const s=new Map;Ht(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let l=0;l<t.length;l++){const h=r[l],d=h.transform,y=e.data.field(h.field);s.set(h.field,lO(d,y,t[l]))}return s}function I1(r,e,t){const s=new Map;for(const l of r){const h=l.transform,d=t.data.field(l.field);s.set(l.field,oO(h,d,e))}return s}class fA extends l_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dO extends l_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&hO(h,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=bp(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=bp(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=iA();return this.mutations.forEach(l=>{const h=e.get(l.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=t.has(l.key)?null:y;const v=cA(d,y);v!==null&&s.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Je.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Et())}isEqual(e){return this.batchId===e.batchId&&Cd(this.mutations,e.mutations,(t,s)=>S1(t,s))&&Cd(this.baseMutations,e.baseMutations,(t,s)=>S1(t,s))}}class zE{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){Ht(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let l=function(){return nO}();const h=e.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,s[d].version);return new zE(e,t,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn,xt;function yO(r){switch(r){case Te.OK:return $e(64938);case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return $e(15467,{code:r})}}function dA(r){if(r===void 0)return Jo("GRPC error has no .code"),Te.UNKNOWN;switch(r){case Gn.OK:return Te.OK;case Gn.CANCELLED:return Te.CANCELLED;case Gn.UNKNOWN:return Te.UNKNOWN;case Gn.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case Gn.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case Gn.INTERNAL:return Te.INTERNAL;case Gn.UNAVAILABLE:return Te.UNAVAILABLE;case Gn.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case Gn.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case Gn.NOT_FOUND:return Te.NOT_FOUND;case Gn.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case Gn.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case Gn.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case Gn.ABORTED:return Te.ABORTED;case Gn.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case Gn.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case Gn.DATA_LOSS:return Te.DATA_LOSS;default:return $e(39323,{code:r})}}(xt=Gn||(Gn={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new pu([4294967295,4294967295],0);function C1(r){const e=kb().encode(r),t=new Cb;return t.update(e),new Uint8Array(t.digest())}function x1(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new pu([t,s],0),new pu([l,h],0)]}class jE{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new pp(`Invalid padding: ${t}`);if(s<0)throw new pp(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new pp(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new pp(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=pu.fromNumber(this.pe)}we(e,t,s){let l=e.add(t.multiply(pu.fromNumber(s)));return l.compare(vO)===1&&(l=new pu([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=C1(e),[s,l]=x1(t);for(let h=0;h<this.hashCount;h++){const d=this.we(s,l,h);if(!this.Se(d))return!1}return!0}static create(e,t,s){const l=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new jE(h,l,t);return s.forEach(y=>d.insert(y)),d}insert(e){if(this.pe===0)return;const t=C1(e),[s,l]=x1(t);for(let h=0;h<this.hashCount;h++){const d=this.we(s,l,h);this.be(d)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class pp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,t,s,l,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const l=new Map;return l.set(e,$p.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new u_(Je.min(),l,new yn(ut),el(),Et())}}class $p{constructor(e,t,s,l,h){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new $p(s,t,Et(),Et(),Et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,t,s,l){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=l}}class gA{constructor(e,t){this.targetId=e,this.Ce=t}}class pA{constructor(e,t,s=yr.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class O1{constructor(){this.Fe=0,this.Me=D1(),this.xe=yr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Et(),t=Et(),s=Et();return this.Me.forEach((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:$e(38017,{changeType:h})}}),new $p(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=D1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class _O{constructor(e){this.ze=e,this.je=new Map,this.He=el(),this.Je=lv(),this.Ye=lv(),this.Ze=new yn(ut)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:$e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,l)=>{this.it(l)&&t(l)})}ot(e){const t=e.targetId,s=e.Ce.count,l=this._t(t);if(l){const h=l.target;if(Y0(h))if(s===0){const d=new Fe(h.path);this.tt(t,d,Br.newNoDocument(d,Je.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this.ut(t);if(d!==s){const y=this.ct(e),v=y?this.lt(y,e,d):1;if(v!==0){this.st(t);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,_)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=t;let d,y;try{d=bu(s).toUint8Array()}catch(v){if(v instanceof zb)return Id("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new jE(d,l,h)}catch(v){return Id(v instanceof pp?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.pe===0?null:y}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let l=0;return s.forEach(h=>{const d=this.ze.Pt(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.tt(t,h,null),l++)}),l}It(e){const t=new Map;this.je.forEach((h,d)=>{const y=this._t(d);if(y){if(h.current&&Y0(y.target)){const v=new Fe(y.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,Br.newNoDocument(v,e))}h.Le&&(t.set(d,h.qe()),h.Qe())}});let s=Et();this.Ye.forEach((h,d)=>{let y=!0;d.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const l=new u_(e,t,this.Ze,this.He,s);return this.He=el(),this.Je=lv(),this.Ye=lv(),this.Ze=new yn(ut),l}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const l=this.rt(e);this.dt(e,t)?l.$e(t,1):l.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new O1,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Zn(ut),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Zn(ut),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||De("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new O1),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function lv(){return new yn(Fe.comparator)}function D1(){return new yn(Fe.comparator)}const EO={asc:"ASCENDING",desc:"DESCENDING"},TO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wO={and:"AND",or:"OR"};class bO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function W0(r,e){return r.useProto3Json||t_(e)?e:{value:e}}function Pv(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function AO(r,e){return Pv(r,e.toTimestamp())}function $a(r){return Ht(!!r,49232),Je.fromTimestamp(function(t){const s=wu(t);return new Wn(s.seconds,s.nanos)}(r))}function FE(r,e){return Z0(r,e).canonicalString()}function Z0(r,e){const t=function(l){return new hn(["projects",l.projectId,"databases",l.database])}(r).child("documents");return e===void 0?t:t.child(e)}function yA(r){const e=hn.fromString(r);return Ht(wA(e),10190,{key:e.toString()}),e}function J0(r,e){return FE(r.databaseId,e.path)}function I0(r,e){const t=yA(e);if(t.get(1)!==r.databaseId.projectId)throw new Ue(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ue(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Fe(_A(t))}function vA(r,e){return FE(r.databaseId,e)}function SO(r){const e=yA(r);return e.length===4?hn.emptyPath():_A(e)}function eE(r){return new hn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _A(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function N1(r,e,t){return{name:J0(r,e),fields:t.value.mapValue.fields}}function RO(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:$e(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),yr.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),yr.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&function(_){const A=_.code===void 0?Te.UNKNOWN:dA(_.code);return new Ue(A,_.message||"")}(d);t=new pA(s,l,h,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=I0(r,s.document.name),h=$a(s.document.updateTime),d=s.document.createTime?$a(s.document.createTime):Je.min(),y=new ds({mapValue:{fields:s.document.fields}}),v=Br.newFoundDocument(l,h,d,y),_=s.targetIds||[],A=s.removedTargetIds||[];t=new vv(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=I0(r,s.document),h=s.readTime?$a(s.readTime):Je.min(),d=Br.newNoDocument(l,h),y=s.removedTargetIds||[];t=new vv([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=I0(r,s.document),h=s.removedTargetIds||[];t=new vv([],h,l,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,d=new mO(l,h),y=s.targetId;t=new gA(y,d)}}return t}function IO(r,e){let t;if(e instanceof Kp)t={update:N1(r,e.key,e.value)};else if(e instanceof fA)t={delete:J0(r,e.key)};else if(e instanceof Sh)t={update:N1(r,e.key,e.data),updateMask:kO(e.fieldMask)};else{if(!(e instanceof dO))return $e(16599,{ft:e.type});t={verify:J0(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const y=d.transform;if(y instanceof Nv)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Np)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Mp)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Mv)return{fieldPath:d.field.canonicalString(),increment:y.Re};throw $e(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:AO(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:$e(27497)}(r,e.precondition)),t}function CO(r,e){return r&&r.length>0?(Ht(e!==void 0,14353),r.map(t=>function(l,h){let d=l.updateTime?$a(l.updateTime):$a(h);return d.isEqual(Je.min())&&(d=$a(h)),new cO(d,l.transformResults||[])}(t,e))):[]}function xO(r,e){return{documents:[vA(r,e.path)]}}function OO(r,e){const t={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=vA(r,l);const h=function(_){if(_.length!==0)return TA(Za.create(_,"and"))}(e.filters);h&&(t.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(x){return{field:od(x.field),direction:MO(x.dir)}}(A))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const y=W0(r,e.limit);return y!==null&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:t,parent:l}}function DO(r){let e=SO(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const A=t.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let h=[];t.where&&(h=function(R){const x=EA(R);return x instanceof Za&&Xb(x)?x.getFilters():[x]}(t.where));let d=[];t.orderBy&&(d=function(R){return R.map(x=>function(z){return new Dv(ld(z.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(x))}(t.orderBy));let y=null;t.limit&&(y=function(R){let x;return x=typeof R=="object"?R.value:R,t_(x)?null:x}(t.limit));let v=null;t.startAt&&(v=function(R){const x=!!R.before,L=R.values||[];return new Ov(L,x)}(t.startAt));let _=null;return t.endAt&&(_=function(R){const x=!R.before,L=R.values||[];return new Ov(L,x)}(t.endAt)),X2(e,l,d,h,y,"F",v,_)}function NO(r,e){const t=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:l})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function EA(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ld(t.unaryFilter.field);return Xn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=ld(t.unaryFilter.field);return Xn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ld(t.unaryFilter.field);return Xn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ld(t.unaryFilter.field);return Xn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}}(r):r.fieldFilter!==void 0?function(t){return Xn.create(ld(t.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Za.create(t.compositeFilter.filters.map(s=>EA(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return $e(1026)}}(t.compositeFilter.op))}(r):$e(30097,{filter:r})}function MO(r){return EO[r]}function PO(r){return TO[r]}function LO(r){return wO[r]}function od(r){return{fieldPath:r.canonicalString()}}function ld(r){return mr.fromServerFormat(r.fieldPath)}function TA(r){return r instanceof Xn?function(t){if(t.op==="=="){if(_1(t.value))return{unaryFilter:{field:od(t.field),op:"IS_NAN"}};if(v1(t.value))return{unaryFilter:{field:od(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_1(t.value))return{unaryFilter:{field:od(t.field),op:"IS_NOT_NAN"}};if(v1(t.value))return{unaryFilter:{field:od(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:od(t.field),op:PO(t.op),value:t.value}}}(r):r instanceof Za?function(t){const s=t.getFilters().map(l=>TA(l));return s.length===1?s[0]:{compositeFilter:{op:LO(t.op),filters:s}}}(r):$e(54877,{filter:r})}function kO(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t,s,l,h=Je.min(),d=Je.min(),y=yr.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.wt=e}}function UO(r){const e=DO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?X0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.Cn=new zO}addToCollectionParentIndex(e,t){return this.Cn.add(t),ve.resolve()}getCollectionParents(e,t){return ve.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ve.resolve()}deleteFieldIndex(e,t){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,t){return ve.resolve()}getDocumentsMatchingTarget(e,t){return ve.resolve(null)}getIndexType(e,t){return ve.resolve(0)}getFieldIndexes(e,t){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,t){return ve.resolve(Tu.min())}getMinOffsetFromCollectionGroup(e,t){return ve.resolve(Tu.min())}updateCollectionGroup(e,t,s){return ve.resolve()}updateIndexEntries(e,t){return ve.resolve()}}class zO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new Zn(hn.comparator),h=!l.has(s);return this.index[t]=l.add(s),h}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Zn(hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bA=41943040;class _i{static withCacheSize(e){return new _i(e,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(bA,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Dd(0)}static lr(){return new Dd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="LruGarbageCollector",jO=1048576;function L1([r,e],[t,s]){const l=ut(r,t);return l===0?ut(e,s):l}class FO{constructor(e){this.Er=e,this.buffer=new Zn(L1),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();L1(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){De(P1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ud(t)?De(P1,"Ignoring IndexedDB error during garbage collection: ",t):await Vd(t)}await this.mr(3e5)})}}class qO{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ve.resolve(e_.le);const s=new FO(t);return this.gr.forEachTarget(e,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(e,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(M1)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M1):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,l,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(e,l))).next(R=>(s=R,y=Date.now(),this.removeTargets(e,s,t))).next(R=>(h=R,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(_=Date.now(),sd()<=_t.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${R} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:R})))}}function GO(r,e){return new qO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.changes=new Ah(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Br.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ve.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(s!==null&&bp(s.mutation,l,Ws.empty(),Wn.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Et()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Et()){const l=eh();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,s).next(h=>{let d=gp();return h.forEach((y,v)=>{d=d.insert(y,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const s=eh();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Et()))}populateOverlays(e,t,s){const l=[];return s.forEach(h=>{t.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(e,l).next(h=>{h.forEach((d,y)=>{t.set(d,y)})})}computeViews(e,t,s,l){let h=el();const d=wp(),y=function(){return wp()}();return t.forEach((v,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Sh)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),bp(A.mutation,_,A.mutation.getFieldMask(),Wn.now())):d.set(_.key,Ws.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),t.forEach((_,A)=>{var R;return y.set(_,new KO(A,(R=d.get(_))!==null&&R!==void 0?R:null))}),y))}recalculateAndSaveOverlays(e,t){const s=wp();let l=new yn((d,y)=>d-y),h=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const y of d)y.keys().forEach(v=>{const _=t.get(v);if(_===null)return;let A=s.get(v)||Ws.empty();A=y.applyToLocalView(_,A),s.set(v,A);const R=(l.get(y.batchId)||Et()).add(v);l=l.insert(y.batchId,R)})}).next(()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,R=iA();A.forEach(x=>{if(!h.has(x)){const L=cA(t.get(x),s.get(x));L!==null&&R.set(x,L),h=h.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,R))}return ve.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,l){return function(d){return Fe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):W2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,l):this.getDocumentsMatchingCollectionQuery(e,t,s,l)}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next(h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-h.size):ve.resolve(eh());let y=Cp,v=h;return d.next(_=>ve.forEach(_,(A,R)=>(y<R.largestBatchId&&(y=R.largestBatchId),h.get(A)?ve.resolve():this.remoteDocumentCache.getEntry(e,A).next(x=>{v=v.insert(A,x)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Et())).next(A=>({batchId:y,changes:rA(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fe(t)).next(s=>{let l=gp();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,s,l){const h=t.collectionGroup;let d=gp();return this.indexManager.getCollectionParents(e,h).next(y=>ve.forEach(y,v=>{const _=function(R,x){return new r_(x,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(t,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,l).next(A=>{A.forEach((R,x)=>{d=d.insert(R,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,h,l))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Br.newInvalidDocument(A)))});let y=gp();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&bp(A.mutation,_,Ws.empty(),Wn.now()),a_(t,_)&&(y=y.insert(v,_))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ve.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(l){return{id:l.id,version:l.version,createTime:$a(l.createTime)}}(t)),ve.resolve()}getNamedQuery(e,t){return ve.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(l){return{name:l.name,query:UO(l.bundledQuery),readTime:$a(l.readTime)}}(t)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.overlays=new yn(Fe.comparator),this.Qr=new Map}getOverlay(e,t){return ve.resolve(this.overlays.get(t))}getOverlays(e,t){const s=eh();return ve.forEach(t,l=>this.getOverlay(e,l).next(h=>{h!==null&&s.set(l,h)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((l,h)=>{this.bt(e,t,h)}),ve.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),ve.resolve()}getOverlaysForCollection(e,t,s){const l=eh(),h=t.length+1,d=new Fe(t.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&l.set(v.getKey(),v)}return ve.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let h=new yn((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=eh(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=eh(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>y.set(_,A)),!(y.size()>=l)););return ve.resolve(y)}bt(e,t,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new pO(t,s));let h=this.Qr.get(t);h===void 0&&(h=Et(),this.Qr.set(t,h)),this.Qr.set(t,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.sessionToken=yr.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.$r=new Zn(sr.Ur),this.Kr=new Zn(sr.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new sr(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new sr(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new Fe(new hn([])),s=new sr(t,e),l=new sr(t,e+1),h=[];return this.Kr.forEachInRange([s,l],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Fe(new hn([])),s=new sr(t,e),l=new sr(t,e+1);let h=Et();return this.Kr.forEachInRange([s,l],d=>{h=h.add(d.key)}),h}containsKey(e){const t=new sr(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class sr{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Fe.comparator(e.key,t.key)||ut(e.Zr,t.Zr)}static Wr(e,t){return ut(e.Zr,t.Zr)||Fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Zn(sr.Ur)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,l){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gO(h,t,s,l);this.mutationQueue.push(d);for(const y of l)this.Xr=this.Xr.add(new sr(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return ve.resolve(d)}lookupMutationBatch(e,t){return ve.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=this.ti(s),h=l<0?0:l;return ve.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?PE:this.nr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new sr(t,0),l=new sr(t,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,l],d=>{const y=this.ei(d.Zr);h.push(y)}),ve.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Zn(ut);return t.forEach(l=>{const h=new sr(l,0),d=new sr(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],y=>{s=s.add(y.Zr)})}),ve.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let h=s;Fe.isDocumentKey(h)||(h=h.child(""));const d=new sr(new Fe(h),0);let y=new Zn(ut);return this.Xr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(y=y.add(v.Zr)),!0)},d),ve.resolve(this.ni(y))}ni(e){const t=[];return e.forEach(s=>{const l=this.ei(s);l!==null&&t.push(l)}),t}removeMutationBatch(e,t){Ht(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ve.forEach(t.mutations,l=>{const h=new sr(l.key,t.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new sr(t,0),l=this.Xr.firstAfterOrEqual(s);return ve.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.ii=e,this.docs=function(){return new yn(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),h=l?l.size:0,d=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ve.resolve(s?s.document.mutableCopy():Br.newInvalidDocument(t))}getEntries(e,t){let s=el();return t.forEach(l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():Br.newInvalidDocument(l))}),ve.resolve(s)}getDocumentsMatchingQuery(e,t,s,l){let h=el();const d=t.path,y=new Fe(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||C2(I2(A),s)<=0||(l.has(A.key)||a_(t,A))&&(h=h.insert(A.key,A.mutableCopy()))}return ve.resolve(h)}getAllFromCollectionGroup(e,t,s,l){$e(9500)}si(e,t){return ve.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new eD(this)}getSize(e){return ve.resolve(this.size)}}class eD extends QO{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?t.push(this.Br.addEntry(e,l)):this.Br.removeEntry(s)}),ve.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.persistence=e,this.oi=new Ah(t=>VE(t),UE),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this._i=0,this.ai=new HE,this.targetCount=0,this.ui=Dd.cr()}forEachTarget(e,t){return this.oi.forEach((s,l)=>t(l)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),ve.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Dd(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ve.resolve()}updateTargetData(e,t){return this.Tr(t),ve.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,t,s){let l=0;const h=[];return this.oi.forEach((d,y)=>{y.sequenceNumber<=t&&s.get(y.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)}),ve.waitFor(h).next(()=>l)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return ve.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),ve.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const l=this.persistence.referenceDelegate,h=[];return l&&t.forEach(d=>{h.push(l.markPotentiallyOrphaned(e,d))}),ve.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ve.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return ve.resolve(s)}containsKey(e,t){return ve.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,t){this.ci={},this.overlays={},this.li=new e_(0),this.hi=!1,this.hi=!0,this.Pi=new WO,this.referenceDelegate=e(this),this.Ti=new tD(this),this.indexManager=new BO,this.remoteDocumentCache=function(l){return new JO(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new VO(t),this.Ei=new YO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new ZO(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){De("MemoryPersistence","Starting transaction:",e);const l=new nD(this.li.next());return this.referenceDelegate.di(),s(l).next(h=>this.referenceDelegate.Ai(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ri(e,t){return ve.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class nD extends O2{constructor(e){super(),this.currentSequenceNumber=e}}class qE{constructor(e){this.persistence=e,this.Vi=new HE,this.mi=null}static fi(e){return new qE(e)}get gi(){if(this.mi)return this.mi;throw $e(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),ve.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),ve.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ve.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.gi,s=>{const l=Fe.fromPath(s);return this.pi(e,l).next(h=>{h||t.removeEntry(l,Je.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ve.or([()=>ve.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Lv{constructor(e,t){this.persistence=e,this.yi=new Ah(s=>M2(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=GO(this,t)}static fi(e,t){return new Lv(e,t)}di(){}Ai(e){return ve.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(l=>s+l))}Sr(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return ve.forEach(this.yi,(s,l)=>this.Dr(e,s,l).next(h=>h?ve.resolve():t(l)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.si(e,d=>this.Dr(e,d,t).next(y=>{y||(s++,h.removeEntry(d,Je.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ve.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),ve.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ve.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pv(e.data.value)),t}Dr(e,t,s){return ve.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const l=this.yi.get(t);return ve.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.ds=s,this.As=l}static Rs(e,t){let s=Et(),l=Et();for(const h of t.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new GE(e,t.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return WC()?8:D2(zr())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,l){const h={result:null};return this.ws(e,t).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Ss(e,t,l,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new rD;return this.bs(e,t,d).next(y=>{if(h.result=y,this.fs)return this.Ds(e,t,d,y.size)})}).next(()=>h.result)}Ds(e,t,s,l){return s.documentReadCount<this.gs?(sd()<=_t.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",ad(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ve.resolve()):(sd()<=_t.DEBUG&&De("QueryEngine","Query:",ad(t),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(sd()<=_t.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",ad(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ka(t))):ve.resolve())}ws(e,t){if(b1(t))return ve.resolve(null);let s=Ka(t);return this.indexManager.getIndexType(e,s).next(l=>l===0?null:(t.limit!==null&&l===1&&(t=X0(t,null,"F"),s=Ka(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Et(...h);return this.ys.getDocuments(e,d).next(y=>this.indexManager.getMinOffset(e,s).next(v=>{const _=this.vs(t,y);return this.Cs(t,_,d,v.readTime)?this.ws(e,X0(t,null,"F")):this.Fs(e,_,t,v)}))})))}Ss(e,t,s,l){return b1(t)||l.isEqual(Je.min())?ve.resolve(null):this.ys.getDocuments(e,s).next(h=>{const d=this.vs(t,h);return this.Cs(t,d,s,l)?ve.resolve(null):(sd()<=_t.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ad(t)),this.Fs(e,d,t,R2(l,Cp)).next(y=>y))})}vs(e,t){let s=new Zn(tA(e));return t.forEach((l,h)=>{a_(e,h)&&(s=s.add(h))}),s}Cs(e,t,s,l){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const h=e.limitType==="F"?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}bs(e,t,s){return sd()<=_t.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",ad(t)),this.ys.getDocumentsMatchingQuery(e,t,Tu.min(),s)}Fs(e,t,s,l){return this.ys.getDocumentsMatchingQuery(e,s,l).next(h=>(t.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="LocalStore",sD=3e8;class aD{constructor(e,t,s,l){this.persistence=e,this.Ms=t,this.serializer=l,this.xs=new yn(ut),this.Os=new Ah(h=>VE(h),UE),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $O(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function oD(r,e,t,s){return new aD(r,e,t,s)}async function SA(r,e){const t=et(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next(h=>(l=h,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],y=[];let v=Et();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return t.localDocuments.getDocuments(s,v).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:y}))})})}function lD(r,e){const t=et(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),h=t.Bs.newChangeBuffer({trackRemovals:!0});return function(y,v,_,A){const R=_.batch,x=R.keys();let L=ve.resolve();return x.forEach(z=>{L=L.next(()=>A.getEntry(v,z)).next(X=>{const H=_.docVersions.get(z);Ht(H!==null,48541),X.version.compareTo(H)<0&&(R.applyToRemoteDocument(X,_),X.isValidDocument()&&(X.setReadTime(_.commitVersion),A.addEntry(X)))})}),L.next(()=>y.mutationQueue.removeMutationBatch(v,R))}(t,s,e,h).next(()=>h.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(y){let v=Et();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v}(e))).next(()=>t.localDocuments.getDocuments(s,l))})}function RA(r){const e=et(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function uD(r,e){const t=et(r),s=e.snapshotVersion;let l=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=t.Bs.newChangeBuffer({trackRemovals:!0});l=t.xs;const y=[];e.targetChanges.forEach((A,R)=>{const x=l.get(R);if(!x)return;y.push(t.Ti.removeMatchingKeys(h,A.removedDocuments,R).next(()=>t.Ti.addMatchingKeys(h,A.addedDocuments,R)));let L=x.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(R)!==null?L=L.withResumeToken(yr.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):A.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(A.resumeToken,s)),l=l.insert(R,L),function(X,H,ne){return X.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=sD?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0}(x,L,A)&&y.push(t.Ti.updateTargetData(h,L))});let v=el(),_=Et();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(h,A))}),y.push(cD(h,d,e.documentUpdates).next(A=>{v=A.qs,_=A.Qs})),!s.isEqual(Je.min())){const A=t.Ti.getLastRemoteSnapshotVersion(h).next(R=>t.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));y.push(A)}return ve.waitFor(y).next(()=>d.apply(h)).next(()=>t.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(t.xs=l,h))}function cD(r,e,t){let s=Et(),l=Et();return t.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=el();return t.forEach((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),v.isNoDocument()&&v.version.isEqual(Je.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):De(QE,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)}),{qs:d,Qs:l}})}function hD(r,e){const t=et(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=PE),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function fD(r,e){const t=et(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return t.Ti.getTargetData(s,e).next(h=>h?(l=h,ve.resolve(l)):t.Ti.allocateTargetId(s).next(d=>(l=new fu(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=t.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function tE(r,e,t){const s=et(r),l=s.xs.get(e),h=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Ud(d))throw d;De(QE,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(l.target)}function k1(r,e,t){const s=et(r);let l=Je.min(),h=Et();return s.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const R=et(v),x=R.Os.get(A);return x!==void 0?ve.resolve(R.xs.get(x)):R.Ti.getTargetData(_,A)}(s,d,Ka(e)).next(y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,y.targetId).next(v=>{h=v})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,t?l:Je.min(),t?h:Et())).next(y=>(dD(s,J2(e),y),{documents:y,$s:h})))}function dD(r,e,t){let s=r.Ns.get(e)||Je.min();t.forEach((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.Ns.set(e,s)}class V1{constructor(){this.activeTargetIds=sO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gD{constructor(){this.xo=new V1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new V1,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="ConnectivityMonitor";class B1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){De(U1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){De(U1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uv=null;function nE(){return uv===null?uv=function(){return 268435456+Math.round(2147483648*Math.random())}():uv++,"0x"+uv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="RestConnection",mD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===Cv?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(e,t,s,l,h){const d=nE(),y=this.jo(e,t.toUriEncodedString());De(C0,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,l,h);const{host:_}=new URL(y),A=Gp(_);return this.Jo(e,y,v,s,A).then(R=>(De(C0,`Received RPC '${e}' ${d}: `,R),R),R=>{throw Id(C0,`RPC '${e}' ${d} failed with error: `,R,"url: ",y,"request:",s),R})}Yo(e,t,s,l,h,d){return this.zo(e,t,s,l,h)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,h)=>e[h]=l),s&&s.headers.forEach((l,h)=>e[h]=l)}jo(e,t){const s=mD[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="WebChannelConnection";class _D extends yD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,l,h){const d=nE();return new Promise((y,v)=>{const _=new xb;_.setWithCredentials(!0),_.listenOnce(Ob.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case gv.NO_ERROR:const R=_.getResponseJson();De(kr,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),y(R);break;case gv.TIMEOUT:De(kr,`RPC '${e}' ${d} timed out`),v(new Ue(Te.DEADLINE_EXCEEDED,"Request time out"));break;case gv.HTTP_ERROR:const x=_.getStatus();if(De(kr,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let L=_.getResponseJson();Array.isArray(L)&&(L=L[0]);const z=L==null?void 0:L.error;if(z&&z.status&&z.message){const X=function(ne){const ce=ne.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(ce)>=0?ce:Te.UNKNOWN}(z.status);v(new Ue(X,z.message))}else v(new Ue(Te.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new Ue(Te.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{De(kr,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(l);De(kr,`RPC '${e}' ${d} sending request:`,l),_.send(t,"POST",A,s,15)})}T_(e,t,s){const l=nE(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Mb(),y=Nb(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,t,s),v.encodeInitMessageHeaders=!0;const A=h.join("");De(kr,`Creating RPC '${e}' stream ${l}: ${A}`,v);const R=d.createWebChannel(A,v);let x=!1,L=!1;const z=new vD({Zo:H=>{L?De(kr,`Not sending because RPC '${e}' stream ${l} is closed:`,H):(x||(De(kr,`Opening RPC '${e}' stream ${l} transport.`),R.open(),x=!0),De(kr,`RPC '${e}' stream ${l} sending:`,H),R.send(H))},Xo:()=>R.close()}),X=(H,ne,ce)=>{H.listen(ne,se=>{try{ce(se)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return X(R,dp.EventType.OPEN,()=>{L||(De(kr,`RPC '${e}' stream ${l} transport opened.`),z.__())}),X(R,dp.EventType.CLOSE,()=>{L||(L=!0,De(kr,`RPC '${e}' stream ${l} transport closed`),z.u_())}),X(R,dp.EventType.ERROR,H=>{L||(L=!0,Id(kr,`RPC '${e}' stream ${l} transport errored. Name:`,H.name,"Message:",H.message),z.u_(new Ue(Te.UNAVAILABLE,"The operation could not be completed")))}),X(R,dp.EventType.MESSAGE,H=>{var ne;if(!L){const ce=H.data[0];Ht(!!ce,16349);const se=ce,Ee=(se==null?void 0:se.error)||((ne=se[0])===null||ne===void 0?void 0:ne.error);if(Ee){De(kr,`RPC '${e}' stream ${l} received error:`,Ee);const we=Ee.status;let Ie=function(M){const F=Gn[M];if(F!==void 0)return dA(F)}(we),j=Ee.message;Ie===void 0&&(Ie=Te.INTERNAL,j="Unknown error status: "+we+" with message "+Ee.message),L=!0,z.u_(new Ue(Ie,j)),R.close()}else De(kr,`RPC '${e}' stream ${l} received:`,ce),z.c_(ce)}}),X(y,Db.STAT_EVENT,H=>{H.stat===q0.PROXY?De(kr,`RPC '${e}' stream ${l} detected buffering proxy`):H.stat===q0.NOPROXY&&De(kr,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{z.a_()},0),z}}function x0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(r){return new bO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t,s=1e3,l=1.5,h=6e4){this.xi=e,this.timerId=t,this.I_=s,this.E_=l,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),l=Math.max(0,t-s);l>0&&De("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="PersistentStream";class CA{constructor(e,t,s,l,h,d,y,v){this.xi=e,this.y_=s,this.w_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new IA(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===Te.RESOURCE_EXHAUSTED?(Jo(t.toString()),Jo("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.S_===t&&this.K_(s,l)},s=>{e(()=>{const l=new Ue(Te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(l)})})}K_(e,t){const s=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.W_(l))}),this.stream.onMessage(l=>{s(()=>++this.v_==1?this.z_(l):this.onNext(l))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return De(z1,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(De(z1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ED extends CA{constructor(e,t,s,l,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,d),this.serializer=h}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=RO(this.serializer,e),s=function(h){if(!("targetChange"in h))return Je.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Je.min():d.readTime?$a(d.readTime):Je.min()}(e);return this.listener.j_(t,s)}H_(e){const t={};t.database=eE(this.serializer),t.addTarget=function(h,d){let y;const v=d.target;if(y=Y0(v)?{documents:xO(h,v)}:{query:OO(h,v).gt},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=mA(h,d.resumeToken);const _=W0(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Je.min())>0){y.readTime=Pv(h,d.snapshotVersion.toTimestamp());const _=W0(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y}(this.serializer,e);const s=NO(this.serializer,e);s&&(t.labels=s),this.L_(t)}J_(e){const t={};t.database=eE(this.serializer),t.removeTarget=e,this.L_(t)}}class TD extends CA{constructor(e,t,s,l,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,d),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=CO(e.writeResults,e.commitTime),s=$a(e.commitTime);return this.listener.ea(s,t)}ta(){const e={};e.database=eE(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>IO(this.serializer,s))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{}class bD extends wD{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=l,this.na=!1}ra(){if(this.na)throw new Ue(Te.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,Z0(t,s),l,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ue(Te.UNKNOWN,h.toString())})}Yo(e,t,s,l,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,y])=>this.connection.Yo(e,Z0(t,s),l,d,y,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ue(Te.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class AD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Jo(t),this.oa=!1):De("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="RemoteStore";class SD{constructor(e,t,s,l,h){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(d=>{s.enqueueAndForget(async()=>{Rh(this)&&(De(dh,"Restarting streams for network reachability change."),await async function(v){const _=et(v);_.Ta.add(4),await Yp(_),_.da.set("Unknown"),_.Ta.delete(4),await h_(_)}(this))})}),this.da=new AD(s,l)}}async function h_(r){if(Rh(r))for(const e of r.Ia)await e(!0)}async function Yp(r){for(const e of r.Ia)await e(!1)}function xA(r,e){const t=et(r);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),XE(t)?YE(t):Bd(t).M_()&&$E(t,e))}function KE(r,e){const t=et(r),s=Bd(t);t.Pa.delete(e),s.M_()&&OA(t,e),t.Pa.size===0&&(s.M_()?s.N_():Rh(t)&&t.da.set("Unknown"))}function $E(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bd(r).H_(e)}function OA(r,e){r.Aa.Ke(e),Bd(r).J_(e)}function YE(r){r.Aa=new _O({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Bd(r).start(),r.da._a()}function XE(r){return Rh(r)&&!Bd(r).F_()&&r.Pa.size>0}function Rh(r){return et(r).Ta.size===0}function DA(r){r.Aa=void 0}async function RD(r){r.da.set("Online")}async function ID(r){r.Pa.forEach((e,t)=>{$E(r,e)})}async function CD(r,e){DA(r),XE(r)?(r.da.ca(e),YE(r)):r.da.set("Unknown")}async function xD(r,e,t){if(r.da.set("Online"),e instanceof pA&&e.state===2&&e.cause)try{await async function(l,h){const d=h.cause;for(const y of h.targetIds)l.Pa.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Pa.delete(y),l.Aa.removeTarget(y))}(r,e)}catch(s){De(dh,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kv(r,s)}else if(e instanceof vv?r.Aa.Xe(e):e instanceof gA?r.Aa.ot(e):r.Aa.nt(e),!t.isEqual(Je.min()))try{const s=await RA(r.localStore);t.compareTo(s)>=0&&await function(h,d){const y=h.Aa.It(d);return y.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Pa.get(_);A&&h.Pa.set(_,A.withResumeToken(v.resumeToken,d))}}),y.targetMismatches.forEach((v,_)=>{const A=h.Pa.get(v);if(!A)return;h.Pa.set(v,A.withResumeToken(yr.EMPTY_BYTE_STRING,A.snapshotVersion)),OA(h,v);const R=new fu(A.target,v,_,A.sequenceNumber);$E(h,R)}),h.remoteSyncer.applyRemoteEvent(y)}(r,t)}catch(s){De(dh,"Failed to raise snapshot:",s),await kv(r,s)}}async function kv(r,e,t){if(!Ud(e))throw e;r.Ta.add(1),await Yp(r),r.da.set("Offline"),t||(t=()=>RA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{De(dh,"Retrying IndexedDB access"),await t(),r.Ta.delete(1),await h_(r)})}function NA(r,e){return e().catch(t=>kv(r,t,e))}async function f_(r){const e=et(r),t=Su(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:PE;for(;OD(e);)try{const l=await hD(e.localStore,s);if(l===null){e.ha.length===0&&t.N_();break}s=l.batchId,DD(e,l)}catch(l){await kv(e,l)}MA(e)&&PA(e)}function OD(r){return Rh(r)&&r.ha.length<10}function DD(r,e){r.ha.push(e);const t=Su(r);t.M_()&&t.Y_&&t.Z_(e.mutations)}function MA(r){return Rh(r)&&!Su(r).F_()&&r.ha.length>0}function PA(r){Su(r).start()}async function ND(r){Su(r).ta()}async function MD(r){const e=Su(r);for(const t of r.ha)e.Z_(t.mutations)}async function PD(r,e,t){const s=r.ha.shift(),l=zE.from(s,e,t);await NA(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await f_(r)}async function LD(r,e){e&&Su(r).Y_&&await async function(s,l){if(function(d){return yO(d)&&d!==Te.ABORTED}(l.code)){const h=s.ha.shift();Su(s).O_(),await NA(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,l)),await f_(s)}}(r,e),MA(r)&&PA(r)}async function j1(r,e){const t=et(r);t.asyncQueue.verifyOperationInProgress(),De(dh,"RemoteStore received new credentials");const s=Rh(t);t.Ta.add(3),await Yp(t),s&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await h_(t)}async function kD(r,e){const t=et(r);e?(t.Ta.delete(2),await h_(t)):e||(t.Ta.add(2),await Yp(t),t.da.set("Unknown"))}function Bd(r){return r.Ra||(r.Ra=function(t,s,l){const h=et(t);return h.ra(),new ED(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(r.datastore,r.asyncQueue,{e_:RD.bind(null,r),n_:ID.bind(null,r),i_:CD.bind(null,r),j_:xD.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),XE(r)?YE(r):r.da.set("Unknown")):(await r.Ra.stop(),DA(r))})),r.Ra}function Su(r){return r.Va||(r.Va=function(t,s,l){const h=et(t);return h.ra(),new TD(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:ND.bind(null,r),i_:LD.bind(null,r),X_:MD.bind(null,r),ea:PD.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await f_(r)):(await r.Va.stop(),r.ha.length>0&&(De(dh,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t,s,l,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new mu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,l,h){const d=Date.now()+s,y=new WE(e,t,d,l,h);return y.start(s),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ZE(r,e){if(Jo("AsyncQueue",`${e}: ${r}`),Ud(r))return new Ue(Te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{static emptySet(e){return new ud(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Fe.comparator(t.key,s.key):(t,s)=>Fe.comparator(t.key,s.key),this.keyedMap=gp(),this.sortedSet=new yn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ud)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ud;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.ma=new yn(Fe.comparator)}track(e){const t=e.doc.key,s=this.ma.get(t);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(t,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(t):e.type===1&&s.type===2?this.ma=this.ma.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):$e(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,s)=>{e.push(s)}),e}}class Nd{constructor(e,t,s,l,h,d,y,v,_){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,t,s,l,h){const d=[];return t.forEach(y=>{d.push({type:0,doc:y})}),new Nd(e,t,ud.emptySet(t),d,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&s_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class UD{constructor(){this.queries=H1(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,s){const l=et(t),h=l.queries;l.queries=H1(),h.forEach((d,y)=>{for(const v of y.ya)v.onError(s)})})(this,new Ue(Te.ABORTED,"Firestore shutting down"))}}function H1(){return new Ah(r=>eA(r),s_)}async function LA(r,e){const t=et(r);let s=3;const l=e.query;let h=t.queries.get(l);h?!h.wa()&&e.Sa()&&(s=2):(h=new VD,s=e.Sa()?0:1);try{switch(s){case 0:h.pa=await t.onListen(l,!0);break;case 1:h.pa=await t.onListen(l,!1);break;case 2:await t.onFirstRemoteStoreListen(l)}}catch(d){const y=ZE(d,`Initialization of query '${ad(e.query)}' failed`);return void e.onError(y)}t.queries.set(l,h),h.ya.push(e),e.Da(t.onlineState),h.pa&&e.va(h.pa)&&JE(t)}async function kA(r,e){const t=et(r),s=e.query;let l=3;const h=t.queries.get(s);if(h){const d=h.ya.indexOf(e);d>=0&&(h.ya.splice(d,1),h.ya.length===0?l=e.Sa()?0:1:!h.wa()&&e.Sa()&&(l=2))}switch(l){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function BD(r,e){const t=et(r);let s=!1;for(const l of e){const h=l.query,d=t.queries.get(h);if(d){for(const y of d.ya)y.va(l)&&(s=!0);d.pa=l}}s&&JE(t)}function zD(r,e,t){const s=et(r),l=s.queries.get(e);if(l)for(const h of l.ya)h.onError(t);s.queries.delete(e)}function JE(r){r.ba.forEach(e=>{e.next()})}var rE,q1;(q1=rE||(rE={})).Ca="default",q1.Cache="cache";class VA{constructor(e,t,s){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Nd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const s=t!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Nd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==rE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.key=e}}class BA{constructor(e){this.key=e}}class jD{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Et(),this.mutatedKeys=Et(),this.Ha=tA(e),this.Ja=new ud(this.Ha)}get Ya(){return this.Ga}Za(e,t){const s=t?t.Xa:new F1,l=t?t.Ja:this.Ja;let h=t?t.mutatedKeys:this.mutatedKeys,d=l,y=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((A,R)=>{const x=l.get(A),L=a_(this.query,R)?R:null,z=!!x&&this.mutatedKeys.has(x.key),X=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let H=!1;x&&L?x.data.isEqual(L.data)?z!==X&&(s.track({type:3,doc:L}),H=!0):this.eu(x,L)||(s.track({type:2,doc:L}),H=!0,(v&&this.Ha(L,v)>0||_&&this.Ha(L,_)<0)&&(y=!0)):!x&&L?(s.track({type:0,doc:L}),H=!0):x&&!L&&(s.track({type:1,doc:x}),H=!0,(v||_)&&(y=!0)),H&&(L?(d=d.add(L),h=X?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Ja:d,Xa:s,Cs:y,mutatedKeys:h}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,l){const h=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((A,R)=>function(L,z){const X=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:H})}};return X(L)-X(z)}(A.type,R.type)||this.Ha(A.doc,R.doc)),this.tu(s),l=l!=null&&l;const y=t&&!l?this.nu():[],v=this.ja.size===0&&this.current&&!l?1:0,_=v!==this.za;return this.za=v,d.length!==0||_?{snapshot:new Nd(this.query,e.Ja,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:y}:{ru:y}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new F1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Et(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const t=[];return e.forEach(s=>{this.ja.has(s)||t.push(new BA(s))}),this.ja.forEach(s=>{e.has(s)||t.push(new UA(s))}),t}su(e){this.Ga=e.$s,this.ja=Et();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Nd.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const eT="SyncEngine";class FD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class HD{constructor(e){this.key=e,this._u=!1}}class qD{constructor(e,t,s,l,h,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new Ah(y=>eA(y),s_),this.cu=new Map,this.lu=new Set,this.hu=new yn(Fe.comparator),this.Pu=new Map,this.Tu=new HE,this.Iu={},this.Eu=new Map,this.du=Dd.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function GD(r,e,t=!0){const s=GA(r);let l;const h=s.uu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.ou()):l=await zA(s,e,t,!0),l}async function QD(r,e){const t=GA(r);await zA(t,e,!0,!1)}async function zA(r,e,t,s){const l=await fD(r.localStore,Ka(e)),h=l.targetId,d=r.sharedClientState.addLocalQueryTarget(h,t);let y;return s&&(y=await KD(r,e,h,d==="current",l.resumeToken)),r.isPrimaryClient&&t&&xA(r.remoteStore,l),y}async function KD(r,e,t,s,l){r.Ru=(R,x,L)=>async function(X,H,ne,ce){let se=H.view.Za(ne);se.Cs&&(se=await k1(X.localStore,H.query,!1).then(({documents:j})=>H.view.Za(j,se)));const Ee=ce&&ce.targetChanges.get(H.targetId),we=ce&&ce.targetMismatches.get(H.targetId)!=null,Ie=H.view.applyChanges(se,X.isPrimaryClient,Ee,we);return Q1(X,H.targetId,Ie.ru),Ie.snapshot}(r,R,x,L);const h=await k1(r.localStore,e,!0),d=new jD(e,h.$s),y=d.Za(h.documents),v=$p.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",l),_=d.applyChanges(y,r.isPrimaryClient,v);Q1(r,t,_.ru);const A=new FD(e,t,d);return r.uu.set(e,A),r.cu.has(t)?r.cu.get(t).push(e):r.cu.set(t,[e]),_.snapshot}async function $D(r,e,t){const s=et(r),l=s.uu.get(e),h=s.cu.get(l.targetId);if(h.length>1)return s.cu.set(l.targetId,h.filter(d=>!s_(d,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await tE(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),t&&KE(s.remoteStore,l.targetId),iE(s,l.targetId)}).catch(Vd)):(iE(s,l.targetId),await tE(s.localStore,l.targetId,!0))}async function YD(r,e){const t=et(r),s=t.uu.get(e),l=t.cu.get(s.targetId);t.isPrimaryClient&&l.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),KE(t.remoteStore,s.targetId))}async function XD(r,e,t){const s=rN(r);try{const l=await function(d,y){const v=et(d),_=Wn.now(),A=y.reduce((L,z)=>L.add(z.key),Et());let R,x;return v.persistence.runTransaction("Locally write mutations","readwrite",L=>{let z=el(),X=Et();return v.Bs.getEntries(L,A).next(H=>{z=H,z.forEach((ne,ce)=>{ce.isValidDocument()||(X=X.add(ne))})}).next(()=>v.localDocuments.getOverlayedDocuments(L,z)).next(H=>{R=H;const ne=[];for(const ce of y){const se=fO(ce,R.get(ce.key).overlayedDocument);se!=null&&ne.push(new Sh(ce.key,se,Kb(se.value.mapValue),Xo.exists(!0)))}return v.mutationQueue.addMutationBatch(L,_,ne,y)}).next(H=>{x=H;const ne=H.applyToLocalDocumentSet(R,X);return v.documentOverlayCache.saveOverlays(L,H.batchId,ne)})}).then(()=>({batchId:x.batchId,changes:rA(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(d,y,v){let _=d.Iu[d.currentUser.toKey()];_||(_=new yn(ut)),_=_.insert(y,v),d.Iu[d.currentUser.toKey()]=_}(s,l.batchId,t),await Xp(s,l.changes),await f_(s.remoteStore)}catch(l){const h=ZE(l,"Failed to persist write");t.reject(h)}}async function jA(r,e){const t=et(r);try{const s=await uD(t.localStore,e);e.targetChanges.forEach((l,h)=>{const d=t.Pu.get(h);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d._u=!0:l.modifiedDocuments.size>0?Ht(d._u,14607):l.removedDocuments.size>0&&(Ht(d._u,42227),d._u=!1))}),await Xp(t,s,e)}catch(s){await Vd(s)}}function G1(r,e,t){const s=et(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const l=[];s.uu.forEach((h,d)=>{const y=d.view.Da(e);y.snapshot&&l.push(y.snapshot)}),function(d,y){const v=et(d);v.onlineState=y;let _=!1;v.queries.forEach((A,R)=>{for(const x of R.ya)x.Da(y)&&(_=!0)}),_&&JE(v)}(s.eventManager,e),l.length&&s.au.j_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function WD(r,e,t){const s=et(r);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.Pu.get(e),h=l&&l.key;if(h){let d=new yn(Fe.comparator);d=d.insert(h,Br.newNoDocument(h,Je.min()));const y=Et().add(h),v=new u_(Je.min(),new Map,new yn(ut),d,y);await jA(s,v),s.hu=s.hu.remove(h),s.Pu.delete(e),tT(s)}else await tE(s.localStore,e,!1).then(()=>iE(s,e,t)).catch(Vd)}async function ZD(r,e){const t=et(r),s=e.batch.batchId;try{const l=await lD(t.localStore,e);HA(t,s,null),FA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Xp(t,l)}catch(l){await Vd(l)}}async function JD(r,e,t){const s=et(r);try{const l=await function(d,y){const v=et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next(R=>(Ht(R!==null,37113),A=R.keys(),v.mutationQueue.removeMutationBatch(_,R))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(s.localStore,e);HA(s,e,t),FA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Xp(s,l)}catch(l){await Vd(l)}}function FA(r,e){(r.Eu.get(e)||[]).forEach(t=>{t.resolve()}),r.Eu.delete(e)}function HA(r,e,t){const s=et(r);let l=s.Iu[s.currentUser.toKey()];if(l){const h=l.get(e);h&&(t?h.reject(t):h.resolve(),l=l.remove(e)),s.Iu[s.currentUser.toKey()]=l}}function iE(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.cu.get(e))r.uu.delete(s),t&&r.au.Vu(s,t);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(s=>{r.Tu.containsKey(s)||qA(r,s)})}function qA(r,e){r.lu.delete(e.path.canonicalString());const t=r.hu.get(e);t!==null&&(KE(r.remoteStore,t),r.hu=r.hu.remove(e),r.Pu.delete(t),tT(r))}function Q1(r,e,t){for(const s of t)s instanceof UA?(r.Tu.addReference(s.key,e),eN(r,s)):s instanceof BA?(De(eT,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,e),r.Tu.containsKey(s.key)||qA(r,s.key)):$e(19791,{mu:s})}function eN(r,e){const t=e.key,s=t.path.canonicalString();r.hu.get(t)||r.lu.has(s)||(De(eT,"New document in limbo: "+t),r.lu.add(s),tT(r))}function tT(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const t=new Fe(hn.fromString(e)),s=r.du.next();r.Pu.set(s,new HD(t)),r.hu=r.hu.insert(t,s),xA(r.remoteStore,new fu(Ka(i_(t.path)),s,"TargetPurposeLimboResolution",e_.le))}}async function Xp(r,e,t){const s=et(r),l=[],h=[],d=[];s.uu.isEmpty()||(s.uu.forEach((y,v)=>{d.push(s.Ru(v,e,t).then(_=>{var A;if((_||t)&&s.isPrimaryClient){const R=_?!_.fromCache:(A=t==null?void 0:t.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,R?"current":"not-current")}if(_){l.push(_);const R=GE.Rs(v.targetId,_);h.push(R)}}))}),await Promise.all(d),s.au.j_(l),await async function(v,_){const A=et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ve.forEach(_,x=>ve.forEach(x.ds,L=>A.persistence.referenceDelegate.addReference(R,x.targetId,L)).next(()=>ve.forEach(x.As,L=>A.persistence.referenceDelegate.removeReference(R,x.targetId,L)))))}catch(R){if(!Ud(R))throw R;De(QE,"Failed to update sequence numbers: "+R)}for(const R of _){const x=R.targetId;if(!R.fromCache){const L=A.xs.get(x),z=L.snapshotVersion,X=L.withLastLimboFreeSnapshotVersion(z);A.xs=A.xs.insert(x,X)}}}(s.localStore,h))}async function tN(r,e){const t=et(r);if(!t.currentUser.isEqual(e)){De(eT,"User change. New user:",e.toKey());const s=await SA(t.localStore,e);t.currentUser=e,function(h,d){h.Eu.forEach(y=>{y.forEach(v=>{v.reject(new Ue(Te.CANCELLED,d))})}),h.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Xp(t,s.ks)}}function nN(r,e){const t=et(r),s=t.Pu.get(e);if(s&&s._u)return Et().add(s.key);{let l=Et();const h=t.cu.get(e);if(!h)return l;for(const d of h){const y=t.uu.get(d);l=l.unionWith(y.view.Ya)}return l}}function GA(r){const e=et(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=jA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WD.bind(null,e),e.au.j_=BD.bind(null,e.eventManager),e.au.Vu=zD.bind(null,e.eventManager),e}function rN(r){const e=et(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JD.bind(null,e),e}class Vv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=c_(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return oD(this.persistence,new iD,e.initialUser,this.serializer)}yu(e){return new AA(qE.fi,this.serializer)}pu(e){return new gD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vv.provider={build:()=>new Vv};class iN extends Vv{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Ht(this.persistence.referenceDelegate instanceof Lv,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new HO(s,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new AA(s=>Lv.fi(s,t),this.serializer)}}class sE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>G1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tN.bind(null,this.syncEngine),await kD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UD}()}createDatastore(e){const t=c_(e.databaseInfo.databaseId),s=function(h){return new _D(h)}(e.databaseInfo);return function(h,d,y,v){return new bD(h,d,y,v)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,l,h,d,y){return new SD(s,l,h,d,y)}(this.localStore,this.datastore,e.asyncQueue,t=>G1(this.syncEngine,t,0),function(){return B1.C()?new B1:new pD}())}createSyncEngine(e,t){return function(l,h,d,y,v,_,A){const R=new qD(l,h,d,y,v,_);return A&&(R.Au=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(l){const h=et(l);De(dh,"RemoteStore shutting down."),h.Ta.add(5),await Yp(h),h.Ea.shutdown(),h.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}sE.provider={build:()=>new sE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Jo("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru="FirestoreClient";class sN{constructor(e,t,s,l,h){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=Ur.UNAUTHENTICATED,this.clientId=Vb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{De(Ru,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(De(Ru,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=ZE(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function O0(r,e){r.asyncQueue.verifyOperationInProgress(),De(Ru,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await SA(e.localStore,l),s=l)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function K1(r,e){r.asyncQueue.verifyOperationInProgress();const t=await aN(r);De(Ru,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>j1(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>j1(e.remoteStore,l)),r._onlineComponents=e}async function aN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){De(Ru,"Using user provided OfflineComponentProvider");try{await O0(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(l){return l.name==="FirebaseError"?l.code===Te.FAILED_PRECONDITION||l.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(t))throw t;Id("Error using user provided cache. Falling back to memory cache: "+t),await O0(r,new Vv)}}else De(Ru,"Using default OfflineComponentProvider"),await O0(r,new iN(void 0));return r._offlineComponents}async function KA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(De(Ru,"Using user provided OnlineComponentProvider"),await K1(r,r._uninitializedComponentsProvider._online)):(De(Ru,"Using default OnlineComponentProvider"),await K1(r,new sE))),r._onlineComponents}function oN(r){return KA(r).then(e=>e.syncEngine)}async function aE(r){const e=await KA(r),t=e.eventManager;return t.onListen=GD.bind(null,e.syncEngine),t.onUnlisten=$D.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YD.bind(null,e.syncEngine),t}function lN(r,e,t={}){const s=new mu;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,y,v,_){const A=new QA({next:x=>{A.Cu(),d.enqueueAndForget(()=>kA(h,R));const L=x.docs.has(y);!L&&x.fromCache?_.reject(new Ue(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&v&&v.source==="server"?_.reject(new Ue(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),R=new VA(i_(y.path),A,{includeMetadataChanges:!0,La:!0});return LA(h,R)}(await aE(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(r,e,t){if(!t)throw new Ue(Te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function uN(r,e,t,s){if(e===!0&&s===!0)throw new Ue(Te.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Y1(r){if(!Fe.isDocumentKey(r))throw new Ue(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function X1(r){if(Fe.isDocumentKey(r))throw new Ue(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function nT(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":$e(12329,{type:typeof r})}function yu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ue(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nT(r);throw new Ue(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firestore.googleapis.com",W1=!0;class Z1{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XA,this.ssl=W1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:W1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jO)throw new Ue(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$A((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new Ue(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Ue(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Ue(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class d_{constructor(e,t,s,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ue(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new y2;switch(s.type){case"firstParty":return new T2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ue(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=$1.get(t);s&&(De("ComponentProvider","Removing Datastore"),$1.delete(t),s.terminate())}(this),Promise.resolve()}}function cN(r,e,t,s={}){var l;r=yu(r,d_);const h=Gp(e),d=r._getSettings(),y=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),v=`${e}:${t}`;h&&(yb(`https://${v}`),vb("Firestore",!0)),d.host!==XA&&d.host!==v&&Id("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:s});if(!Eu(_,y)&&(r._setSettings(_),s.mockUserToken)){let A,R;if(typeof s.mockUserToken=="string")A=s.mockUserToken,R=Ur.MOCK_USER;else{A=HC(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new Ue(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Ur(x)}r._authCredentials=new v2(new Lb(A,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WA=class ZA{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ZA(this.firestore,e,this._query)}};class Ti{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ti(this.firestore,e,this._key)}}class vu extends WA{constructor(e,t,s){super(e,t,i_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ti(this.firestore,null,new Fe(e))}withConverter(e){return new vu(this.firestore,e,this._path)}}function hN(r,e,...t){if(r=jr(r),YA("collection","path",e),r instanceof d_){const s=hn.fromString(e,...t);return X1(s),new vu(r,null,s)}{if(!(r instanceof Ti||r instanceof vu))throw new Ue(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(hn.fromString(e,...t));return X1(s),new vu(r.firestore,null,s)}}function JA(r,e,...t){if(r=jr(r),arguments.length===1&&(e=Vb.newId()),YA("doc","path",e),r instanceof d_){const s=hn.fromString(e,...t);return Y1(s),new Ti(r,null,new Fe(s))}{if(!(r instanceof Ti||r instanceof vu))throw new Ue(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(hn.fromString(e,...t));return Y1(s),new Ti(r.firestore,r instanceof vu?r.converter:null,new Fe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="AsyncQueue";class ew{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new IA(this,"async_queue_retry"),this.ec=()=>{const s=x0();s&&De(J1,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const t=x0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=x0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new mu;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ud(e))throw e;De(J1,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,Jo("INTERNAL UNHANDLED ERROR: ",tw(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=t,t}enqueueAfterDelay(e,t,s){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const l=WE.createAndSchedule(this,e,t,s,h=>this.oc(h));return this.Hu.push(l),l}nc(){this.Ju&&$e(47125,{_c:tw(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function tw(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const l=t;for(const h of s)if(h in l&&typeof l[h]=="function")return!0;return!1}(r,["next","error","complete"])}class Pp extends d_{constructor(e,t,s,l){super(e,t,s,l),this.type="firestore",this._queue=new ew,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ew(e),this._firestoreClient=void 0,await e}}}function fN(r,e){const t=typeof r=="object"?r:NE(),s=typeof r=="string"?r:Cv,l=wh(t,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=jC("firestore");h&&cN(l,...h)}return l}function rT(r){if(r._terminated)throw new Ue(Te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||dN(r),r._firestoreClient}function dN(r){var e,t,s;const l=r._freezeSettings(),h=function(y,v,_,A){return new k2(y,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,$A(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((t=l.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new sN(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Md(yr.fromBase64String(e))}catch(t){throw new Ue(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Md(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ue(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^__.*__$/;class pN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Sh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kp(e,this.data,t,this.fieldTransforms)}}function tS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{hc:r})}}class oT{constructor(e,t,s,l,h,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=l,h===void 0&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new oT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),l=this.Tc({path:s,Ec:!1});return l.dc(e),l}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),l=this.Tc({path:s,Ec:!1});return l.Pc(),l}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Uv(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(tS(this.hc)&&gN.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class mN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||c_(e)}gc(e,t,s,l=!1){return new oT({hc:e,methodName:t,fc:s,path:mr.emptyPath(),Ec:!1,mc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yN(r){const e=r._freezeSettings(),t=c_(r._databaseId);return new mN(r._databaseId,!!e.ignoreUndefinedProperties,t)}function vN(r,e,t,s,l,h={}){const d=r.gc(h.merge||h.mergeFields?2:0,e,t,l);sS("Data must be an object, but it was:",d,s);const y=rS(s,d);let v,_;if(h.merge)v=new Ws(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const R of h.mergeFields){const x=_N(e,R,t);if(!d.contains(x))throw new Ue(Te.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);TN(A,x)||A.push(x)}v=new Ws(A),_=d.fieldTransforms.filter(R=>v.covers(R.field))}else v=null,_=d.fieldTransforms;return new pN(new ds(y),v,_)}function nS(r,e){if(iS(r=jr(r)))return sS("Unsupported field value:",e,r),rS(r,e);if(r instanceof eS)return function(s,l){if(!tS(l.hc))throw l.Vc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Vc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,l){const h=[];let d=0;for(const y of s){let v=nS(y,l.Rc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(r,e)}return function(s,l){if((s=jr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return aO(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Wn.fromDate(s);return{timestampValue:Pv(l.serializer,h)}}if(s instanceof Wn){const h=new Wn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pv(l.serializer,h)}}if(s instanceof sT)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Md)return{bytesValue:mA(l.serializer,s._byteString)};if(s instanceof Ti){const h=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw l.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:FE(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof aT)return function(d,y){return{mapValue:{fields:{[Gb]:{stringValue:Qb},[xv]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw y.Vc("VectorValues must only contain numeric values.");return BE(y.serializer,_)})}}}}}}(s,l);throw l.Vc(`Unsupported field value: ${nT(s)}`)}(r,e)}function rS(r,e){const t={};return Bb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bh(r,(s,l)=>{const h=nS(l,e.Ic(s));h!=null&&(t[s]=h)}),{mapValue:{fields:t}}}function iS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Wn||r instanceof sT||r instanceof Md||r instanceof Ti||r instanceof eS||r instanceof aT)}function sS(r,e,t){if(!iS(t)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(t)){const s=nT(t);throw s==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+s)}}function _N(r,e,t){if((e=jr(e))instanceof iT)return e._internalPath;if(typeof e=="string")return aS(r,e);throw Uv("Field path arguments must be of type string or ",r,!1,void 0,t)}const EN=new RegExp("[~\\*/\\[\\]]");function aS(r,e,t){if(e.search(EN)>=0)throw Uv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new iT(...e.split("."))._internalPath}catch{throw Uv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Uv(r,e,t,s,l){const h=s&&!s.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${l}`),v+=")"),new Ue(Te.INVALID_ARGUMENT,y+r+v)}function TN(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t,s,l,h){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class wN extends oS{data(){return super.data()}}function lS(r,e){return typeof e=="string"?aS(r,e):e instanceof iT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ue(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AN{convertValue(e,t="none"){switch(Au(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return bh(e,(l,h)=>{s[l]=this.convertValue(h,t)}),s}convertVectorValue(e){var t,s,l;const h=(l=(s=(t=e.fields)===null||t===void 0?void 0:t[xv].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>Nn(d.doubleValue));return new aT(h)}convertGeoPoint(e){return new sT(Nn(e.latitude),Nn(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=n_(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(xp(e));default:return null}}convertTimestamp(e){const t=wu(e);return new Wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=hn.fromString(e);Ht(wA(s),9688,{name:e});const l=new Op(s.get(1),s.get(3)),h=new Fe(s.popFirst(5));return l.isEqual(t)||Jo(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uS extends oS{constructor(e,t,s,l,h,d){super(e,t,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _v(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(lS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class _v extends uS{data(e={}){return super.data(e)}}class RN{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new mp(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new _v(this._firestore,this._userDataWriter,s.key,s,new mp(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(y=>{const v=new _v(l._firestore,l._userDataWriter,y.doc.key,y.doc,new mp(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(y=>h||y.type!==3).map(y=>{const v=new _v(l._firestore,l._userDataWriter,y.doc.key,y.doc,new mp(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:IN(y.type),doc:v,oldIndex:_,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function IN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(r){r=yu(r,Ti);const e=yu(r.firestore,Pp);return lN(rT(e),r._key).then(t=>hS(e,r,t))}class cS extends AN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Md(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,t)}}function xN(r,e,t){r=yu(r,Ti);const s=yu(r.firestore,Pp),l=SN(r.converter,e);return DN(s,[vN(yN(s),"setDoc",r._key,l,r.converter!==null,t).toMutation(r._key,Xo.none())])}function ON(r,...e){var t,s,l;r=jr(r);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||nw(e[d])||(h=e[d],d++);const y={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(nw(e[d])){const R=e[d];e[d]=(t=R.next)===null||t===void 0?void 0:t.bind(R),e[d+1]=(s=R.error)===null||s===void 0?void 0:s.bind(R),e[d+2]=(l=R.complete)===null||l===void 0?void 0:l.bind(R)}let v,_,A;if(r instanceof Ti)_=yu(r.firestore,Pp),A=i_(r._key.path),v={next:R=>{e[d]&&e[d](hS(_,r,R))},error:e[d+1],complete:e[d+2]};else{const R=yu(r,WA);_=yu(R.firestore,Pp),A=R._query;const x=new cS(_);v={next:L=>{e[d]&&e[d](new RN(_,x,R,L))},error:e[d+1],complete:e[d+2]},bN(r._query)}return function(x,L,z,X){const H=new QA(X),ne=new VA(L,H,z);return x.asyncQueue.enqueueAndForget(async()=>LA(await aE(x),ne)),()=>{H.Cu(),x.asyncQueue.enqueueAndForget(async()=>kA(await aE(x),ne))}}(rT(_),A,y,v)}function DN(r,e){return function(s,l){const h=new mu;return s.asyncQueue.enqueueAndForget(async()=>XD(await oN(s),l,h)),h.promise}(rT(r),e)}function hS(r,e,t){const s=t.docs.get(e._key),l=new cS(r);return new uS(r,l,e._key,s,new mp(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(l){kd=l})(Ld),Xa(new na("firestore",(s,{instanceIdentifier:l,options:h})=>{const d=s.getProvider("app").getImmediate(),y=new Pp(new _2(s.getProvider("auth-internal")),new w2(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ue(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Op(_.options.projectId,A)}(d,l),d);return h=Object.assign({useFetchStreams:t},h),y._setSettings(h),y},"PUBLIC").setMultipleInstances(!0)),gs(a1,o1,e),gs(a1,o1,"esm2017")})();var NN="firebase",MN="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(NN,MN,"app");const fS="@firebase/installations",lT="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=1e4,gS=`w:${lT}`,pS="FIS_v2",PN="https://firebaseinstallations.googleapis.com/v1",LN=60*60*1e3,kN="installations",VN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},gh=new Th(kN,VN,UN);function mS(r){return r instanceof ra&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS({projectId:r}){return`${PN}/projects/${r}/installations`}function vS(r){return{token:r.token,requestStatus:2,expiresIn:zN(r.expiresIn),creationTime:Date.now()}}async function _S(r,e){const s=(await e.json()).error;return gh.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function ES({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function BN(r,{refreshToken:e}){const t=ES(r);return t.append("Authorization",jN(e)),t}async function TS(r){const e=await r();return e.status>=500&&e.status<600?r():e}function zN(r){return Number(r.replace("s","000"))}function jN(r){return`${pS} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=yS(r),l=ES(r),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&l.append("x-firebase-client",_)}const d={fid:t,authVersion:pS,appId:r.appId,sdkVersion:gS},y={method:"POST",headers:l,body:JSON.stringify(d)},v=await TS(()=>fetch(s,y));if(v.ok){const _=await v.json();return{fid:_.fid||t,registrationStatus:2,refreshToken:_.refreshToken,authToken:vS(_.authToken)}}else throw await _S("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=/^[cdef][\w-]{21}$/,oE="";function GN(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=QN(r);return qN.test(t)?t:oE}catch{return oE}}function QN(r){return HN(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=new Map;function AS(r,e){const t=g_(r);SS(t,e),KN(t,e)}function SS(r,e){const t=bS.get(r);if(t)for(const s of t)s(e)}function KN(r,e){const t=$N();t&&t.postMessage({key:r,fid:e}),YN()}let th=null;function $N(){return!th&&"BroadcastChannel"in self&&(th=new BroadcastChannel("[Firebase] FID Change"),th.onmessage=r=>{SS(r.data.key,r.data.fid)}),th}function YN(){bS.size===0&&th&&(th.close(),th=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="firebase-installations-database",WN=1,ph="firebase-installations-store";let D0=null;function uT(){return D0||(D0=Ab(XN,WN,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(ph)}}})),D0}async function Bv(r,e){const t=g_(r),l=(await uT()).transaction(ph,"readwrite"),h=l.objectStore(ph),d=await h.get(t);return await h.put(e,t),await l.done,(!d||d.fid!==e.fid)&&AS(r,e.fid),e}async function RS(r){const e=g_(r),s=(await uT()).transaction(ph,"readwrite");await s.objectStore(ph).delete(e),await s.done}async function p_(r,e){const t=g_(r),l=(await uT()).transaction(ph,"readwrite"),h=l.objectStore(ph),d=await h.get(t),y=e(d);return y===void 0?await h.delete(t):await h.put(y,t),await l.done,y&&(!d||d.fid!==y.fid)&&AS(r,y.fid),y}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(r){let e;const t=await p_(r.appConfig,s=>{const l=ZN(s),h=JN(r,l);return e=h.registrationPromise,h.installationEntry});return t.fid===oE?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function ZN(r){const e=r||{fid:GN(),registrationStatus:0};return IS(e)}function JN(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(gh.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=eM(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tM(r)}:{installationEntry:e}}async function eM(r,e){try{const t=await FN(r,e);return Bv(r.appConfig,t)}catch(t){throw mS(t)&&t.customData.serverCode===409?await RS(r.appConfig):await Bv(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function tM(r){let e=await rw(r.appConfig);for(;e.registrationStatus===1;)await wS(100),e=await rw(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await cT(r);return s||t}return e}function rw(r){return p_(r,e=>{if(!e)throw gh.create("installation-not-found");return IS(e)})}function IS(r){return nM(r)?{fid:r.fid,registrationStatus:0}:r}function nM(r){return r.registrationStatus===1&&r.registrationTime+dS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM({appConfig:r,heartbeatServiceProvider:e},t){const s=iM(r,t),l=BN(r,t),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&l.append("x-firebase-client",_)}const d={installation:{sdkVersion:gS,appId:r.appId}},y={method:"POST",headers:l,body:JSON.stringify(d)},v=await TS(()=>fetch(s,y));if(v.ok){const _=await v.json();return vS(_)}else throw await _S("Generate Auth Token",v)}function iM(r,{fid:e}){return`${yS(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(r,e=!1){let t;const s=await p_(r.appConfig,h=>{if(!CS(h))throw gh.create("not-registered");const d=h.authToken;if(!e&&oM(d))return h;if(d.requestStatus===1)return t=sM(r,e),h;{if(!navigator.onLine)throw gh.create("app-offline");const y=uM(h);return t=aM(r,y),y}});return t?await t:s.authToken}async function sM(r,e){let t=await iw(r.appConfig);for(;t.authToken.requestStatus===1;)await wS(100),t=await iw(r.appConfig);const s=t.authToken;return s.requestStatus===0?hT(r,e):s}function iw(r){return p_(r,e=>{if(!CS(e))throw gh.create("not-registered");const t=e.authToken;return cM(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function aM(r,e){try{const t=await rM(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Bv(r.appConfig,s),t}catch(t){if(mS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await RS(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Bv(r.appConfig,s)}throw t}}function CS(r){return r!==void 0&&r.registrationStatus===2}function oM(r){return r.requestStatus===2&&!lM(r)}function lM(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+LN}function uM(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function cM(r){return r.requestStatus===1&&r.requestTime+dS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(r){const e=r,{installationEntry:t,registrationPromise:s}=await cT(e);return s?s.catch(console.error):hT(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(r,e=!1){const t=r;return await dM(t),(await hT(t,e)).token}async function dM(r){const{registrationPromise:e}=await cT(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(r){if(!r||!r.options)throw N0("App Configuration");if(!r.name)throw N0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw N0(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function N0(r){return gh.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="installations",pM="installations-internal",mM=r=>{const e=r.getProvider("app").getImmediate(),t=gM(e),s=wh(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},yM=r=>{const e=r.getProvider("app").getImmediate(),t=wh(e,xS).getImmediate();return{getId:()=>hM(t),getToken:l=>fM(t,l)}};function vM(){Xa(new na(xS,mM,"PUBLIC")),Xa(new na(pM,yM,"PRIVATE"))}vM();gs(fS,lT);gs(fS,lT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="analytics",_M="firebase_id",EM="origin",TM=60*1e3,wM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Jv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Bi=new Th("analytics","Analytics",bM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(r){if(!r.startsWith(fT)){const e=Bi.create("invalid-gtag-resource",{gtagURL:r});return wi.warn(e.message),""}return r}function OS(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function SM(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function RM(r,e){const t=SM("firebase-js-sdk-policy",{createScriptURL:AM}),s=document.createElement("script"),l=`${fT}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function IM(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function CM(r,e,t,s,l,h){const d=s[l];try{if(d)await e[d];else{const v=(await OS(t)).find(_=>_.measurementId===l);v&&await e[v.appId]}}catch(y){wi.error(y)}r("config",l,h)}async function xM(r,e,t,s,l){try{let h=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const y=await OS(t);for(const v of d){const _=y.find(R=>R.measurementId===v),A=_&&e[_.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),r("event",s,l||{})}catch(h){wi.error(h)}}function OM(r,e,t,s){async function l(h,...d){try{if(h==="event"){const[y,v]=d;await xM(r,e,t,y,v)}else if(h==="config"){const[y,v]=d;await CM(r,e,t,s,y,v)}else if(h==="consent"){const[y,v]=d;r("consent",y,v)}else if(h==="get"){const[y,v,_]=d;r("get",y,v,_)}else if(h==="set"){const[y]=d;r("set",y)}else r(h,...d)}catch(y){wi.error(y)}}return l}function DM(r,e,t,s,l){let h=function(...d){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(h=window[l]),window[l]=OM(h,r,e,t),{gtagCore:h,wrappedGtag:window[l]}}function NM(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(fT)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=30,PM=1e3;class LM{constructor(e={},t=PM){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const DS=new LM;function kM(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function VM(r){var e;const{appId:t,apiKey:s}=r,l={method:"GET",headers:kM(s)},h=wM.replace("{app-id}",t),d=await fetch(h,l);if(d.status!==200&&d.status!==304){let y="";try{const v=await d.json();!((e=v.error)===null||e===void 0)&&e.message&&(y=v.error.message)}catch{}throw Bi.create("config-fetch-failed",{httpStatus:d.status,responseMessage:y})}return d.json()}async function UM(r,e=DS,t){const{appId:s,apiKey:l,measurementId:h}=r.options;if(!s)throw Bi.create("no-app-id");if(!l){if(h)return{measurementId:h,appId:s};throw Bi.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},y=new jM;return setTimeout(async()=>{y.abort()},TM),NS({appId:s,apiKey:l,measurementId:h},d,y,e)}async function NS(r,{throttleEndTimeMillis:e,backoffCount:t},s,l=DS){var h;const{appId:d,measurementId:y}=r;try{await BM(s,e)}catch(v){if(y)return wi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${y} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:y};throw v}try{const v=await VM(r);return l.deleteThrottleMetadata(d),v}catch(v){const _=v;if(!zM(_)){if(l.deleteThrottleMetadata(d),y)return wi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${y} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:d,measurementId:y};throw v}const A=Number((h=_==null?void 0:_.customData)===null||h===void 0?void 0:h.httpStatus)===503?XT(t,l.intervalMillis,MM):XT(t,l.intervalMillis),R={throttleEndTimeMillis:Date.now()+A,backoffCount:t+1};return l.setThrottleMetadata(d,R),wi.debug(`Calling attemptFetch again in ${A} millis`),NS(r,R,s,l)}}function BM(r,e){return new Promise((t,s)=>{const l=Math.max(e-Date.now(),0),h=setTimeout(t,l);r.addEventListener(()=>{clearTimeout(h),s(Bi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zM(r){if(!(r instanceof ra)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class jM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function FM(r,e,t,s,l){if(l&&l.global){r("event",t,s);return}else{const h=await e,d=Object.assign(Object.assign({},s),{send_to:h});r("event",t,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(){if(Eb())try{await Tb()}catch(r){return wi.warn(Bi.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return wi.warn(Bi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qM(r,e,t,s,l,h,d){var y;const v=UM(r);v.then(L=>{t[L.measurementId]=L.appId,r.options.measurementId&&L.measurementId!==r.options.measurementId&&wi.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${L.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(L=>wi.error(L)),e.push(v);const _=HM().then(L=>{if(L)return s.getId()}),[A,R]=await Promise.all([v,_]);NM(h)||RM(h,A.measurementId),l("js",new Date);const x=(y=d==null?void 0:d.config)!==null&&y!==void 0?y:{};return x[EM]="firebase",x.update=!0,R!=null&&(x[_M]=R),l("config",A.measurementId,x),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.app=e}_delete(){return delete Ap[this.app.options.appId],Promise.resolve()}}let Ap={},sw=[];const aw={};let M0="dataLayer",QM="gtag",ow,MS,lw=!1;function KM(){const r=[];if(_b()&&r.push("This is a browser extension environment."),ZC()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,l)=>`(${l+1}) ${s}`).join(" "),t=Bi.create("invalid-analytics-context",{errorInfo:e});wi.warn(t.message)}}function $M(r,e,t){KM();const s=r.options.appId;if(!s)throw Bi.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)wi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Bi.create("no-api-key");if(Ap[s]!=null)throw Bi.create("already-exists",{id:s});if(!lw){IM(M0);const{wrappedGtag:h,gtagCore:d}=DM(Ap,sw,aw,M0,QM);MS=h,ow=d,lw=!0}return Ap[s]=qM(r,sw,aw,e,ow,M0,t),new GM(r)}function YM(r=NE()){r=jr(r);const e=wh(r,zv);return e.isInitialized()?e.getImmediate():XM(r)}function XM(r,e={}){const t=wh(r,zv);if(t.isInitialized()){const l=t.getImmediate();if(Eu(e,t.getOptions()))return l;throw Bi.create("already-initialized")}return t.initialize({options:e})}function WM(r,e,t,s){r=jr(r),FM(MS,Ap[r.app.options.appId],e,t,s).catch(l=>wi.error(l))}const uw="@firebase/analytics",cw="0.10.16";function ZM(){Xa(new na(zv,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return $M(s,l,t)},"PUBLIC")),Xa(new na("analytics-internal",r,"PRIVATE")),gs(uw,cw),gs(uw,cw,"esm2017");function r(e){try{const t=e.getProvider(zv).getImmediate();return{logEvent:(s,l,h)=>WM(t,s,l,h)}}catch(t){throw Bi.create("interop-component-reg-failed",{reason:t})}}}ZM();function dT(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(t[s[l]]=r[s[l]]);return t}function PS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JM=PS,LS=new Th("auth","Firebase",PS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new Jv("@firebase/auth");function eP(r,...e){jv.logLevel<=_t.WARN&&jv.warn(`Auth (${Ld}): ${r}`,...e)}function Ev(r,...e){jv.logLevel<=_t.ERROR&&jv.error(`Auth (${Ld}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(r,...e){throw pT(r,...e)}function Js(r,...e){return pT(r,...e)}function gT(r,e,t){const s=Object.assign(Object.assign({},JM()),{[e]:t});return new Th("auth","Firebase",s).create(e,{appName:r.name})}function _u(r){return gT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tP(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ja(r,"argument-error"),gT(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pT(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return LS.create(r,...e)}function Xe(r,e,...t){if(!r)throw pT(e,...t)}function Ko(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ev(e),new Error(e)}function tl(r,e){r||Ko(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function nP(){return hw()==="http:"||hw()==="https:"}function hw(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nP()||_b()||"connection"in navigator)?navigator.onLine:!0}function iP(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){this.shortDelay=e,this.longDelay=t,tl(t>e,"Short delay should be less than long delay!"),this.isMobile=QC()||YC()}get(){return rP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(r,e){tl(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oP=new Wp(3e4,6e4);function Zp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ih(r,e,t,s,l={}){return VS(r,l,async()=>{let h={},d={};s&&(e==="GET"?d=s:h={body:JSON.stringify(s)});const y=Qp(Object.assign({key:r.config.apiKey},d)).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:v},h);return $C()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Gp(r.emulatorConfig.host)&&(_.credentials="include"),kS.fetch()(await BS(r,r.config.apiHost,t,y),_)})}async function VS(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},sP),e);try{const l=new uP(r),h=await Promise.race([t(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw cv(r,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const y=h.ok?d.errorMessage:d.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw cv(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw cv(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw cv(r,"user-disabled",d);const A=s[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw gT(r,A,_);Ja(r,A)}}catch(l){if(l instanceof ra)throw l;Ja(r,"network-request-failed",{message:String(l)})}}async function US(r,e,t,s,l={}){const h=await Ih(r,e,t,s,l);return"mfaPendingCredential"in h&&Ja(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function BS(r,e,t,s){const l=`${e}${t}?${s}`,h=r,d=h.config.emulator?mT(r.config,l):`${r.config.apiScheme}://${l}`;return aP.includes(t)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}function lP(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Js(this.auth,"network-request-failed")),oP.get())})}}function cv(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const l=Js(r,e,s);return l.customData._tokenResponse=t,l}function fw(r){return r!==void 0&&r.enterprise!==void 0}class cP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hP(r,e){return Ih(r,"GET","/v2/recaptchaConfig",Zp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(r,e){return Ih(r,"POST","/v1/accounts:delete",e)}async function Fv(r,e){return Ih(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dP(r,e=!1){const t=jr(r),s=await t.getIdToken(e),l=yT(s);Xe(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h==null?void 0:h.sign_in_provider;return{claims:l,token:s,authTime:Sp(P0(l.auth_time)),issuedAtTime:Sp(P0(l.iat)),expirationTime:Sp(P0(l.exp)),signInProvider:d||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function P0(r){return Number(r)*1e3}function yT(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Ev("JWT malformed, contained fewer than 3 sections"),null;try{const l=db(t);return l?JSON.parse(l):(Ev("Failed to decode base64 JWT payload"),null)}catch(l){return Ev("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function dw(r){const e=yT(r);return Xe(e,"internal-error"),Xe(typeof e.exp<"u","internal-error"),Xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lp(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ra&&gP(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function gP({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sp(this.lastLoginAt),this.creationTime=Sp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hv(r){var e;const t=r.auth,s=await r.getIdToken(),l=await Lp(r,Fv(t,{idToken:s}));Xe(l==null?void 0:l.users.length,t,"internal-error");const h=l.users[0];r._notifyReloadListener(h);const d=!((e=h.providerUserInfo)===null||e===void 0)&&e.length?zS(h.providerUserInfo):[],y=yP(r.providerData,d),v=r.isAnonymous,_=!(r.email&&h.passwordHash)&&!(y!=null&&y.length),A=v?_:!1,R={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:y,metadata:new uE(h.createdAt,h.lastLoginAt),isAnonymous:A};Object.assign(r,R)}async function mP(r){const e=jr(r);await Hv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yP(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function zS(r){return r.map(e=>{var{providerId:t}=e,s=dT(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(r,e){const t=await VS(r,{},async()=>{const s=Qp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,d=await BS(r,l,"/v1/token",`key=${h}`),y=await r._getAdditionalHeaders();return y["Content-Type"]="application/x-www-form-urlencoded",kS.fetch()(d,{method:"POST",headers:y,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function _P(r,e){return Ih(r,"POST","/v2/accounts:revokeToken",Zp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xe(e.idToken,"internal-error"),Xe(typeof e.idToken<"u","internal-error"),Xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Xe(e.length!==0,"internal-error");const t=dw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:l,expiresIn:h}=await vP(e,t);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:l,expirationTime:h}=t,d=new cd;return s&&(Xe(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(Xe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),h&&(Xe(typeof h=="number","internal-error",{appName:e}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cd,this.toJSON())}_performRefresh(){return Ko("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(r,e){Xe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zs{constructor(e){var{uid:t,auth:s,stsTokenManager:l}=e,h=dT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new uE(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(e){const t=await Lp(this,this.stsTokenManager.getToken(this.auth,e));return Xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dP(this,e)}reload(){return mP(this)}_assign(e){this!==e&&(Xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Hv(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(_u(this.auth));const e=await this.getIdToken();return await Lp(this,fP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,l,h,d,y,v,_,A;const R=(s=t.displayName)!==null&&s!==void 0?s:void 0,x=(l=t.email)!==null&&l!==void 0?l:void 0,L=(h=t.phoneNumber)!==null&&h!==void 0?h:void 0,z=(d=t.photoURL)!==null&&d!==void 0?d:void 0,X=(y=t.tenantId)!==null&&y!==void 0?y:void 0,H=(v=t._redirectEventId)!==null&&v!==void 0?v:void 0,ne=(_=t.createdAt)!==null&&_!==void 0?_:void 0,ce=(A=t.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:se,emailVerified:Ee,isAnonymous:we,providerData:Ie,stsTokenManager:j}=t;Xe(se&&j,e,"internal-error");const N=cd.fromJSON(this.name,j);Xe(typeof se=="string",e,"internal-error"),Jl(R,e.name),Jl(x,e.name),Xe(typeof Ee=="boolean",e,"internal-error"),Xe(typeof we=="boolean",e,"internal-error"),Jl(L,e.name),Jl(z,e.name),Jl(X,e.name),Jl(H,e.name),Jl(ne,e.name),Jl(ce,e.name);const M=new Zs({uid:se,auth:e,email:x,emailVerified:Ee,displayName:R,isAnonymous:we,photoURL:z,phoneNumber:L,tenantId:X,stsTokenManager:N,createdAt:ne,lastLoginAt:ce});return Ie&&Array.isArray(Ie)&&(M.providerData=Ie.map(F=>Object.assign({},F))),H&&(M._redirectEventId=H),M}static async _fromIdTokenResponse(e,t,s=!1){const l=new cd;l.updateFromServerResponse(t);const h=new Zs({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Hv(h),h}static async _fromGetAccountInfoResponse(e,t,s){const l=t.users[0];Xe(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?zS(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(h!=null&&h.length),y=new cd;y.updateFromIdToken(s);const v=new Zs({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new uE(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(h!=null&&h.length)};return Object.assign(v,_),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=new Map;function $o(r){tl(r instanceof Function,"Expected a class definition");let e=gw.get(r);return e?(tl(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,gw.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jS.type="NONE";const pw=jS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(r,e,t){return`firebase:${r}:${e}:${t}`}class hd{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=Tv(this.userKey,l.apiKey,h),this.fullPersistenceKey=Tv("persistence",l.apiKey,h),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Fv(this.auth,{idToken:e}).catch(()=>{});return t?Zs._fromGetAccountInfoResponse(this.auth,t,e):null}return Zs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new hd($o(pw),e,s);const l=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=l[0]||$o(pw);const d=Tv(s,e.config.apiKey,e.name);let y=null;for(const _ of t)try{const A=await _._get(d);if(A){let R;if(typeof A=="string"){const x=await Fv(e,{idToken:A}).catch(()=>{});if(!x)break;R=await Zs._fromGetAccountInfoResponse(e,x,A)}else R=Zs._fromJSON(e,A);_!==h&&(y=R),h=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new hd(h,e,s):(h=v[0],y&&await h._set(d,y.toJSON()),await Promise.all(t.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new hd(h,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KS(e))return"Blackberry";if($S(e))return"Webos";if(HS(e))return"Safari";if((e.includes("chrome/")||qS(e))&&!e.includes("edge/"))return"Chrome";if(QS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function FS(r=zr()){return/firefox\//i.test(r)}function HS(r=zr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qS(r=zr()){return/crios\//i.test(r)}function GS(r=zr()){return/iemobile/i.test(r)}function QS(r=zr()){return/android/i.test(r)}function KS(r=zr()){return/blackberry/i.test(r)}function $S(r=zr()){return/webos/i.test(r)}function vT(r=zr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function EP(r=zr()){var e;return vT(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TP(){return XC()&&document.documentMode===10}function YS(r=zr()){return vT(r)||QS(r)||$S(r)||KS(r)||/windows phone/i.test(r)||GS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(r,e=[]){let t;switch(r){case"Browser":t=mw(zr());break;case"Worker":t=`${mw(zr())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ld}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=h=>new Promise((d,y)=>{try{const v=e(h);d(v)}catch(v){y(v)}});s.onAbort=t,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const l of t)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(r,e={}){return Ih(r,"GET","/v2/passwordPolicy",Zp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=6;class SP{constructor(e){var t,s,l,h;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:AP,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(h=e.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,l,h,d,y;const v={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,v),this.validatePasswordCharacterOptions(e,v),v.isValid&&(v.isValid=(t=v.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),v.isValid&&(v.isValid=(s=v.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),v.isValid&&(v.isValid=(l=v.containsLowercaseLetter)!==null&&l!==void 0?l:!0),v.isValid&&(v.isValid=(h=v.containsUppercaseLetter)!==null&&h!==void 0?h:!0),v.isValid&&(v.isValid=(d=v.containsNumericCharacter)!==null&&d!==void 0?d:!0),v.isValid&&(v.isValid=(y=v.containsNonAlphanumericCharacter)!==null&&y!==void 0?y:!0),v}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),l&&(t.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t,s,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yw(this),this.idTokenSubscription=new yw(this),this.beforeStateQueue=new wP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$o(t)),this._initializationPromise=this.queue(async()=>{var s,l,h;if(!this._deleted&&(this.persistenceManager=await hd.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fv(this,{idToken:e}),s=await Zs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fs(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(y=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(y,y))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,h=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,y=l==null?void 0:l._redirectEventId,v=await this.tryRedirectSignIn(e);(!d||d===y)&&(v!=null&&v.user)&&(l=v.user,h=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hv(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(_u(this));const t=e?jr(e):null;return t&&Xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(_u(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(_u(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($o(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bP(this),t=new SP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Th("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await _P(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$o(e)||this._popupRedirectResolver;Xe(t,this,"argument-error"),this.redirectPersistenceManager=await hd.create(this,[$o(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,l){if(this._deleted)return()=>{};const h=typeof t=="function"?t:t.next.bind(t);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xe(y,this,"internal-error"),y.then(()=>{d||h(this.currentUser)}),typeof t=="function"){const v=e.addObserver(t,s,l);return()=>{d=!0,v()}}else{const v=e.addObserver(t);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){var e;if(fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&eP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ch(r){return jr(r)}class yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=rx(t=>this.observer=t)}get next(){return Xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IP(r){m_=r}function WS(r){return m_.loadJS(r)}function CP(){return m_.recaptchaEnterpriseScript}function xP(){return m_.gapiScript}function OP(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class DP{constructor(){this.enterprise=new NP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class NP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const MP="recaptcha-enterprise",ZS="NO_RECAPTCHA";class PP{constructor(e){this.type=MP,this.auth=Ch(e)}async verify(e="verify",t=!1){async function s(h){if(!t){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(d,y)=>{hP(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const _=new cP(v);return h.tenantId==null?h._agentRecaptchaConfig=_:h._tenantRecaptchaConfigs[h.tenantId]=_,d(_.siteKey)}}).catch(v=>{y(v)})})}function l(h,d,y){const v=window.grecaptcha;fw(v)?v.enterprise.ready(()=>{v.enterprise.execute(h,{action:e}).then(_=>{d(_)}).catch(()=>{d(ZS)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DP().execute("siteKey",{action:"verify"}):new Promise((h,d)=>{s(this.auth).then(y=>{if(!t&&fw(window.grecaptcha))l(y,h,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let v=CP();v.length!==0&&(v+=y),WS(v).then(()=>{l(y,h,d)}).catch(_=>{d(_)})}}).catch(y=>{d(y)})})}}async function vw(r,e,t,s=!1,l=!1){const h=new PP(r);let d;if(l)d=ZS;else try{d=await h.verify(t)}catch{d=await h.verify(t,!0)}const y=Object.assign({},e);return s?Object.assign(y,{captchaResp:d}):Object.assign(y,{captchaResponse:d}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function LP(r,e,t,s,l){var h;if(!((h=r._getRecaptchaConfig())===null||h===void 0)&&h.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await vw(r,e,t,t==="getOobCode");return s(r,d)}else return s(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const y=await vw(r,e,t,t==="getOobCode");return s(r,y)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(r,e){const t=wh(r,"auth");if(t.isInitialized()){const l=t.getImmediate(),h=t.getOptions();if(Eu(h,e??{}))return l;Ja(l,"already-initialized")}return t.initialize({options:e})}function VP(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map($o);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function UP(r,e,t){const s=Ch(r);Xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,h=JS(e),{host:d,port:y}=BP(e),v=y===null?"":`:${y}`,_={url:`${h}//${d}${v}/`},A=Object.freeze({host:d,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Xe(Eu(_,s.config.emulator)&&Eu(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Gp(d)?(yb(`${h}//${d}${v}`),vb("Auth",!0)):zP()}function JS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function BP(r){const e=JS(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:_w(s.substr(h.length+1))}}else{const[h,d]=s.split(":");return{host:h,port:_w(d)}}}function _w(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function zP(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ko("not implemented")}_getIdTokenResponse(e){return Ko("not implemented")}_linkToIdToken(e,t){return Ko("not implemented")}_getReauthenticationResolver(e){return Ko("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fd(r,e){return US(r,"POST","/v1/accounts:signInWithIdp",Zp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="http://localhost";class mh extends eR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ja("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=t,h=dT(t,["providerId","signInMethod"]);if(!s||!l)return null;const d=new mh(s,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return fd(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,fd(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fd(e,t)}buildRequest(){const e={requestUri:jP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qp(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp extends _T{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Jp{constructor(){super("facebook.com")}static credential(e){return mh._fromParams({providerId:tu.PROVIDER_ID,signInMethod:tu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tu.credentialFromTaggedObject(e)}static credentialFromError(e){return tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tu.credential(e.oauthAccessToken)}catch{return null}}}tu.FACEBOOK_SIGN_IN_METHOD="facebook.com";tu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Jp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mh._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Go.credential(t,s)}catch{return null}}}Go.GOOGLE_SIGN_IN_METHOD="google.com";Go.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Jp{constructor(){super("github.com")}static credential(e){return mh._fromParams({providerId:nu.PROVIDER_ID,signInMethod:nu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nu.credentialFromTaggedObject(e)}static credentialFromError(e){return nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nu.credential(e.oauthAccessToken)}catch{return null}}}nu.GITHUB_SIGN_IN_METHOD="github.com";nu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Jp{constructor(){super("twitter.com")}static credential(e,t){return mh._fromParams({providerId:ru.PROVIDER_ID,signInMethod:ru.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ru.credentialFromTaggedObject(e)}static credentialFromError(e){return ru.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ru.credential(t,s)}catch{return null}}}ru.TWITTER_SIGN_IN_METHOD="twitter.com";ru.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(r,e){return US(r,"POST","/v1/accounts:signUp",Zp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,l=!1){const h=await Zs._fromIdTokenResponse(e,s,l),d=Ew(s);return new yh({user:h,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const l=Ew(s);return new yh({user:e,providerId:l,_tokenResponse:s,operationType:t})}}function Ew(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends ra{constructor(e,t,s,l){var h;super(t.code,t.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,qv.prototype),this.customData={appName:e.name,tenantId:(h=e.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,l){return new qv(e,t,s,l)}}function tR(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?qv._fromErrorAndOperation(r,h,e,s):h})}async function HP(r,e,t=!1){const s=await Lp(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return yh._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP(r,e,t=!1){const{auth:s}=r;if(fs(s.app))return Promise.reject(_u(s));const l="reauthenticate";try{const h=await Lp(r,tR(s,l,e,r),t);Xe(h.idToken,s,"internal-error");const d=yT(h.idToken);Xe(d,s,"internal-error");const{sub:y}=d;return Xe(r.uid===y,s,"user-mismatch"),yh._forOperation(r,l,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&Ja(s,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(r,e,t=!1){if(fs(r.app))return Promise.reject(_u(r));const s="signIn",l=await tR(r,s,e),h=await yh._fromIdTokenResponse(r,s,l);return t||await r._updateCurrentUser(h.user),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(r){const e=Ch(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KP(r,e,t){if(fs(r.app))return Promise.reject(_u(r));const s=Ch(r),d=await LP(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FP).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&QP(r),v}),y=await yh._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(y.user),y}function $P(r,e,t,s){return jr(r).onIdTokenChanged(e,t,s)}function YP(r,e,t){return jr(r).beforeAuthStateChanged(e,t)}function XP(r,e,t,s){return jr(r).onAuthStateChanged(e,t,s)}function WP(r){return jr(r).signOut()}const Gv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gv,"1"),this.storage.removeItem(Gv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=1e3,JP=10;class rR extends nR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),l=this.localCache[t];s!==l&&e(t,l,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const s=e.key;t?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},h=this.storage.getItem(s);TP()&&h!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,JP):l()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},ZP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rR.type="LOCAL";const e4=rR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR extends nR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iR.type="SESSION";const sR=iR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(l=>l.isListeningto(e));if(t)return t;const s=new y_(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:l,data:h}=t.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const y=Array.from(d).map(async _=>_(t.origin,h)),v=await t4(y);t.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:v})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}y_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((y,v)=>{const _=ET("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(R){const x=R;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(x.data.response);break;default:clearTimeout(A),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(){return window}function r4(r){Ya().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){return typeof Ya().WorkerGlobalScope<"u"&&typeof Ya().importScripts=="function"}async function i4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s4(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function a4(){return aR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="firebaseLocalStorageDb",o4=1,Qv="firebaseLocalStorage",lR="fbase_key";class em{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function v_(r,e){return r.transaction([Qv],e?"readwrite":"readonly").objectStore(Qv)}function l4(){const r=indexedDB.deleteDatabase(oR);return new em(r).toPromise()}function cE(){const r=indexedDB.open(oR,o4);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Qv,{keyPath:lR})}catch(l){t(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Qv)?e(s):(s.close(),await l4(),e(await cE()))})})}async function Tw(r,e,t){const s=v_(r,!0).put({[lR]:e,value:t});return new em(s).toPromise()}async function u4(r,e){const t=v_(r,!1).get(e),s=await new em(t).toPromise();return s===void 0?null:s.value}function ww(r,e){const t=v_(r,!0).delete(e);return new em(t).toPromise()}const c4=800,h4=3;class uR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>h4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=y_._getInstance(a4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await i4(),!this.activeServiceWorker)return;this.sender=new n4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cE();return await Tw(e,Gv,"1"),await ww(e,Gv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Tw(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>u4(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ww(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const h=v_(l,!1).getAll();return new em(h).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:h}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),t.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),t.push(l));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uR.type="LOCAL";const f4=uR;new Wp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(r,e){return e?$o(e):(Xe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends eR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function d4(r){return GP(r.auth,new TT(r),r.bypassAuthState)}function g4(r){const{auth:e,user:t}=r;return Xe(t,e,"internal-error"),qP(t,new TT(r),r.bypassAuthState)}async function p4(r){const{auth:e,user:t}=r;return Xe(t,e,"internal-error"),HP(t,new TT(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,t,s,l,h=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:l,tenantId:h,error:d,type:y}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:t,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d4;case"linkViaPopup":case"linkViaRedirect":return p4;case"reauthViaPopup":case"reauthViaRedirect":return g4;default:Ja(this.auth,"internal-error")}}resolve(e){tl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new Wp(2e3,1e4);async function y4(r,e,t){if(fs(r.app))return Promise.reject(Js(r,"operation-not-supported-in-this-environment"));const s=Ch(r);tP(r,e,_T);const l=cR(s,t);return new nh(s,"signInViaPopup",e,l).executeNotNull()}class nh extends hR{constructor(e,t,s,l,h){super(e,t,l,h),this.provider=s,this.authWindow=null,this.pollId=null,nh.currentPopupAction&&nh.currentPopupAction.cancel(),nh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xe(e,this.auth,"internal-error"),e}async onExecution(){tl(this.filter.length===1,"Popup operations only handle one event");const e=ET();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m4.get())};e()}}nh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="pendingRedirect",wv=new Map;class _4 extends hR{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=wv.get(this.auth._key());if(!e){try{const s=await E4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}wv.set(this.auth._key(),e)}return this.bypassAuthState||wv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E4(r,e){const t=b4(e),s=w4(r);if(!await s._isAvailable())return!1;const l=await s._get(t)==="true";return await s._remove(t),l}function T4(r,e){wv.set(r._key(),e)}function w4(r){return $o(r._redirectPersistence)}function b4(r){return Tv(v4,r.config.apiKey,r.name)}async function A4(r,e,t=!1){if(fs(r.app))return Promise.reject(_u(r));const s=Ch(r),l=cR(s,e),d=await new _4(s,l,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=10*60*1e3;class R4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!fR(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Js(this.auth,l))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S4&&this.cachedEventUids.clear(),this.cachedEventUids.has(bw(e))}saveEventToCache(e){this.cachedEventUids.add(bw(e)),this.lastProcessedEventTime=Date.now()}}function bw(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function fR({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function I4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fR(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(r,e={}){return Ih(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O4=/^https?/;async function D4(r){if(r.config.emulator)return;const{authorizedDomains:e}=await C4(r);for(const t of e)try{if(N4(t))return}catch{}Ja(r,"unauthorized-domain")}function N4(r){const e=lE(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!O4.test(t))return!1;if(x4.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=new Wp(3e4,6e4);function Aw(){const r=Ya().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function P4(r){return new Promise((e,t)=>{var s,l,h;function d(){Aw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Aw(),t(Js(r,"network-request-failed"))},timeout:M4.get()})}if(!((l=(s=Ya().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((h=Ya().gapi)===null||h===void 0)&&h.load)d();else{const y=OP("iframefcb");return Ya()[y]=()=>{gapi.load?d():t(Js(r,"network-request-failed"))},WS(`${xP()}?onload=${y}`).catch(v=>t(v))}}).catch(e=>{throw bv=null,e})}let bv=null;function L4(r){return bv=bv||P4(r),bv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=new Wp(5e3,15e3),V4="__/auth/iframe",U4="emulator/auth/iframe",B4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j4(r){const e=r.config;Xe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?mT(e,U4):`https://${r.config.authDomain}/${V4}`,s={apiKey:e.apiKey,appName:r.name,v:Ld},l=z4.get(r.config.apiHost);l&&(s.eid=l);const h=r._getFrameworks();return h.length&&(s.fw=h.join(",")),`${t}?${Qp(s).slice(1)}`}async function F4(r){const e=await L4(r),t=Ya().gapi;return Xe(t,r,"internal-error"),e.open({where:document.body,url:j4(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B4,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const d=Js(r,"network-request-failed"),y=Ya().setTimeout(()=>{h(d)},k4.get());function v(){Ya().clearTimeout(y),l(s)}s.ping(v).then(v,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q4=500,G4=600,Q4="_blank",K4="http://localhost";class Sw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $4(r,e,t,s=q4,l=G4){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let y="";const v=Object.assign(Object.assign({},H4),{width:s.toString(),height:l.toString(),top:h,left:d}),_=zr().toLowerCase();t&&(y=qS(_)?Q4:t),FS(_)&&(e=e||K4,v.scrollbars="yes");const A=Object.entries(v).reduce((x,[L,z])=>`${x}${L}=${z},`,"");if(EP(_)&&y!=="_self")return Y4(e||"",y),new Sw(null);const R=window.open(e||"",y,A);Xe(R,r,"popup-blocked");try{R.focus()}catch{}return new Sw(R)}function Y4(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="__/auth/handler",W4="emulator/auth/handler",Z4=encodeURIComponent("fac");async function Rw(r,e,t,s,l,h){Xe(r.config.authDomain,r,"auth-domain-config-required"),Xe(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Ld,eventId:l};if(e instanceof _T){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",nx(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,R]of Object.entries({}))d[A]=R}if(e instanceof Jp){const A=e.getScopes().filter(R=>R!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const v=await r._getAppCheckToken(),_=v?`#${Z4}=${encodeURIComponent(v)}`:"";return`${J4(r)}?${Qp(y).slice(1)}${_}`}function J4({config:r}){return r.emulator?mT(r,W4):`https://${r.authDomain}/${X4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="webStorageSupport";class e3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sR,this._completeRedirectFn=A4,this._overrideRedirectResult=T4}async _openPopup(e,t,s,l){var h;tl((h=this.eventManagers[e._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const d=await Rw(e,t,s,lE(),l);return $4(e,d,ET())}async _openRedirect(e,t,s,l){await this._originValidation(e);const h=await Rw(e,t,s,lE(),l);return r4(h),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:l,promise:h}=this.eventManagers[t];return l?Promise.resolve(l):(tl(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await F4(e),s=new R4(e);return t.register("authEvent",l=>(Xe(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(L0,{type:L0},l=>{var h;const d=(h=l==null?void 0:l[0])===null||h===void 0?void 0:h[L0];d!==void 0&&t(!!d),Ja(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=D4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YS()||HS()||vT()}}const t3=e3;var Iw="@firebase/auth",Cw="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i3(r){Xa(new na("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=s.options;Xe(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const v={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XS(r)},_=new RP(s,l,h,v);return VP(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Xa(new na("auth-internal",e=>{const t=Ch(e.getProvider("auth").getImmediate());return(s=>new n3(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(Iw,Cw,r3(r)),gs(Iw,Cw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=5*60,a3=mb("authIdTokenMaxAge")||s3;let xw=null;const o3=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>a3)return;const l=t==null?void 0:t.token;xw!==l&&(xw=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function l3(r=NE()){const e=wh(r,"auth");if(e.isInitialized())return e.getImmediate();const t=kP(r,{popupRedirectResolver:t3,persistence:[f4,e4,sR]}),s=mb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const d=o3(h.toString());YP(t,d,()=>d(t.currentUser)),$P(t,y=>d(y))}}const l=gb("auth");return l&&UP(t,`http://${l}`),t}function u3(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}IP({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const h=Js("internal-error");h.customData=l,t(h)},s.type="text/javascript",s.charset="UTF-8",u3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i3("Browser");const c3={apiKey:"AIzaSyC4cLRZiC9ir05KI-ldxcuLoI0PIMQ7Y4s",authDomain:"senpaitrackr.firebaseapp.com",projectId:"senpaitrackr",storageBucket:"senpaitrackr.firebasestorage.app",messagingSenderId:"742950448748",appId:"1:742950448748:web:eb56e7b1d61f2ee2c4b249",measurementId:"G-EMKS7RFCX2"},wT=Sb(c3);YM(wT);const ea=l3(wT),h3=new Go,bT=fN(wT),f3=async r=>{var l;const e=(l=ea.currentUser)==null?void 0:l.uid;if(!e)return null;const t=JA(bT,"users",e,"animeLibrary",r.toString()),s=await CN(t);return s.exists()?s.data():null},dR=async(r,e,t,s)=>{if(!ea.currentUser){console.warn("addToLibraryFirestore: User not authenticated. Aborting save.");return}if(!r){console.warn("addToLibraryFirestore: targetCategory is missing. Aborting save.");return}if(!e||typeof e.mal_id>"u"){console.warn("addToLibraryFirestore: anime data or anime.mal_id is missing. Aborting save.",e);return}const l=ea.currentUser.uid,h={id:e.mal_id,title:e.title,image:e.images.jpg.large_image_url,score:e.score,episodes:e.episodes,type:e.type,genres:e.genres,year:e.year,userEpisodes:s,userRating:t,watchType:r,updatedAt:Date.now()};try{await xN(JA(bT,"users",l,"animeLibrary",e.mal_id.toString()),h),console.log("Anime saved to Firestore for user:",l,"animeId:",e.mal_id,"watchType:",r),window.dispatchEvent(new Event("libraryUpdated"))}catch(d){console.error("Error saving anime to Firestore:",d),console.error("Attempted to save document:",h)}},nl=ee.createContext({});function d3({children:r}){const[e,t]=ee.useState(localStorage.getItem("theme")||"light");return B.jsx(nl.Provider,{value:{theme:e,setTheme:t},children:r})}function rh({id:r,name:e,src:t,score:s,episodes:l,type:h,watchType:d="not_added",year:y,genres:v}){const[_,A]=ee.useState(d),{theme:R}=ee.useContext(nl);ee.useEffect(()=>{A(d)},[d]);const x=async L=>{var ne;const z=L.target.value;A(z);let X=[];Array.isArray(v)&&(typeof v[0]=="string"?X=v:typeof v[0]=="object"&&((ne=v[0])!=null&&ne.name)&&(X=v.map(ce=>ce.name))),z!=="not_added"&&await dR(z,{mal_id:r,title:e,images:{jpg:{large_image_url:t}},score:s,episodes:l,type:h,year:y,genres:X},0,0)};return B.jsx("div",{"data-theme":R,children:B.jsx("div",{className:"w-64 h-[544px] bg-neutral-200 dark:bg-zinc-600 shadow-lg rounded-lg overflow-hidden flex flex-col hover:shadow-xl transition",children:B.jsxs(Qo,{to:`/anime/${r}`,className:"block flex flex-col h-full",children:[B.jsx("img",{src:t,alt:e,className:"w-full h-80 object-cover rounded-t-lg transition-transform duration-300 transform hover:scale-105 flex-shrink-0"}),B.jsxs("div",{className:"p-4 flex-grow flex flex-col overflow-hidden",children:[B.jsxs("div",{className:"overflow-y-auto mb-auto",children:[B.jsx("h2",{className:"text-lg font-semibold mb-2 line-clamp-2 dark:text-white",children:e}),B.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[B.jsxs("p",{children:[B.jsx("span",{className:"font-medium",children:"Score:"})," ",s??"N/A"]}),B.jsxs("p",{children:[B.jsx("span",{className:"font-medium",children:"Episodes:"})," ",l??"?"]}),B.jsxs("p",{children:[B.jsx("span",{className:"font-medium",children:"Type:"})," ",h]})]})]}),B.jsxs("select",{id:"category-select",value:_,onChange:L=>x(L),className:"w-full mt-2 p-2 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600 flex-shrink-0",onClick:L=>L.preventDefault(),children:[B.jsx("option",{value:"not_added",children:"Add To List"}),B.jsx("option",{value:"watching",children:"Watching"}),B.jsx("option",{value:"completed",children:"Completed"}),B.jsx("option",{value:"planToWatch",children:"Plan to Watch"}),B.jsx("option",{value:"dropped",children:"Dropped"}),B.jsx("option",{value:"onHold",children:"On Hold"})]})]})]})})})}const AT="https://api.jikan.moe/v4",g3=async(r=10)=>{try{return(await(await fetch(`${AT}/top/anime?limit=${r}`)).json()).data}catch(e){return console.error("Fetch top anime failed:",e),[]}},p3=async(r=10)=>{try{return(await(await fetch(`${AT}/seasons/now?limit=${r}`)).json()).data}catch(e){return console.error("Fetch current anime failed:",e),[]}},m3=async(r=10)=>{try{return(await(await fetch(`${AT}/seasons/upcoming?limit=${r}`)).json()).data}catch(e){return console.error("Fetch upcoming anime failed:",e),[]}},Ow=r=>{const e=new Set;return r.filter(t=>e.has(t.mal_id)?!1:(e.add(t.mal_id),!0))},y3=()=>JSON.parse(localStorage.getItem("animeLibrary"))||{watching:[],completed:[],onHold:[],dropped:[],planToWatch:[]},v3=1e3*60*60;function _3(){const{theme:r}=ee.useContext(nl),[e,t]=ee.useState([]),[s,l]=ee.useState([]),[h,d]=ee.useState([]),[y,v]=ee.useState(null),[_,A]=ee.useState("");return ee.useEffect(()=>{(async()=>{const x=Date.now(),L=async(se,Ee,we,Ie)=>{const j=localStorage.getItem(se),N=localStorage.getItem(Ee);let M;return j&&N&&x-+N<v3?M=Ow(JSON.parse(j)):(M=Ow(await we()),localStorage.setItem(se,JSON.stringify(M)),localStorage.setItem(Ee,x.toString())),Ie(M),M},z=await L("topAnime","topAnimeTimestamp",g3,t);await L("currentAnime","currentAnimeTimestamp",p3,l),await L("upcomingAnime","upcomingAnimeTimestamp",m3,d);const X=y3(),H=Object.values(X).flat().map(se=>se.id),ne=z.filter(se=>!H.includes(se.mal_id));if(ne.length){const se=ne[Math.floor(Math.random()*ne.length)];v(se)}else if(z.length){const se=z[Math.floor(Math.random()*z.length)];v(se)}const ce=["Power comes in response to a need, not a desire.  Goku","Fear is not evil. It tells you what your weakness is.  Gildarts Clive","A lesson without pain is meaningless.  Edward Elric","In our society, letting others find out that you're a nice guy is a very risky move.  Hitagi Senjougahara","Hard work is worthless for those that dont believe in themselves.  Naruto Uzumaki"];A(ce[Math.floor(Math.random()*ce.length)])})()},[]),B.jsx("div",{"data-theme":r,children:B.jsxs("div",{className:"min-h-screen bg-amber-50 dark:bg-neutral-900 text-gray-900 dark:text-gray-100 transition-colors duration-300",children:[B.jsx("section",{className:"relative text-center py-24 sm:py-32 px-4 bg-amber-50 dark:bg-neutral-900 overflow-hidden",children:B.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto",children:[B.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-teal-500 to-blue-600 dark:from-teal-400 dark:to-blue-500",children:"Welcome to senpaiTraCkr"}),B.jsx("p",{className:"mb-8 text-lg sm:text-xl text-gray-600 dark:text-gray-300 max-w-xl mx-auto",children:"Your personal dashboard to track, discover, and enjoy anime."}),_&&B.jsxs("blockquote",{className:"mb-10 italic text-sm text-gray-500 dark:text-gray-400 border-l-4 border-teal-500 dark:border-teal-400 pl-4 py-2 inline-block",children:['"',_,'"']}),B.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4 sm:gap-6",children:[B.jsx(Qo,{to:"/search",className:"w-full sm:w-auto px-8 py-3 rounded-lg font-semibold text-white bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 dark:from-teal-600 dark:to-blue-700 dark:hover:from-teal-500 dark:hover:to-blue-600 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-opacity-50",children:"Search Anime"}),B.jsx(Qo,{to:"/library",className:"w-full sm:w-auto px-8 py-3 rounded-lg font-semibold text-teal-600 dark:text-teal-400 bg-transparent border-2 border-teal-500 dark:border-teal-400 hover:bg-teal-500 hover:text-white dark:hover:bg-teal-400 dark:hover:text-slate-900 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-opacity-50",children:"My Library"})]})]})}),B.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[y&&B.jsxs("div",{className:"mb-16 p-6 bg-zinc-300 dark:bg-zinc-800 shadow-lg rounded-xl",children:[B.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-white text-center sm:text-left",children:" Random Pick for You"}),B.jsx("div",{className:"flex justify-center",children:B.jsx(rh,{id:y.mal_id,name:y.title,src:y.images.jpg.image_url,score:y.score,episodes:y.episodes,type:y.type,year:y.year,genres:y.genres})})]}),B.jsxs("section",{className:"mb-16",children:[B.jsx("h2",{className:"h-home",children:" Top Anime"}),B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 justify-items-center",children:e.map(R=>B.jsx(rh,{id:R.mal_id,name:R.title,src:R.images.jpg.image_url,score:R.score,episodes:R.episodes,type:R.type,year:R.year,genres:R.genres},R.mal_id))})]}),B.jsxs("section",{className:"mb-16",children:[B.jsx("h2",{className:"h-home",children:" Currently Airing"}),B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 justify-items-center",children:s.map(R=>B.jsx(rh,{id:R.mal_id,name:R.title,src:R.images.jpg.image_url,score:R.score,episodes:R.episodes,type:R.type,year:R.year,genres:R.genres},R.mal_id))})]}),B.jsxs("section",{className:"mb-12",children:[B.jsx("h2",{className:"h-home",children:" Upcoming Anime"}),B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 justify-items-center",children:h.map(R=>B.jsx(rh,{id:R.mal_id,name:R.title,src:R.images.jpg.image_url,score:R.score,episodes:R.episodes,type:R.type,year:R.year,genres:R.genres},R.mal_id))})]})]})]})})}var yp={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var E3=yp.exports,Dw;function T3(){return Dw||(Dw=1,function(r,e){(function(){var t,s="4.17.21",l=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",y="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",_=500,A="__lodash_placeholder__",R=1,x=2,L=4,z=1,X=2,H=1,ne=2,ce=4,se=8,Ee=16,we=32,Ie=64,j=128,N=256,M=512,F=30,Q="...",K=800,U=16,fn=1,Xt=2,fe=3,Re=1/0,Ne=9007199254740991,Tt=17976931348623157e292,P=NaN,ue=4294967295,Se=ue-1,be=ue>>>1,Ve=[["ary",j],["bind",H],["bindKey",ne],["curry",se],["curryRight",Ee],["flip",M],["partial",we],["partialRight",Ie],["rearg",N]],Ze="[object Arguments]",He="[object Array]",Mn="[object AsyncFunction]",Nt="[object Boolean]",vr="[object Date]",ia="[object DOMException]",ni="[object Error]",zi="[object Function]",sa="[object GeneratorFunction]",Qn="[object Map]",ps="[object Number]",xh="[object Null]",vn="[object Object]",Oh="[object Promise]",Iu="[object Proxy]",ji="[object RegExp]",Kn="[object Set]",no="[object String]",ms="[object Symbol]",Cu="[object Undefined]",aa="[object WeakMap]",an="[object WeakSet]",wt="[object ArrayBuffer]",Pn="[object DataView]",Ln="[object Float32Array]",rl="[object Float64Array]",xu="[object Int8Array]",ys="[object Int16Array]",vs="[object Int32Array]",_s="[object Uint8Array]",Fr="[object Uint8ClampedArray]",oa="[object Uint16Array]",Es="[object Uint32Array]",Ou=/\b__p \+= '';/g,Du=/\b(__p \+=) '' \+/g,Nu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fi=/&(?:amp|lt|gt|quot|#39);/g,Hi=/[&<>"']/g,Mu=RegExp(Fi.source),qi=RegExp(Hi.source),Pu=/<%-([\s\S]+?)%>/g,la=/<%([\s\S]+?)%>/g,ro=/<%=([\s\S]+?)%>/g,ua=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dh=/^\w*$/,Jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dn=/[\\^$.*+?()[\]{}|]/g,_n=RegExp(dn.source),_r=/^\s+/,Lu=/\s/,zd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ca=/\{\n\/\* \[wrapped with (.+)\] \*/,Nh=/,? & /,io=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ha=/[()=,{}\[\]\/\s]/,Ts=/\\(\\)?/g,Gi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bi=/\w*$/,ar=/^[-+]0x[0-9a-f]+$/i,gn=/^0b[01]+$/i,ku=/^\[object .+?Constructor\]$/,il=/^0o[0-7]+$/i,Ai=/^(?:0|[1-9]\d*)$/,ws=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,so=/($^)/,Mh=/['\n\r\u2028\u2029\\]/g,Qi="\\ud800-\\udfff",Ph="\\u0300-\\u036f",fa="\\ufe20-\\ufe2f",Ki="\\u20d0-\\u20ff",kn=Ph+fa+Ki,da="\\u2700-\\u27bf",Vu="a-z\\xdf-\\xf6\\xf8-\\xff",bs="\\xac\\xb1\\xd7\\xf7",sl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",al="\\u2000-\\u206f",Uu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ao="A-Z\\xc0-\\xd6\\xd8-\\xde",Jn="\\ufe0e\\ufe0f",ol=bs+sl+al+Uu,Bu="[']",ll="["+Qi+"]",ul="["+ol+"]",$i="["+kn+"]",Lh="\\d+",En="["+da+"]",Er="["+Vu+"]",ga="[^"+Qi+ol+Lh+da+Vu+ao+"]",Yi="\\ud83c[\\udffb-\\udfff]",As="(?:"+$i+"|"+Yi+")",kt="[^"+Qi+"]",Ss="(?:\\ud83c[\\udde6-\\uddff]){2}",Tr="[\\ud800-\\udbff][\\udc00-\\udfff]",ri="["+ao+"]",zu="\\u200d",cl="(?:"+Er+"|"+ga+")",ju="(?:"+ri+"|"+ga+")",kh="(?:"+Bu+"(?:d|ll|m|re|s|t|ve))?",Vh="(?:"+Bu+"(?:D|LL|M|RE|S|T|VE))?",oo=As+"?",Xi="["+Jn+"]?",ii="(?:"+zu+"(?:"+[kt,Ss,Tr].join("|")+")"+Xi+oo+")*",Rs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Is="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",hl=Xi+oo+ii,Wi="(?:"+[En,Ss,Tr].join("|")+")"+hl,Uh="(?:"+[kt+$i+"?",$i,Ss,Tr,ll].join("|")+")",lo=RegExp(Bu,"g"),Si=RegExp($i,"g"),wr=RegExp(Yi+"(?="+Yi+")|"+Uh+hl,"g"),uo=RegExp([ri+"?"+Er+"+"+kh+"(?="+[ul,ri,"$"].join("|")+")",ju+"+"+Vh+"(?="+[ul,ri+cl,"$"].join("|")+")",ri+"?"+cl+"+"+kh,ri+"+"+Vh,Is,Rs,Lh,Wi].join("|"),"g"),Zi=RegExp("["+zu+Qi+kn+Jn+"]"),pa=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Cs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fu=-1,yt={};yt[Ln]=yt[rl]=yt[xu]=yt[ys]=yt[vs]=yt[_s]=yt[Fr]=yt[oa]=yt[Es]=!0,yt[Ze]=yt[He]=yt[wt]=yt[Nt]=yt[Pn]=yt[vr]=yt[ni]=yt[zi]=yt[Qn]=yt[ps]=yt[vn]=yt[ji]=yt[Kn]=yt[no]=yt[aa]=!1;var dt={};dt[Ze]=dt[He]=dt[wt]=dt[Pn]=dt[Nt]=dt[vr]=dt[Ln]=dt[rl]=dt[xu]=dt[ys]=dt[vs]=dt[Qn]=dt[ps]=dt[vn]=dt[ji]=dt[Kn]=dt[no]=dt[ms]=dt[_s]=dt[Fr]=dt[oa]=dt[Es]=!0,dt[ni]=dt[zi]=dt[aa]=!1;var Hu={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Vn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},fl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},co=parseFloat,Bh=parseInt,ho=typeof rv=="object"&&rv&&rv.Object===Object&&rv,dl=typeof self=="object"&&self&&self.Object===Object&&self,$t=ho||dl||Function("return this")(),xs=e&&!e.nodeType&&e,Un=xs&&!0&&r&&!r.nodeType&&r,qu=Un&&Un.exports===xs,Gu=qu&&ho.process,Bn=function(){try{var Y=Un&&Un.require&&Un.require("util").types;return Y||Gu&&Gu.binding&&Gu.binding("util")}catch{}}(),fo=Bn&&Bn.isArrayBuffer,gl=Bn&&Bn.isDate,go=Bn&&Bn.isMap,Qu=Bn&&Bn.isRegExp,po=Bn&&Bn.isSet,zh=Bn&&Bn.isTypedArray;function $n(Y,he,oe){switch(oe.length){case 0:return Y.call(he);case 1:return Y.call(he,oe[0]);case 2:return Y.call(he,oe[0],oe[1]);case 3:return Y.call(he,oe[0],oe[1],oe[2])}return Y.apply(he,oe)}function mo(Y,he,oe,Ce){for(var qe=-1,bt=Y==null?0:Y.length;++qe<bt;){var Tn=Y[qe];he(Ce,Tn,oe(Tn),Y)}return Ce}function or(Y,he){for(var oe=-1,Ce=Y==null?0:Y.length;++oe<Ce&&he(Y[oe],oe,Y)!==!1;);return Y}function jh(Y,he){for(var oe=Y==null?0:Y.length;oe--&&he(Y[oe],oe,Y)!==!1;);return Y}function pl(Y,he){for(var oe=-1,Ce=Y==null?0:Y.length;++oe<Ce;)if(!he(Y[oe],oe,Y))return!1;return!0}function br(Y,he){for(var oe=-1,Ce=Y==null?0:Y.length,qe=0,bt=[];++oe<Ce;){var Tn=Y[oe];he(Tn,oe,Y)&&(bt[qe++]=Tn)}return bt}function yo(Y,he){var oe=Y==null?0:Y.length;return!!oe&&Os(Y,he,0)>-1}function ma(Y,he,oe){for(var Ce=-1,qe=Y==null?0:Y.length;++Ce<qe;)if(oe(he,Y[Ce]))return!0;return!1}function qt(Y,he){for(var oe=-1,Ce=Y==null?0:Y.length,qe=Array(Ce);++oe<Ce;)qe[oe]=he(Y[oe],oe,Y);return qe}function si(Y,he){for(var oe=-1,Ce=he.length,qe=Y.length;++oe<Ce;)Y[qe+oe]=he[oe];return Y}function Ri(Y,he,oe,Ce){var qe=-1,bt=Y==null?0:Y.length;for(Ce&&bt&&(oe=Y[++qe]);++qe<bt;)oe=he(oe,Y[qe],qe,Y);return oe}function Fh(Y,he,oe,Ce){var qe=Y==null?0:Y.length;for(Ce&&qe&&(oe=Y[--qe]);qe--;)oe=he(oe,Y[qe],qe,Y);return oe}function ml(Y,he){for(var oe=-1,Ce=Y==null?0:Y.length;++oe<Ce;)if(he(Y[oe],oe,Y))return!0;return!1}var Hh=w("length");function qh(Y){return Y.split("")}function yl(Y){return Y.match(io)||[]}function er(Y,he,oe){var Ce;return oe(Y,function(qe,bt,Tn){if(he(qe,bt,Tn))return Ce=bt,!1}),Ce}function vo(Y,he,oe,Ce){for(var qe=Y.length,bt=oe+(Ce?1:-1);Ce?bt--:++bt<qe;)if(he(Y[bt],bt,Y))return bt;return-1}function Os(Y,he,oe){return he===he?E_(Y,he,oe):vo(Y,f,oe)}function Ji(Y,he,oe,Ce){for(var qe=oe-1,bt=Y.length;++qe<bt;)if(Ce(Y[qe],he))return qe;return-1}function f(Y){return Y!==Y}function E(Y,he){var oe=Y==null?0:Y.length;return oe?Ae(Y,he)/oe:P}function w(Y){return function(he){return he==null?t:he[Y]}}function O(Y){return function(he){return Y==null?t:Y[he]}}function J(Y,he,oe,Ce,qe){return qe(Y,function(bt,Tn,At){oe=Ce?(Ce=!1,bt):he(oe,bt,Tn,At)}),oe}function le(Y,he){var oe=Y.length;for(Y.sort(he);oe--;)Y[oe]=Y[oe].value;return Y}function Ae(Y,he){for(var oe,Ce=-1,qe=Y.length;++Ce<qe;){var bt=he(Y[Ce]);bt!==t&&(oe=oe===t?bt:oe+bt)}return oe}function ct(Y,he){for(var oe=-1,Ce=Array(Y);++oe<Y;)Ce[oe]=he(oe);return Ce}function An(Y,he){return qt(he,function(oe){return[oe,Y[oe]]})}function gt(Y){return Y&&Y.slice(0,Fd(Y)+1).replace(_r,"")}function Pt(Y){return function(he){return Y(he)}}function pn(Y,he){return qt(he,function(oe){return Y[oe]})}function Hr(Y,he){return Y.has(he)}function zn(Y,he){for(var oe=-1,Ce=Y.length;++oe<Ce&&Os(he,Y[oe],0)>-1;);return oe}function Ii(Y,he){for(var oe=Y.length;oe--&&Os(he,Y[oe],0)>-1;);return oe}function Ku(Y,he){for(var oe=Y.length,Ce=0;oe--;)Y[oe]===he&&++Ce;return Ce}var Gh=O(Hu),nm=O(Vn);function rm(Y){return"\\"+fl[Y]}function jd(Y,he){return Y==null?t:Y[he]}function ya(Y){return Zi.test(Y)}function im(Y){return pa.test(Y)}function sm(Y){for(var he,oe=[];!(he=Y.next()).done;)oe.push(he.value);return oe}function Qh(Y){var he=-1,oe=Array(Y.size);return Y.forEach(function(Ce,qe){oe[++he]=[qe,Ce]}),oe}function am(Y,he){return function(oe){return Y(he(oe))}}function va(Y,he){for(var oe=-1,Ce=Y.length,qe=0,bt=[];++oe<Ce;){var Tn=Y[oe];(Tn===he||Tn===A)&&(Y[oe]=A,bt[qe++]=oe)}return bt}function Kh(Y){var he=-1,oe=Array(Y.size);return Y.forEach(function(Ce){oe[++he]=Ce}),oe}function __(Y){var he=-1,oe=Array(Y.size);return Y.forEach(function(Ce){oe[++he]=[Ce,Ce]}),oe}function E_(Y,he,oe){for(var Ce=oe-1,qe=Y.length;++Ce<qe;)if(Y[Ce]===he)return Ce;return-1}function qr(Y,he,oe){for(var Ce=oe+1;Ce--;)if(Y[Ce]===he)return Ce;return Ce}function es(Y){return ya(Y)?lm(Y):Hh(Y)}function ai(Y){return ya(Y)?Hd(Y):qh(Y)}function Fd(Y){for(var he=Y.length;he--&&Lu.test(Y.charAt(he)););return he}var om=O(Mt);function lm(Y){for(var he=wr.lastIndex=0;wr.test(Y);)++he;return he}function Hd(Y){return Y.match(wr)||[]}function T_(Y){return Y.match(uo)||[]}var vl=function Y(he){he=he==null?$t:_a.defaults($t.Object(),he,_a.pick($t,Cs));var oe=he.Array,Ce=he.Date,qe=he.Error,bt=he.Function,Tn=he.Math,At=he.Object,$h=he.RegExp,um=he.String,Gr=he.TypeError,Yh=oe.prototype,w_=bt.prototype,_l=At.prototype,$u=he["__core-js_shared__"],Yu=w_.toString,Ot=_l.hasOwnProperty,Ci=0,qd=function(){var o=/[^.]+$/.exec($u&&$u.keys&&$u.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),lr=_l.toString,oi=Yu.call(At),El=$t._,Gd=$h("^"+Yu.call(Ot).replace(dn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_o=qu?he.Buffer:t,xi=he.Symbol,Tl=he.Uint8Array,Eo=_o?_o.allocUnsafe:t,Xu=am(At.getPrototypeOf,At),Wu=At.create,To=_l.propertyIsEnumerable,Xh=Yh.splice,Ar=xi?xi.isConcatSpreadable:t,wo=xi?xi.iterator:t,ur=xi?xi.toStringTag:t,Zu=function(){try{var o=Ca(At,"defineProperty");return o({},"",{}),o}catch{}}(),Wh=he.clearTimeout!==$t.clearTimeout&&he.clearTimeout,bo=Ce&&Ce.now!==$t.Date.now&&Ce.now,Qd=he.setTimeout!==$t.setTimeout&&he.setTimeout,wl=Tn.ceil,Ds=Tn.floor,Ea=At.getOwnPropertySymbols,Zh=_o?_o.isBuffer:t,Ju=he.isFinite,li=Yh.join,ui=am(At.keys,At),Wt=Tn.max,en=Tn.min,Ns=Ce.now,Ao=he.parseInt,Kd=Tn.random,$d=Yh.reverse,ec=Ca(he,"DataView"),Sn=Ca(he,"Map"),tn=Ca(he,"Promise"),ht=Ca(he,"Set"),Oi=Ca(he,"WeakMap"),Sr=Ca(At,"create"),bl=Oi&&new Oi,ci={},cm=js(ec),hm=js(Sn),tc=js(tn),nc=js(ht),fm=js(Oi),Ta=xi?xi.prototype:t,So=Ta?Ta.valueOf:t,wa=Ta?Ta.toString:t;function I(o){if(sn(o)&&!Ke(o)&&!(o instanceof it)){if(o instanceof Rr)return o;if(Ot.call(o,"__wrapped__"))return In(o)}return new Rr(o)}var Qr=function(){function o(){}return function(u){if(!rn(u))return{};if(Wu)return Wu(u);o.prototype=u;var p=new o;return o.prototype=t,p}}();function hi(){}function Rr(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=t}I.templateSettings={escape:Pu,evaluate:la,interpolate:ro,variable:"",imports:{_:I}},I.prototype=hi.prototype,I.prototype.constructor=I,Rr.prototype=Qr(hi.prototype),Rr.prototype.constructor=Rr;function it(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function rc(){var o=new it(this.__wrapped__);return o.__actions__=Rn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Rn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Rn(this.__views__),o}function Jh(){if(this.__filtered__){var o=new it(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Ro(){var o=this.__wrapped__.value(),u=this.__dir__,p=Ke(o),T=u<0,S=p?o.length:0,D=Gm(0,S,this.__views__),k=D.start,q=D.end,Z=q-k,pe=T?q:k-1,ye=this.__iteratees__,_e=ye.length,xe=0,Pe=en(Z,this.__takeCount__);if(!p||!T&&S==Z&&Pe==Z)return Dm(o,this.__actions__);var Ge=[];e:for(;Z--&&xe<Pe;){pe+=u;for(var at=-1,Qe=o[pe];++at<_e;){var mt=ye[at],Rt=mt.iteratee,Vi=mt.type,Jr=Rt(Qe);if(Vi==Xt)Qe=Jr;else if(!Jr){if(Vi==fn)continue e;break e}}Ge[xe++]=Qe}return Ge}it.prototype=Qr(hi.prototype),it.prototype.constructor=it;function on(o){var u=-1,p=o==null?0:o.length;for(this.clear();++u<p;){var T=o[u];this.set(T[0],T[1])}}function ef(){this.__data__=Sr?Sr(null):{},this.size=0}function dm(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}function b_(o){var u=this.__data__;if(Sr){var p=u[o];return p===v?t:p}return Ot.call(u,o)?u[o]:t}function A_(o){var u=this.__data__;return Sr?u[o]!==t:Ot.call(u,o)}function S_(o,u){var p=this.__data__;return this.size+=this.has(o)?0:1,p[o]=Sr&&u===t?v:u,this}on.prototype.clear=ef,on.prototype.delete=dm,on.prototype.get=b_,on.prototype.has=A_,on.prototype.set=S_;function Gt(o){var u=-1,p=o==null?0:o.length;for(this.clear();++u<p;){var T=o[u];this.set(T[0],T[1])}}function Yd(){this.__data__=[],this.size=0}function ic(o){var u=this.__data__,p=Rl(u,o);if(p<0)return!1;var T=u.length-1;return p==T?u.pop():Xh.call(u,p,1),--this.size,!0}function sc(o){var u=this.__data__,p=Rl(u,o);return p<0?t:u[p][1]}function Xd(o){return Rl(this.__data__,o)>-1}function Al(o,u){var p=this.__data__,T=Rl(p,o);return T<0?(++this.size,p.push([o,u])):p[T][1]=u,this}Gt.prototype.clear=Yd,Gt.prototype.delete=ic,Gt.prototype.get=sc,Gt.prototype.has=Xd,Gt.prototype.set=Al;function Ir(o){var u=-1,p=o==null?0:o.length;for(this.clear();++u<p;){var T=o[u];this.set(T[0],T[1])}}function R_(){this.size=0,this.__data__={hash:new on,map:new(Sn||Gt),string:new on}}function gm(o){var u=Nl(this,o).delete(o);return this.size-=u?1:0,u}function I_(o){return Nl(this,o).get(o)}function pm(o){return Nl(this,o).has(o)}function Io(o,u){var p=Nl(this,o),T=p.size;return p.set(o,u),this.size+=p.size==T?0:1,this}Ir.prototype.clear=R_,Ir.prototype.delete=gm,Ir.prototype.get=I_,Ir.prototype.has=pm,Ir.prototype.set=Io;function Ms(o){var u=-1,p=o==null?0:o.length;for(this.__data__=new Ir;++u<p;)this.add(o[u])}function tf(o){return this.__data__.set(o,v),this}function mm(o){return this.__data__.has(o)}Ms.prototype.add=Ms.prototype.push=tf,Ms.prototype.has=mm;function cr(o){var u=this.__data__=new Gt(o);this.size=u.size}function ym(){this.__data__=new Gt,this.size=0}function nf(o){var u=this.__data__,p=u.delete(o);return this.size=u.size,p}function Wd(o){return this.__data__.get(o)}function vm(o){return this.__data__.has(o)}function rf(o,u){var p=this.__data__;if(p instanceof Gt){var T=p.__data__;if(!Sn||T.length<l-1)return T.push([o,u]),this.size=++p.size,this;p=this.__data__=new Ir(T)}return p.set(o,u),this.size=p.size,this}cr.prototype.clear=ym,cr.prototype.delete=nf,cr.prototype.get=Wd,cr.prototype.has=vm,cr.prototype.set=rf;function Zd(o,u){var p=Ke(o),T=!p&&Gs(o),S=!p&&!T&&Ua(o),D=!p&&!T&&!S&&Ql(o),k=p||T||S||D,q=k?ct(o.length,um):[],Z=q.length;for(var pe in o)(u||Ot.call(o,pe))&&!(k&&(pe=="length"||S&&(pe=="offset"||pe=="parent")||D&&(pe=="buffer"||pe=="byteLength"||pe=="byteOffset")||Pi(pe,Z)))&&q.push(pe);return q}function Sl(o){var u=o.length;return u?o[gf(0,u-1)]:t}function _m(o,u){return Nc(Rn(o),Ni(u,0,o.length))}function Em(o){return Nc(Rn(o))}function ts(o,u,p){(p!==t&&!Pr(o[u],p)||p===t&&!(u in o))&&Di(o,u,p)}function Co(o,u,p){var T=o[u];(!(Ot.call(o,u)&&Pr(T,p))||p===t&&!(u in o))&&Di(o,u,p)}function Rl(o,u){for(var p=o.length;p--;)if(Pr(o[p][0],u))return p;return-1}function ba(o,u,p,T){return Ls(o,function(S,D,k){u(T,S,p(S),k)}),T}function Ps(o,u){return o&&Or(u,On(u),o)}function ac(o,u){return o&&Or(u,Hn(u),o)}function Di(o,u,p){u=="__proto__"&&Zu?Zu(o,u,{configurable:!0,enumerable:!0,value:p,writable:!0}):o[u]=p}function oc(o,u){for(var p=-1,T=u.length,S=oe(T),D=o==null;++p<T;)S[p]=D?t:Qc(o,u[p]);return S}function Ni(o,u,p){return o===o&&(p!==t&&(o=o<=p?o:p),u!==t&&(o=o>=u?o:u)),o}function tr(o,u,p,T,S,D){var k,q=u&R,Z=u&x,pe=u&L;if(p&&(k=S?p(o,T,S,D):p(o)),k!==t)return k;if(!rn(o))return o;var ye=Ke(o);if(ye){if(k=Ag(o),!q)return Rn(o,k)}else{var _e=Fn(o),xe=_e==zi||_e==sa;if(Ua(o))return mg(o,q);if(_e==vn||_e==Ze||xe&&!S){if(k=Z||xe?{}:Sg(o),!q)return Z?Ec(o,ac(k,o)):Ef(o,Ps(k,o))}else{if(!dt[_e])return S?o:{};k=Rg(o,_e,q)}}D||(D=new cr);var Pe=D.get(o);if(Pe)return Pe;D.set(o,k),Vy(o)?o.forEach(function(Qe){k.add(tr(Qe,u,p,Qe,o,D))}):Gf(o)&&o.forEach(function(Qe,mt){k.set(mt,tr(Qe,u,p,mt,o,D))});var Ge=pe?Z?Af:bf:Z?Hn:On,at=ye?t:Ge(o);return or(at||o,function(Qe,mt){at&&(mt=Qe,Qe=o[mt]),Co(k,mt,tr(Qe,u,p,mt,o,D))}),k}function Tm(o){var u=On(o);return function(p){return Jd(p,o,u)}}function Jd(o,u,p){var T=p.length;if(o==null)return!T;for(o=At(o);T--;){var S=p[T],D=u[S],k=o[S];if(k===t&&!(S in o)||!D(k))return!1}return!0}function xo(o,u,p){if(typeof o!="function")throw new Gr(d);return Pl(function(){o.apply(t,p)},u)}function Aa(o,u,p,T){var S=-1,D=yo,k=!0,q=o.length,Z=[],pe=u.length;if(!q)return Z;p&&(u=qt(u,Pt(p))),T?(D=ma,k=!1):u.length>=l&&(D=Hr,k=!1,u=new Ms(u));e:for(;++S<q;){var ye=o[S],_e=p==null?ye:p(ye);if(ye=T||ye!==0?ye:0,k&&_e===_e){for(var xe=pe;xe--;)if(u[xe]===_e)continue e;Z.push(ye)}else D(u,_e,T)||Z.push(ye)}return Z}var Ls=Eg(nr),sf=Eg(Cl,!0);function eg(o,u){var p=!0;return Ls(o,function(T,S,D){return p=!!u(T,S,D),p}),p}function Mi(o,u,p){for(var T=-1,S=o.length;++T<S;){var D=o[T],k=u(D);if(k!=null&&(q===t?k===k&&!dr(k):p(k,q)))var q=k,Z=D}return Z}function nt(o,u,p,T){var S=o.length;for(p=We(p),p<0&&(p=-p>S?0:S+p),T=T===t||T>S?S:We(T),T<0&&(T+=S),T=p>T?0:cs(T);p<T;)o[p++]=u;return o}function Vt(o,u){var p=[];return Ls(o,function(T,S,D){u(T,S,D)&&p.push(T)}),p}function ft(o,u,p,T,S){var D=-1,k=o.length;for(p||(p=Bs),S||(S=[]);++D<k;){var q=o[D];u>0&&p(q)?u>1?ft(q,u-1,p,T,S):si(S,q):T||(S[S.length]=q)}return S}var Il=ko(),Oo=ko(!0);function nr(o,u){return o&&Il(o,u,On)}function Cl(o,u){return o&&Oo(o,u,On)}function Sa(o,u){return br(u,function(p){return Li(o[p])})}function fi(o,u){u=Vs(u,o);for(var p=0,T=u.length;o!=null&&p<T;)o=o[Lt(u[p++])];return p&&p==T?o:t}function wm(o,u,p){var T=u(o);return Ke(o)?T:si(T,p(o))}function pt(o){return o==null?o===t?Cu:xh:ur&&ur in At(o)?qm(o):Xm(o)}function lc(o,u){return o>u}function tg(o,u){return o!=null&&Ot.call(o,u)}function bm(o,u){return o!=null&&u in At(o)}function Am(o,u,p){return o>=en(u,p)&&o<Wt(u,p)}function ng(o,u,p){for(var T=p?ma:yo,S=o[0].length,D=o.length,k=D,q=oe(D),Z=1/0,pe=[];k--;){var ye=o[k];k&&u&&(ye=qt(ye,Pt(u))),Z=en(ye.length,Z),q[k]=!p&&(u||S>=120&&ye.length>=120)?new Ms(k&&ye):t}ye=o[0];var _e=-1,xe=q[0];e:for(;++_e<S&&pe.length<Z;){var Pe=ye[_e],Ge=u?u(Pe):Pe;if(Pe=p||Pe!==0?Pe:0,!(xe?Hr(xe,Ge):T(pe,Ge,p))){for(k=D;--k;){var at=q[k];if(!(at?Hr(at,Ge):T(o[k],Ge,p)))continue e}xe&&xe.push(Ge),pe.push(Pe)}}return pe}function rg(o,u,p,T){return nr(o,function(S,D,k){u(T,p(S),D,k)}),T}function Do(o,u,p){u=Vs(u,o),o=Ml(o,u);var T=o==null?o:o[Lt(rr(u))];return T==null?t:$n(T,o,p)}function af(o){return sn(o)&&pt(o)==Ze}function Cr(o){return sn(o)&&pt(o)==wt}function wn(o){return sn(o)&&pt(o)==vr}function No(o,u,p,T,S){return o===u?!0:o==null||u==null||!sn(o)&&!sn(u)?o!==o&&u!==u:uc(o,u,p,T,No,S)}function uc(o,u,p,T,S,D){var k=Ke(o),q=Ke(u),Z=k?He:Fn(o),pe=q?He:Fn(u);Z=Z==Ze?vn:Z,pe=pe==Ze?vn:pe;var ye=Z==vn,_e=pe==vn,xe=Z==pe;if(xe&&Ua(o)){if(!Ua(u))return!1;k=!0,ye=!1}if(xe&&!ye)return D||(D=new cr),k||Ql(o)?Fm(o,u,p,T,S,D):Hm(o,u,Z,p,T,S,D);if(!(p&z)){var Pe=ye&&Ot.call(o,"__wrapped__"),Ge=_e&&Ot.call(u,"__wrapped__");if(Pe||Ge){var at=Pe?o.value():o,Qe=Ge?u.value():u;return D||(D=new cr),S(at,Qe,p,T,D)}}return xe?(D||(D=new cr),jn(o,u,p,T,S,D)):!1}function of(o){return sn(o)&&Fn(o)==Qn}function cc(o,u,p,T){var S=p.length,D=S,k=!T;if(o==null)return!D;for(o=At(o);S--;){var q=p[S];if(k&&q[2]?q[1]!==o[q[0]]:!(q[0]in o))return!1}for(;++S<D;){q=p[S];var Z=q[0],pe=o[Z],ye=q[1];if(k&&q[2]){if(pe===t&&!(Z in o))return!1}else{var _e=new cr;if(T)var xe=T(pe,ye,Z,o,u,_e);if(!(xe===t?No(ye,pe,z|X,T,_e):xe))return!1}}return!0}function ns(o){if(!rn(o)||Of(o))return!1;var u=Li(o)?Gd:ku;return u.test(js(o))}function lf(o){return sn(o)&&pt(o)==ji}function ig(o){return sn(o)&&Fn(o)==Kn}function sg(o){return sn(o)&&jo(o.length)&&!!yt[pt(o)]}function ag(o){return typeof o=="function"?o:o==null?ie:typeof o=="object"?Ke(o)?hf(o[0],o[1]):lg(o):St(o)}function uf(o){if(!Qt(o))return ui(o);var u=[];for(var p in At(o))Ot.call(o,p)&&p!="constructor"&&u.push(p);return u}function Sm(o){if(!rn(o))return xa(o);var u=Qt(o),p=[];for(var T in o)T=="constructor"&&(u||!Ot.call(o,T))||p.push(T);return p}function cf(o,u){return o<u}function og(o,u){var p=-1,T=Cn(o)?oe(o.length):[];return Ls(o,function(S,D,k){T[++p]=u(S,D,k)}),T}function lg(o){var u=Rf(o);return u.length==1&&u[0][2]?$m(u[0][0],u[0][1]):function(p){return p===o||cc(p,o,u)}}function hf(o,u){return Cf(o)&&Km(u)?$m(Lt(o),u):function(p){var T=Qc(p,o);return T===t&&T===u?Xl(p,o):No(u,T,z|X)}}function hc(o,u,p,T,S){o!==u&&Il(u,function(D,k){if(S||(S=new cr),rn(D))C_(o,u,k,p,hc,T,S);else{var q=T?T(Df(o,k),D,k+"",o,u,S):t;q===t&&(q=D),ts(o,k,q)}},Hn)}function C_(o,u,p,T,S,D,k){var q=Df(o,p),Z=Df(u,p),pe=k.get(Z);if(pe){ts(o,p,pe);return}var ye=D?D(q,Z,p+"",o,u,k):t,_e=ye===t;if(_e){var xe=Ke(Z),Pe=!xe&&Ua(Z),Ge=!xe&&!Pe&&Ql(Z);ye=Z,xe||Pe||Ge?Ke(q)?ye=q:cn(q)?ye=Rn(q):Pe?(_e=!1,ye=mg(Z,!0)):Ge?(_e=!1,ye=vg(Z,!0)):ye=[]:mi(Z)||Gs(Z)?(ye=q,Gs(q)?ye=zy(q):(!rn(q)||Li(q))&&(ye=Sg(Z))):_e=!1}_e&&(k.set(Z,ye),S(ye,Z,T,D,k),k.delete(Z)),ts(o,p,ye)}function ug(o,u){var p=o.length;if(p)return u+=u<0?p:0,Pi(u,p)?o[u]:t}function cg(o,u,p){u.length?u=qt(u,function(D){return Ke(D)?function(k){return fi(k,D.length===1?D[0]:D)}:D}):u=[ie];var T=-1;u=qt(u,Pt(ke()));var S=og(o,function(D,k,q){var Z=qt(u,function(pe){return pe(D)});return{criteria:Z,index:++T,value:D}});return le(S,function(D,k){return Lm(D,k,p)})}function Rm(o,u){return ff(o,u,function(p,T){return Xl(o,T)})}function ff(o,u,p){for(var T=-1,S=u.length,D={};++T<S;){var k=u[T],q=fi(o,k);p(q,k)&&Ol(D,Vs(k,o),q)}return D}function Im(o){return function(u){return fi(u,o)}}function df(o,u,p,T){var S=T?Ji:Os,D=-1,k=u.length,q=o;for(o===u&&(u=Rn(u)),p&&(q=qt(o,Pt(p)));++D<k;)for(var Z=0,pe=u[D],ye=p?p(pe):pe;(Z=S(q,ye,Z,T))>-1;)q!==o&&Xh.call(q,Z,1),Xh.call(o,Z,1);return o}function hg(o,u){for(var p=o?u.length:0,T=p-1;p--;){var S=u[p];if(p==T||S!==D){var D=S;Pi(S)?Xh.call(o,S,1):pc(o,S)}}return o}function gf(o,u){return o+Ds(Kd()*(u-o+1))}function Cm(o,u,p,T){for(var S=-1,D=Wt(wl((u-o)/(p||1)),0),k=oe(D);D--;)k[T?D:++S]=o,o+=p;return k}function fg(o,u){var p="";if(!o||u<1||u>Ne)return p;do u%2&&(p+=o),u=Ds(u/2),u&&(o+=o);while(u);return p}function tt(o,u){return Oc(Ig(o,u,ie),o+"")}function xl(o){return Sl(Zl(o))}function pf(o,u){var p=Zl(o);return Nc(p,Ni(u,0,p.length))}function Ol(o,u,p,T){if(!rn(o))return o;u=Vs(u,o);for(var S=-1,D=u.length,k=D-1,q=o;q!=null&&++S<D;){var Z=Lt(u[S]),pe=p;if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return o;if(S!=k){var ye=q[Z];pe=T?T(ye,Z,q):t,pe===t&&(pe=rn(ye)?ye:Pi(u[S+1])?[]:{})}Co(q,Z,pe),q=q[Z]}return o}var fc=bl?function(o,u){return bl.set(o,u),o}:ie,dc=Zu?function(o,u){return Zu(o,"toString",{configurable:!0,enumerable:!1,value:re(u),writable:!0})}:ie;function xm(o){return Nc(Zl(o))}function Kr(o,u,p){var T=-1,S=o.length;u<0&&(u=-u>S?0:S+u),p=p>S?S:p,p<0&&(p+=S),S=u>p?0:p-u>>>0,u>>>=0;for(var D=oe(S);++T<S;)D[T]=o[T+u];return D}function Om(o,u){var p;return Ls(o,function(T,S,D){return p=u(T,S,D),!p}),!!p}function gc(o,u,p){var T=0,S=o==null?T:o.length;if(typeof u=="number"&&u===u&&S<=be){for(;T<S;){var D=T+S>>>1,k=o[D];k!==null&&!dr(k)&&(p?k<=u:k<u)?T=D+1:S=D}return S}return mf(o,u,ie,p)}function mf(o,u,p,T){var S=0,D=o==null?0:o.length;if(D===0)return 0;u=p(u);for(var k=u!==u,q=u===null,Z=dr(u),pe=u===t;S<D;){var ye=Ds((S+D)/2),_e=p(o[ye]),xe=_e!==t,Pe=_e===null,Ge=_e===_e,at=dr(_e);if(k)var Qe=T||Ge;else pe?Qe=Ge&&(T||xe):q?Qe=Ge&&xe&&(T||!Pe):Z?Qe=Ge&&xe&&!Pe&&(T||!at):Pe||at?Qe=!1:Qe=T?_e<=u:_e<u;Qe?S=ye+1:D=ye}return en(D,Se)}function dg(o,u){for(var p=-1,T=o.length,S=0,D=[];++p<T;){var k=o[p],q=u?u(k):k;if(!p||!Pr(q,Z)){var Z=q;D[S++]=k===0?0:k}}return D}function yf(o){return typeof o=="number"?o:dr(o)?P:+o}function xr(o){if(typeof o=="string")return o;if(Ke(o))return qt(o,xr)+"";if(dr(o))return wa?wa.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function ks(o,u,p){var T=-1,S=yo,D=o.length,k=!0,q=[],Z=q;if(p)k=!1,S=ma;else if(D>=l){var pe=u?null:zm(o);if(pe)return Kh(pe);k=!1,S=Hr,Z=new Ms}else Z=u?[]:q;e:for(;++T<D;){var ye=o[T],_e=u?u(ye):ye;if(ye=p||ye!==0?ye:0,k&&_e===_e){for(var xe=Z.length;xe--;)if(Z[xe]===_e)continue e;u&&Z.push(_e),q.push(ye)}else S(Z,_e,p)||(Z!==q&&Z.push(_e),q.push(ye))}return q}function pc(o,u){return u=Vs(u,o),o=Ml(o,u),o==null||delete o[Lt(rr(u))]}function gg(o,u,p,T){return Ol(o,u,p(fi(o,u)),T)}function mc(o,u,p,T){for(var S=o.length,D=T?S:-1;(T?D--:++D<S)&&u(o[D],D,o););return p?Kr(o,T?0:D,T?D+1:S):Kr(o,T?D+1:0,T?S:D)}function Dm(o,u){var p=o;return p instanceof it&&(p=p.value()),Ri(u,function(T,S){return S.func.apply(S.thisArg,si([T],S.args))},p)}function yc(o,u,p){var T=o.length;if(T<2)return T?ks(o[0]):[];for(var S=-1,D=oe(T);++S<T;)for(var k=o[S],q=-1;++q<T;)q!=S&&(D[S]=Aa(D[S]||k,o[q],u,p));return ks(ft(D,1),u,p)}function pg(o,u,p){for(var T=-1,S=o.length,D=u.length,k={};++T<S;){var q=T<D?u[T]:t;p(k,o[T],q)}return k}function vf(o){return cn(o)?o:[]}function vc(o){return typeof o=="function"?o:ie}function Vs(o,u){return Ke(o)?o:Cf(o,u)?[o]:as(Dt(o))}var Nm=tt;function Ra(o,u,p){var T=o.length;return p=p===t?T:p,!u&&p>=T?o:Kr(o,u,p)}var Mm=Wh||function(o){return $t.clearTimeout(o)};function mg(o,u){if(u)return o.slice();var p=o.length,T=Eo?Eo(p):new o.constructor(p);return o.copy(T),T}function Mo(o){var u=new o.constructor(o.byteLength);return new Tl(u).set(new Tl(o)),u}function yg(o,u){var p=u?Mo(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.byteLength)}function _f(o){var u=new o.constructor(o.source,bi.exec(o));return u.lastIndex=o.lastIndex,u}function Pm(o){return So?At(So.call(o)):{}}function vg(o,u){var p=u?Mo(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.length)}function _c(o,u){if(o!==u){var p=o!==t,T=o===null,S=o===o,D=dr(o),k=u!==t,q=u===null,Z=u===u,pe=dr(u);if(!q&&!pe&&!D&&o>u||D&&k&&Z&&!q&&!pe||T&&k&&Z||!p&&Z||!S)return 1;if(!T&&!D&&!pe&&o<u||pe&&p&&S&&!T&&!D||q&&p&&S||!k&&S||!Z)return-1}return 0}function Lm(o,u,p){for(var T=-1,S=o.criteria,D=u.criteria,k=S.length,q=p.length;++T<k;){var Z=_c(S[T],D[T]);if(Z){if(T>=q)return Z;var pe=p[T];return Z*(pe=="desc"?-1:1)}}return o.index-u.index}function _g(o,u,p,T){for(var S=-1,D=o.length,k=p.length,q=-1,Z=u.length,pe=Wt(D-k,0),ye=oe(Z+pe),_e=!T;++q<Z;)ye[q]=u[q];for(;++S<k;)(_e||S<D)&&(ye[p[S]]=o[S]);for(;pe--;)ye[q++]=o[S++];return ye}function km(o,u,p,T){for(var S=-1,D=o.length,k=-1,q=p.length,Z=-1,pe=u.length,ye=Wt(D-q,0),_e=oe(ye+pe),xe=!T;++S<ye;)_e[S]=o[S];for(var Pe=S;++Z<pe;)_e[Pe+Z]=u[Z];for(;++k<q;)(xe||S<D)&&(_e[Pe+p[k]]=o[S++]);return _e}function Rn(o,u){var p=-1,T=o.length;for(u||(u=oe(T));++p<T;)u[p]=o[p];return u}function Or(o,u,p,T){var S=!p;p||(p={});for(var D=-1,k=u.length;++D<k;){var q=u[D],Z=T?T(p[q],o[q],q,p,o):t;Z===t&&(Z=o[q]),S?Di(p,q,Z):Co(p,q,Z)}return p}function Ef(o,u){return Or(o,Rc(o),u)}function Ec(o,u){return Or(o,If(o),u)}function Po(o,u){return function(p,T){var S=Ke(p)?mo:ba,D=u?u():{};return S(p,o,ke(T,2),D)}}function Lo(o){return tt(function(u,p){var T=-1,S=p.length,D=S>1?p[S-1]:t,k=S>2?p[2]:t;for(D=o.length>3&&typeof D=="function"?(S--,D):t,k&&fr(p[0],p[1],k)&&(D=S<3?t:D,S=1),u=At(u);++T<S;){var q=p[T];q&&o(u,q,T,D)}return u})}function Eg(o,u){return function(p,T){if(p==null)return p;if(!Cn(p))return o(p,T);for(var S=p.length,D=u?S:-1,k=At(p);(u?D--:++D<S)&&T(k[D],D,k)!==!1;);return p}}function ko(o){return function(u,p,T){for(var S=-1,D=At(u),k=T(u),q=k.length;q--;){var Z=k[o?q:++S];if(p(D[Z],Z,D)===!1)break}return u}}function Vm(o,u,p){var T=u&H,S=di(o);function D(){var k=this&&this!==$t&&this instanceof D?S:o;return k.apply(T?p:this,arguments)}return D}function $r(o){return function(u){u=Dt(u);var p=ya(u)?ai(u):t,T=p?p[0]:u.charAt(0),S=p?Ra(p,1).join(""):u.slice(1);return T[o]()+S}}function hr(o){return function(u){return Ri(g(Qs(u).replace(lo,"")),o,"")}}function di(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var p=Qr(o.prototype),T=o.apply(p,u);return rn(T)?T:p}}function Um(o,u,p){var T=di(o);function S(){for(var D=arguments.length,k=oe(D),q=D,Z=Uo(S);q--;)k[q]=arguments[q];var pe=D<3&&k[0]!==Z&&k[D-1]!==Z?[]:va(k,Z);if(D-=pe.length,D<p)return Tg(o,u,ln,S.placeholder,t,k,pe,t,t,p-D);var ye=this&&this!==$t&&this instanceof S?T:o;return $n(ye,this,k)}return S}function Us(o){return function(u,p,T){var S=At(u);if(!Cn(u)){var D=ke(p,3);u=On(u),p=function(q){return D(S[q],q,S)}}var k=o(u,p,T);return k>-1?S[D?u[k]:k]:t}}function rs(o){return Zt(function(u){var p=u.length,T=p,S=Rr.prototype.thru;for(o&&u.reverse();T--;){var D=u[T];if(typeof D!="function")throw new Gr(d);if(S&&!k&&Sc(D)=="wrapper")var k=new Rr([],!0)}for(T=k?T:p;++T<p;){D=u[T];var q=Sc(D),Z=q=="wrapper"?Sf(D):t;Z&&xf(Z[0])&&Z[1]==(j|se|we|N)&&!Z[4].length&&Z[9]==1?k=k[Sc(Z[0])].apply(k,Z[3]):k=D.length==1&&xf(D)?k[q]():k.thru(D)}return function(){var pe=arguments,ye=pe[0];if(k&&pe.length==1&&Ke(ye))return k.plant(ye).value();for(var _e=0,xe=p?u[_e].apply(this,pe):ye;++_e<p;)xe=u[_e].call(this,xe);return xe}})}function ln(o,u,p,T,S,D,k,q,Z,pe){var ye=u&j,_e=u&H,xe=u&ne,Pe=u&(se|Ee),Ge=u&M,at=xe?t:di(o);function Qe(){for(var mt=arguments.length,Rt=oe(mt),Vi=mt;Vi--;)Rt[Vi]=arguments[Vi];if(Pe)var Jr=Uo(Qe),Ui=Ku(Rt,Jr);if(T&&(Rt=_g(Rt,T,S,Pe)),D&&(Rt=km(Rt,D,k,Pe)),mt-=Ui,Pe&&mt<pe){var Dn=va(Rt,Jr);return Tg(o,u,ln,Qe.placeholder,p,Rt,Dn,q,Z,pe-mt)}var Ks=_e?p:this,Fo=xe?Ks[o]:o;return mt=Rt.length,q?Rt=ss(Rt,q):Ge&&mt>1&&Rt.reverse(),ye&&Z<mt&&(Rt.length=Z),this&&this!==$t&&this instanceof Qe&&(Fo=at||di(Fo)),Fo.apply(Ks,Rt)}return Qe}function Tc(o,u){return function(p,T){return rg(p,o,u(T),{})}}function Dl(o,u){return function(p,T){var S;if(p===t&&T===t)return u;if(p!==t&&(S=p),T!==t){if(S===t)return T;typeof p=="string"||typeof T=="string"?(p=xr(p),T=xr(T)):(p=yf(p),T=yf(T)),S=o(p,T)}return S}}function wc(o){return Zt(function(u){return u=qt(u,Pt(ke())),tt(function(p){var T=this;return o(u,function(S){return $n(S,T,p)})})})}function bc(o,u){u=u===t?" ":xr(u);var p=u.length;if(p<2)return p?fg(u,o):u;var T=fg(u,wl(o/es(u)));return ya(u)?Ra(ai(T),0,o).join(""):T.slice(0,o)}function Bm(o,u,p,T){var S=u&H,D=di(o);function k(){for(var q=-1,Z=arguments.length,pe=-1,ye=T.length,_e=oe(ye+Z),xe=this&&this!==$t&&this instanceof k?D:o;++pe<ye;)_e[pe]=T[pe];for(;Z--;)_e[pe++]=arguments[++q];return $n(xe,S?p:this,_e)}return k}function Ia(o){return function(u,p,T){return T&&typeof T!="number"&&fr(u,p,T)&&(p=T=t),u=us(u),p===t?(p=u,u=0):p=us(p),T=T===t?u<p?1:-1:us(T),Cm(u,p,T,o)}}function Vo(o){return function(u,p){return typeof u=="string"&&typeof p=="string"||(u=yi(u),p=yi(p)),o(u,p)}}function Tg(o,u,p,T,S,D,k,q,Z,pe){var ye=u&se,_e=ye?k:t,xe=ye?t:k,Pe=ye?D:t,Ge=ye?t:D;u|=ye?we:Ie,u&=~(ye?Ie:we),u&ce||(u&=-4);var at=[o,u,S,Pe,_e,Ge,xe,q,Z,pe],Qe=p.apply(t,at);return xf(o)&&Nf(Qe,at),Qe.placeholder=T,Mf(Qe,o,u)}function Tf(o){var u=Tn[o];return function(p,T){if(p=yi(p),T=T==null?0:en(We(T),292),T&&Ju(p)){var S=(Dt(p)+"e").split("e"),D=u(S[0]+"e"+(+S[1]+T));return S=(Dt(D)+"e").split("e"),+(S[0]+"e"+(+S[1]-T))}return u(p)}}var zm=ht&&1/Kh(new ht([,-0]))[1]==Re?function(o){return new ht(o)}:Oe;function Ac(o){return function(u){var p=Fn(u);return p==Qn?Qh(u):p==Kn?__(u):An(u,o(u))}}function is(o,u,p,T,S,D,k,q){var Z=u&ne;if(!Z&&typeof o!="function")throw new Gr(d);var pe=T?T.length:0;if(pe||(u&=-97,T=S=t),k=k===t?k:Wt(We(k),0),q=q===t?q:We(q),pe-=S?S.length:0,u&Ie){var ye=T,_e=S;T=S=t}var xe=Z?t:Sf(o),Pe=[o,u,p,T,S,ye,_e,D,k,q];if(xe&&xc(Pe,xe),o=Pe[0],u=Pe[1],p=Pe[2],T=Pe[3],S=Pe[4],q=Pe[9]=Pe[9]===t?Z?0:o.length:Wt(Pe[9]-pe,0),!q&&u&(se|Ee)&&(u&=-25),!u||u==H)var Ge=Vm(o,u,p);else u==se||u==Ee?Ge=Um(o,u,q):(u==we||u==(H|we))&&!S.length?Ge=Bm(o,u,p,T):Ge=ln.apply(t,Pe);var at=xe?fc:Nf;return Mf(at(Ge,Pe),o,u)}function wf(o,u,p,T){return o===t||Pr(o,_l[p])&&!Ot.call(T,p)?u:o}function wg(o,u,p,T,S,D){return rn(o)&&rn(u)&&(D.set(u,o),hc(o,u,t,wg,D),D.delete(u)),o}function jm(o){return mi(o)?t:o}function Fm(o,u,p,T,S,D){var k=p&z,q=o.length,Z=u.length;if(q!=Z&&!(k&&Z>q))return!1;var pe=D.get(o),ye=D.get(u);if(pe&&ye)return pe==u&&ye==o;var _e=-1,xe=!0,Pe=p&X?new Ms:t;for(D.set(o,u),D.set(u,o);++_e<q;){var Ge=o[_e],at=u[_e];if(T)var Qe=k?T(at,Ge,_e,u,o,D):T(Ge,at,_e,o,u,D);if(Qe!==t){if(Qe)continue;xe=!1;break}if(Pe){if(!ml(u,function(mt,Rt){if(!Hr(Pe,Rt)&&(Ge===mt||S(Ge,mt,p,T,D)))return Pe.push(Rt)})){xe=!1;break}}else if(!(Ge===at||S(Ge,at,p,T,D))){xe=!1;break}}return D.delete(o),D.delete(u),xe}function Hm(o,u,p,T,S,D,k){switch(p){case Pn:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case wt:return!(o.byteLength!=u.byteLength||!D(new Tl(o),new Tl(u)));case Nt:case vr:case ps:return Pr(+o,+u);case ni:return o.name==u.name&&o.message==u.message;case ji:case no:return o==u+"";case Qn:var q=Qh;case Kn:var Z=T&z;if(q||(q=Kh),o.size!=u.size&&!Z)return!1;var pe=k.get(o);if(pe)return pe==u;T|=X,k.set(o,u);var ye=Fm(q(o),q(u),T,S,D,k);return k.delete(o),ye;case ms:if(So)return So.call(o)==So.call(u)}return!1}function jn(o,u,p,T,S,D){var k=p&z,q=bf(o),Z=q.length,pe=bf(u),ye=pe.length;if(Z!=ye&&!k)return!1;for(var _e=Z;_e--;){var xe=q[_e];if(!(k?xe in u:Ot.call(u,xe)))return!1}var Pe=D.get(o),Ge=D.get(u);if(Pe&&Ge)return Pe==u&&Ge==o;var at=!0;D.set(o,u),D.set(u,o);for(var Qe=k;++_e<Z;){xe=q[_e];var mt=o[xe],Rt=u[xe];if(T)var Vi=k?T(Rt,mt,xe,u,o,D):T(mt,Rt,xe,o,u,D);if(!(Vi===t?mt===Rt||S(mt,Rt,p,T,D):Vi)){at=!1;break}Qe||(Qe=xe=="constructor")}if(at&&!Qe){var Jr=o.constructor,Ui=u.constructor;Jr!=Ui&&"constructor"in o&&"constructor"in u&&!(typeof Jr=="function"&&Jr instanceof Jr&&typeof Ui=="function"&&Ui instanceof Ui)&&(at=!1)}return D.delete(o),D.delete(u),at}function Zt(o){return Oc(Ig(o,t,Nr),o+"")}function bf(o){return wm(o,On,Rc)}function Af(o){return wm(o,Hn,If)}var Sf=bl?function(o){return bl.get(o)}:Oe;function Sc(o){for(var u=o.name+"",p=ci[u],T=Ot.call(ci,u)?p.length:0;T--;){var S=p[T],D=S.func;if(D==null||D==o)return S.name}return u}function Uo(o){var u=Ot.call(I,"placeholder")?I:o;return u.placeholder}function ke(){var o=I.iteratee||ze;return o=o===ze?ag:o,arguments.length?o(arguments[0],arguments[1]):o}function Nl(o,u){var p=o.__data__;return zs(u)?p[typeof u=="string"?"string":"hash"]:p.map}function Rf(o){for(var u=On(o),p=u.length;p--;){var T=u[p],S=o[T];u[p]=[T,S,Km(S)]}return u}function Ca(o,u){var p=jd(o,u);return ns(p)?p:t}function qm(o){var u=Ot.call(o,ur),p=o[ur];try{o[ur]=t;var T=!0}catch{}var S=lr.call(o);return T&&(u?o[ur]=p:delete o[ur]),S}var Rc=Ea?function(o){return o==null?[]:(o=At(o),br(Ea(o),function(u){return To.call(o,u)}))}:h0,If=Ea?function(o){for(var u=[];o;)si(u,Rc(o)),o=Xu(o);return u}:h0,Fn=pt;(ec&&Fn(new ec(new ArrayBuffer(1)))!=Pn||Sn&&Fn(new Sn)!=Qn||tn&&Fn(tn.resolve())!=Oh||ht&&Fn(new ht)!=Kn||Oi&&Fn(new Oi)!=aa)&&(Fn=function(o){var u=pt(o),p=u==vn?o.constructor:t,T=p?js(p):"";if(T)switch(T){case cm:return Pn;case hm:return Qn;case tc:return Oh;case nc:return Kn;case fm:return aa}return u});function Gm(o,u,p){for(var T=-1,S=p.length;++T<S;){var D=p[T],k=D.size;switch(D.type){case"drop":o+=k;break;case"dropRight":u-=k;break;case"take":u=en(u,o+k);break;case"takeRight":o=Wt(o,u-k);break}}return{start:o,end:u}}function bg(o){var u=o.match(ca);return u?u[1].split(Nh):[]}function Ic(o,u,p){u=Vs(u,o);for(var T=-1,S=u.length,D=!1;++T<S;){var k=Lt(u[T]);if(!(D=o!=null&&p(o,k)))break;o=o[k]}return D||++T!=S?D:(S=o==null?0:o.length,!!S&&jo(S)&&Pi(k,S)&&(Ke(o)||Gs(o)))}function Ag(o){var u=o.length,p=new o.constructor(u);return u&&typeof o[0]=="string"&&Ot.call(o,"index")&&(p.index=o.index,p.input=o.input),p}function Sg(o){return typeof o.constructor=="function"&&!Qt(o)?Qr(Xu(o)):{}}function Rg(o,u,p){var T=o.constructor;switch(u){case wt:return Mo(o);case Nt:case vr:return new T(+o);case Pn:return yg(o,p);case Ln:case rl:case xu:case ys:case vs:case _s:case Fr:case oa:case Es:return vg(o,p);case Qn:return new T;case ps:case no:return new T(o);case ji:return _f(o);case Kn:return new T;case ms:return Pm(o)}}function Qm(o,u){var p=u.length;if(!p)return o;var T=p-1;return u[T]=(p>1?"& ":"")+u[T],u=u.join(p>2?", ":" "),o.replace(zd,`{
/* [wrapped with `+u+`] */
`)}function Bs(o){return Ke(o)||Gs(o)||!!(Ar&&o&&o[Ar])}function Pi(o,u){var p=typeof o;return u=u??Ne,!!u&&(p=="number"||p!="symbol"&&Ai.test(o))&&o>-1&&o%1==0&&o<u}function fr(o,u,p){if(!rn(p))return!1;var T=typeof u;return(T=="number"?Cn(p)&&Pi(u,p.length):T=="string"&&u in p)?Pr(p[u],o):!1}function Cf(o,u){if(Ke(o))return!1;var p=typeof o;return p=="number"||p=="symbol"||p=="boolean"||o==null||dr(o)?!0:Dh.test(o)||!ua.test(o)||u!=null&&o in At(u)}function zs(o){var u=typeof o;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null}function xf(o){var u=Sc(o),p=I[u];if(typeof p!="function"||!(u in it.prototype))return!1;if(o===p)return!0;var T=Sf(p);return!!T&&o===T[0]}function Of(o){return!!qd&&qd in o}var Cc=$u?Li:f0;function Qt(o){var u=o&&o.constructor,p=typeof u=="function"&&u.prototype||_l;return o===p}function Km(o){return o===o&&!rn(o)}function $m(o,u){return function(p){return p==null?!1:p[o]===u&&(u!==t||o in At(p))}}function Ym(o){var u=zc(o,function(T){return p.size===_&&p.clear(),T}),p=u.cache;return u}function xc(o,u){var p=o[1],T=u[1],S=p|T,D=S<(H|ne|j),k=T==j&&p==se||T==j&&p==N&&o[7].length<=u[8]||T==(j|N)&&u[7].length<=u[8]&&p==se;if(!(D||k))return o;T&H&&(o[2]=u[2],S|=p&H?0:ce);var q=u[3];if(q){var Z=o[3];o[3]=Z?_g(Z,q,u[4]):q,o[4]=Z?va(o[3],A):u[4]}return q=u[5],q&&(Z=o[5],o[5]=Z?km(Z,q,u[6]):q,o[6]=Z?va(o[5],A):u[6]),q=u[7],q&&(o[7]=q),T&j&&(o[8]=o[8]==null?u[8]:en(o[8],u[8])),o[9]==null&&(o[9]=u[9]),o[0]=u[0],o[1]=S,o}function xa(o){var u=[];if(o!=null)for(var p in At(o))u.push(p);return u}function Xm(o){return lr.call(o)}function Ig(o,u,p){return u=Wt(u===t?o.length-1:u,0),function(){for(var T=arguments,S=-1,D=Wt(T.length-u,0),k=oe(D);++S<D;)k[S]=T[u+S];S=-1;for(var q=oe(u+1);++S<u;)q[S]=T[S];return q[u]=p(k),$n(o,this,q)}}function Ml(o,u){return u.length<2?o:fi(o,Kr(u,0,-1))}function ss(o,u){for(var p=o.length,T=en(u.length,p),S=Rn(o);T--;){var D=u[T];o[T]=Pi(D,p)?S[D]:t}return o}function Df(o,u){if(!(u==="constructor"&&typeof o[u]=="function")&&u!="__proto__")return o[u]}var Nf=Dc(fc),Pl=Qd||function(o,u){return $t.setTimeout(o,u)},Oc=Dc(dc);function Mf(o,u,p){var T=u+"";return Oc(o,Qm(T,Wm(bg(T),p)))}function Dc(o){var u=0,p=0;return function(){var T=Ns(),S=U-(T-p);if(p=T,S>0){if(++u>=K)return arguments[0]}else u=0;return o.apply(t,arguments)}}function Nc(o,u){var p=-1,T=o.length,S=T-1;for(u=u===t?T:u;++p<u;){var D=gf(p,S),k=o[D];o[D]=o[p],o[p]=k}return o.length=u,o}var as=Ym(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(Jt,function(p,T,S,D){u.push(S?D.replace(Ts,"$1"):T||p)}),u});function Lt(o){if(typeof o=="string"||dr(o))return o;var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function js(o){if(o!=null){try{return Yu.call(o)}catch{}try{return o+""}catch{}}return""}function Wm(o,u){return or(Ve,function(p){var T="_."+p[0];u&p[1]&&!yo(o,T)&&o.push(T)}),o.sort()}function In(o){if(o instanceof it)return o.clone();var u=new Rr(o.__wrapped__,o.__chain__);return u.__actions__=Rn(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}function x_(o,u,p){(p?fr(o,u,p):u===t)?u=1:u=Wt(We(u),0);var T=o==null?0:o.length;if(!T||u<1)return[];for(var S=0,D=0,k=oe(wl(T/u));S<T;)k[D++]=Kr(o,S,S+=u);return k}function Zm(o){for(var u=-1,p=o==null?0:o.length,T=0,S=[];++u<p;){var D=o[u];D&&(S[T++]=D)}return S}function Jm(){var o=arguments.length;if(!o)return[];for(var u=oe(o-1),p=arguments[0],T=o;T--;)u[T-1]=arguments[T];return si(Ke(p)?Rn(p):[p],ft(u,1))}var nn=tt(function(o,u){return cn(o)?Aa(o,ft(u,1,cn,!0)):[]}),Dr=tt(function(o,u){var p=rr(u);return cn(p)&&(p=t),cn(o)?Aa(o,ft(u,1,cn,!0),ke(p,2)):[]}),Fs=tt(function(o,u){var p=rr(u);return cn(p)&&(p=t),cn(o)?Aa(o,ft(u,1,cn,!0),t,p):[]});function ey(o,u,p){var T=o==null?0:o.length;return T?(u=p||u===t?1:We(u),Kr(o,u<0?0:u,T)):[]}function ty(o,u,p){var T=o==null?0:o.length;return T?(u=p||u===t?1:We(u),u=T-u,Kr(o,0,u<0?0:u)):[]}function O_(o,u){return o&&o.length?mc(o,ke(u,3),!0,!0):[]}function Cg(o,u){return o&&o.length?mc(o,ke(u,3),!0):[]}function Yr(o,u,p,T){var S=o==null?0:o.length;return S?(p&&typeof p!="number"&&fr(o,u,p)&&(p=0,T=S),nt(o,u,p,T)):[]}function gi(o,u,p){var T=o==null?0:o.length;if(!T)return-1;var S=p==null?0:We(p);return S<0&&(S=Wt(T+S,0)),vo(o,ke(u,3),S)}function xg(o,u,p){var T=o==null?0:o.length;if(!T)return-1;var S=T-1;return p!==t&&(S=We(p),S=p<0?Wt(T+S,0):en(S,T-1)),vo(o,ke(u,3),S,!0)}function Nr(o){var u=o==null?0:o.length;return u?ft(o,1):[]}function ny(o){var u=o==null?0:o.length;return u?ft(o,Re):[]}function Oa(o,u){var p=o==null?0:o.length;return p?(u=u===t?1:We(u),ft(o,u)):[]}function Bo(o){for(var u=-1,p=o==null?0:o.length,T={};++u<p;){var S=o[u];T[S[0]]=S[1]}return T}function Hs(o){return o&&o.length?o[0]:t}function Og(o,u,p){var T=o==null?0:o.length;if(!T)return-1;var S=p==null?0:We(p);return S<0&&(S=Wt(T+S,0)),Os(o,u,S)}function Dg(o){var u=o==null?0:o.length;return u?Kr(o,0,-1):[]}var os=tt(function(o){var u=qt(o,vf);return u.length&&u[0]===o[0]?ng(u):[]}),ry=tt(function(o){var u=rr(o),p=qt(o,vf);return u===rr(p)?u=t:p.pop(),p.length&&p[0]===o[0]?ng(p,ke(u,2)):[]}),Ll=tt(function(o){var u=rr(o),p=qt(o,vf);return u=typeof u=="function"?u:t,u&&p.pop(),p.length&&p[0]===o[0]?ng(p,t,u):[]});function Mc(o,u){return o==null?"":li.call(o,u)}function rr(o){var u=o==null?0:o.length;return u?o[u-1]:t}function kl(o,u,p){var T=o==null?0:o.length;if(!T)return-1;var S=T;return p!==t&&(S=We(p),S=S<0?Wt(T+S,0):en(S,T-1)),u===u?qr(o,u,S):vo(o,f,S,!0)}function iy(o,u){return o&&o.length?ug(o,We(u)):t}var sy=tt(Vl);function Vl(o,u){return o&&o.length&&u&&u.length?df(o,u):o}function ay(o,u,p){return o&&o.length&&u&&u.length?df(o,u,ke(p,2)):o}function Pf(o,u,p){return o&&o.length&&u&&u.length?df(o,u,t,p):o}var oy=Zt(function(o,u){var p=o==null?0:o.length,T=oc(o,u);return hg(o,qt(u,function(S){return Pi(S,p)?+S:S}).sort(_c)),T});function D_(o,u){var p=[];if(!(o&&o.length))return p;var T=-1,S=[],D=o.length;for(u=ke(u,3);++T<D;){var k=o[T];u(k,T,o)&&(p.push(k),S.push(T))}return hg(o,S),p}function Ng(o){return o==null?o:$d.call(o)}function Ut(o,u,p){var T=o==null?0:o.length;return T?(p&&typeof p!="number"&&fr(o,u,p)?(u=0,p=T):(u=u==null?0:We(u),p=p===t?T:We(p)),Kr(o,u,p)):[]}function Yt(o,u){return gc(o,u)}function ot(o,u,p){return mf(o,u,ke(p,2))}function vt(o,u){var p=o==null?0:o.length;if(p){var T=gc(o,u);if(T<p&&Pr(o[T],u))return T}return-1}function Bt(o,u){return gc(o,u,!0)}function Xr(o,u,p){return mf(o,u,ke(p,2),!0)}function Da(o,u){var p=o==null?0:o.length;if(p){var T=gc(o,u,!0)-1;if(Pr(o[T],u))return T}return-1}function Ul(o){return o&&o.length?dg(o):[]}function Mg(o,u){return o&&o.length?dg(o,ke(u,2)):[]}function qs(o){var u=o==null?0:o.length;return u?Kr(o,1,u):[]}function un(o,u,p){return o&&o.length?(u=p||u===t?1:We(u),Kr(o,0,u<0?0:u)):[]}function Na(o,u,p){var T=o==null?0:o.length;return T?(u=p||u===t?1:We(u),u=T-u,Kr(o,u<0?0:u,T)):[]}function zo(o,u){return o&&o.length?mc(o,ke(u,3),!1,!0):[]}function Pg(o,u){return o&&o.length?mc(o,ke(u,3)):[]}var pi=tt(function(o){return ks(ft(o,1,cn,!0))}),Bl=tt(function(o){var u=rr(o);return cn(u)&&(u=t),ks(ft(o,1,cn,!0),ke(u,2))}),Pc=tt(function(o){var u=rr(o);return u=typeof u=="function"?u:t,ks(ft(o,1,cn,!0),t,u)});function Mr(o){return o&&o.length?ks(o):[]}function Lg(o,u){return o&&o.length?ks(o,ke(u,2)):[]}function kg(o,u){return u=typeof u=="function"?u:t,o&&o.length?ks(o,t,u):[]}function zl(o){if(!(o&&o.length))return[];var u=0;return o=br(o,function(p){if(cn(p))return u=Wt(p.length,u),!0}),ct(u,function(p){return qt(o,w(p))})}function Lc(o,u){if(!(o&&o.length))return[];var p=zl(o);return u==null?p:qt(p,function(T){return $n(u,t,T)})}var Ma=tt(function(o,u){return cn(o)?Aa(o,u):[]}),Yn=tt(function(o){return yc(br(o,cn))}),Pa=tt(function(o){var u=rr(o);return cn(u)&&(u=t),yc(br(o,cn),ke(u,2))}),jl=tt(function(o){var u=rr(o);return u=typeof u=="function"?u:t,yc(br(o,cn),t,u)}),Fl=tt(zl);function Vg(o,u){return pg(o||[],u||[],Co)}function Ug(o,u){return pg(o||[],u||[],Ol)}var ly=tt(function(o){var u=o.length,p=u>1?o[u-1]:t;return p=typeof p=="function"?(o.pop(),p):t,Lc(o,p)});function Hl(o){var u=I(o);return u.__chain__=!0,u}function Bg(o,u){return u(o),o}function ir(o,u){return u(o)}var uy=Zt(function(o){var u=o.length,p=u?o[0]:0,T=this.__wrapped__,S=function(D){return oc(D,o)};return u>1||this.__actions__.length||!(T instanceof it)||!Pi(p)?this.thru(S):(T=T.slice(p,+p+(u?1:0)),T.__actions__.push({func:ir,args:[S],thisArg:t}),new Rr(T,this.__chain__).thru(function(D){return u&&!D.length&&D.push(t),D}))});function Wr(){return Hl(this)}function cy(){return new Rr(this.value(),this.__chain__)}function hy(){this.__values__===t&&(this.__values__=Zr(this.value()));var o=this.__index__>=this.__values__.length,u=o?t:this.__values__[this.__index__++];return{done:o,value:u}}function N_(){return this}function La(o){for(var u,p=this;p instanceof hi;){var T=In(p);T.__index__=0,T.__values__=t,u?S.__wrapped__=T:u=T;var S=T;p=p.__wrapped__}return S.__wrapped__=o,u}function Lf(){var o=this.__wrapped__;if(o instanceof it){var u=o;return this.__actions__.length&&(u=new it(this)),u=u.reverse(),u.__actions__.push({func:ir,args:[Ng],thisArg:t}),new Rr(u,this.__chain__)}return this.thru(Ng)}function zg(){return Dm(this.__wrapped__,this.__actions__)}var ql=Po(function(o,u,p){Ot.call(o,p)?++o[p]:Di(o,p,1)});function fy(o,u,p){var T=Ke(o)?pl:eg;return p&&fr(o,u,p)&&(u=t),T(o,ke(u,3))}function dy(o,u){var p=Ke(o)?br:Vt;return p(o,ke(u,3))}var gy=Us(gi),jg=Us(xg);function Fg(o,u){return ft(kc(o,u),1)}function M_(o,u){return ft(kc(o,u),Re)}function P_(o,u,p){return p=p===t?1:We(p),ft(kc(o,u),p)}function py(o,u){var p=Ke(o)?or:Ls;return p(o,ke(u,3))}function Hg(o,u){var p=Ke(o)?jh:sf;return p(o,ke(u,3))}var my=Po(function(o,u,p){Ot.call(o,p)?o[p].push(u):Di(o,p,[u])});function Gl(o,u,p,T){o=Cn(o)?o:Zl(o),p=p&&!T?We(p):0;var S=o.length;return p<0&&(p=Wt(S+p,0)),Kf(o)?p<=S&&o.indexOf(u,p)>-1:!!S&&Os(o,u,p)>-1}var kf=tt(function(o,u,p){var T=-1,S=typeof u=="function",D=Cn(o)?oe(o.length):[];return Ls(o,function(k){D[++T]=S?$n(u,k,p):Do(k,u,p)}),D}),yy=Po(function(o,u,p){Di(o,p,u)});function kc(o,u){var p=Ke(o)?qt:og;return p(o,ke(u,3))}function vy(o,u,p,T){return o==null?[]:(Ke(u)||(u=u==null?[]:[u]),p=T?t:p,Ke(p)||(p=p==null?[]:[p]),cg(o,u,p))}var _y=Po(function(o,u,p){o[p?0:1].push(u)},function(){return[[],[]]});function Ey(o,u,p){var T=Ke(o)?Ri:J,S=arguments.length<3;return T(o,ke(u,4),p,S,Ls)}function Ty(o,u,p){var T=Ke(o)?Fh:J,S=arguments.length<3;return T(o,ke(u,4),p,S,sf)}function Vf(o,u){var p=Ke(o)?br:Vt;return p(o,jc(ke(u,3)))}function wy(o){var u=Ke(o)?Sl:xl;return u(o)}function by(o,u,p){(p?fr(o,u,p):u===t)?u=1:u=We(u);var T=Ke(o)?_m:pf;return T(o,u)}function Kt(o){var u=Ke(o)?Em:xm;return u(o)}function qg(o){if(o==null)return 0;if(Cn(o))return Kf(o)?es(o):o.length;var u=Fn(o);return u==Qn||u==Kn?o.size:uf(o).length}function L_(o,u,p){var T=Ke(o)?ml:Om;return p&&fr(o,u,p)&&(u=t),T(o,ke(u,3))}var Ay=tt(function(o,u){if(o==null)return[];var p=u.length;return p>1&&fr(o,u[0],u[1])?u=[]:p>2&&fr(u[0],u[1],u[2])&&(u=[u[0]]),cg(o,ft(u,1),[])}),Uf=bo||function(){return $t.Date.now()};function k_(o,u){if(typeof u!="function")throw new Gr(d);return o=We(o),function(){if(--o<1)return u.apply(this,arguments)}}function Sy(o,u,p){return u=p?t:u,u=o&&u==null?o.length:u,is(o,j,t,t,t,t,u)}function Vc(o,u){var p;if(typeof u!="function")throw new Gr(d);return o=We(o),function(){return--o>0&&(p=u.apply(this,arguments)),o<=1&&(u=t),p}}var ka=tt(function(o,u,p){var T=H;if(p.length){var S=va(p,Uo(ka));T|=we}return is(o,T,u,p,S)}),Bf=tt(function(o,u,p){var T=H|ne;if(p.length){var S=va(p,Uo(Bf));T|=we}return is(u,T,o,p,S)});function Uc(o,u,p){u=p?t:u;var T=is(o,se,t,t,t,t,t,u);return T.placeholder=Uc.placeholder,T}function zf(o,u,p){u=p?t:u;var T=is(o,Ee,t,t,t,t,t,u);return T.placeholder=zf.placeholder,T}function Va(o,u,p){var T,S,D,k,q,Z,pe=0,ye=!1,_e=!1,xe=!0;if(typeof o!="function")throw new Gr(d);u=yi(u)||0,rn(p)&&(ye=!!p.leading,_e="maxWait"in p,D=_e?Wt(yi(p.maxWait)||0,u):D,xe="trailing"in p?!!p.trailing:xe);function Pe(Dn){var Ks=T,Fo=S;return T=S=t,pe=Dn,k=o.apply(Fo,Ks),k}function Ge(Dn){return pe=Dn,q=Pl(mt,u),ye?Pe(Dn):k}function at(Dn){var Ks=Dn-Z,Fo=Dn-pe,xT=u-Ks;return _e?en(xT,D-Fo):xT}function Qe(Dn){var Ks=Dn-Z,Fo=Dn-pe;return Z===t||Ks>=u||Ks<0||_e&&Fo>=D}function mt(){var Dn=Uf();if(Qe(Dn))return Rt(Dn);q=Pl(mt,at(Dn))}function Rt(Dn){return q=t,xe&&T?Pe(Dn):(T=S=t,k)}function Vi(){q!==t&&Mm(q),pe=0,T=Z=S=q=t}function Jr(){return q===t?k:Rt(Uf())}function Ui(){var Dn=Uf(),Ks=Qe(Dn);if(T=arguments,S=this,Z=Dn,Ks){if(q===t)return Ge(Z);if(_e)return Mm(q),q=Pl(mt,u),Pe(Z)}return q===t&&(q=Pl(mt,u)),k}return Ui.cancel=Vi,Ui.flush=Jr,Ui}var ls=tt(function(o,u){return xo(o,1,u)}),Bc=tt(function(o,u,p){return xo(o,yi(u)||0,p)});function V_(o){return is(o,M)}function zc(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new Gr(d);var p=function(){var T=arguments,S=u?u.apply(this,T):T[0],D=p.cache;if(D.has(S))return D.get(S);var k=o.apply(this,T);return p.cache=D.set(S,k)||D,k};return p.cache=new(zc.Cache||Ir),p}zc.Cache=Ir;function jc(o){if(typeof o!="function")throw new Gr(d);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}function Ry(o){return Vc(2,o)}var Iy=Nm(function(o,u){u=u.length==1&&Ke(u[0])?qt(u[0],Pt(ke())):qt(ft(u,1),Pt(ke()));var p=u.length;return tt(function(T){for(var S=-1,D=en(T.length,p);++S<D;)T[S]=u[S].call(this,T[S]);return $n(o,this,T)})}),Gg=tt(function(o,u){var p=va(u,Uo(Gg));return is(o,we,t,u,p)}),jf=tt(function(o,u){var p=va(u,Uo(jf));return is(o,Ie,t,u,p)}),Cy=Zt(function(o,u){return is(o,N,t,t,t,u)});function xy(o,u){if(typeof o!="function")throw new Gr(d);return u=u===t?u:We(u),tt(o,u)}function U_(o,u){if(typeof o!="function")throw new Gr(d);return u=u==null?0:Wt(We(u),0),tt(function(p){var T=p[u],S=Ra(p,0,u);return T&&si(S,T),$n(o,this,S)})}function Qg(o,u,p){var T=!0,S=!0;if(typeof o!="function")throw new Gr(d);return rn(p)&&(T="leading"in p?!!p.leading:T,S="trailing"in p?!!p.trailing:S),Va(o,u,{leading:T,maxWait:u,trailing:S})}function Kg(o){return Sy(o,1)}function B_(o,u){return Gg(vc(u),o)}function z_(){if(!arguments.length)return[];var o=arguments[0];return Ke(o)?o:[o]}function Fc(o){return tr(o,L)}function j_(o,u){return u=typeof u=="function"?u:t,tr(o,L,u)}function Oy(o){return tr(o,R|L)}function lt(o,u){return u=typeof u=="function"?u:t,tr(o,R|L,u)}function $g(o,u){return u==null||Jd(o,u,On(u))}function Pr(o,u){return o===u||o!==o&&u!==u}var Yg=Vo(lc),Dy=Vo(function(o,u){return o>=u}),Gs=af(function(){return arguments}())?af:function(o){return sn(o)&&Ot.call(o,"callee")&&!To.call(o,"callee")},Ke=oe.isArray,Ff=fo?Pt(fo):Cr;function Cn(o){return o!=null&&jo(o.length)&&!Li(o)}function cn(o){return sn(o)&&Cn(o)}function F_(o){return o===!0||o===!1||sn(o)&&pt(o)==Nt}var Ua=Zh||f0,Ny=gl?Pt(gl):wn;function My(o){return sn(o)&&o.nodeType===1&&!mi(o)}function Hf(o){if(o==null)return!0;if(Cn(o)&&(Ke(o)||typeof o=="string"||typeof o.splice=="function"||Ua(o)||Ql(o)||Gs(o)))return!o.length;var u=Fn(o);if(u==Qn||u==Kn)return!o.size;if(Qt(o))return!uf(o).length;for(var p in o)if(Ot.call(o,p))return!1;return!0}function zt(o,u){return No(o,u)}function Xg(o,u,p){p=typeof p=="function"?p:t;var T=p?p(o,u):t;return T===t?No(o,u,t,p):!!T}function xn(o){if(!sn(o))return!1;var u=pt(o);return u==ni||u==ia||typeof o.message=="string"&&typeof o.name=="string"&&!mi(o)}function H_(o){return typeof o=="number"&&Ju(o)}function Li(o){if(!rn(o))return!1;var u=pt(o);return u==zi||u==sa||u==Mn||u==Iu}function qf(o){return typeof o=="number"&&o==We(o)}function jo(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=Ne}function rn(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function sn(o){return o!=null&&typeof o=="object"}var Gf=go?Pt(go):of;function Wg(o,u){return o===u||cc(o,u,Rf(u))}function q_(o,u,p){return p=typeof p=="function"?p:t,cc(o,u,Rf(u),p)}function Py(o){return ky(o)&&o!=+o}function G_(o){if(Cc(o))throw new qe(h);return ns(o)}function Ly(o){return o===null}function Q_(o){return o==null}function ky(o){return typeof o=="number"||sn(o)&&pt(o)==ps}function mi(o){if(!sn(o)||pt(o)!=vn)return!1;var u=Xu(o);if(u===null)return!0;var p=Ot.call(u,"constructor")&&u.constructor;return typeof p=="function"&&p instanceof p&&Yu.call(p)==oi}var Qf=Qu?Pt(Qu):lf;function Zg(o){return qf(o)&&o>=-9007199254740991&&o<=Ne}var Vy=po?Pt(po):ig;function Kf(o){return typeof o=="string"||!Ke(o)&&sn(o)&&pt(o)==no}function dr(o){return typeof o=="symbol"||sn(o)&&pt(o)==ms}var Ql=zh?Pt(zh):sg;function ki(o){return o===t}function Jg(o){return sn(o)&&Fn(o)==aa}function Uy(o){return sn(o)&&pt(o)==an}var By=Vo(cf),Hc=Vo(function(o,u){return o<=u});function Zr(o){if(!o)return[];if(Cn(o))return Kf(o)?ai(o):Rn(o);if(wo&&o[wo])return sm(o[wo]());var u=Fn(o),p=u==Qn?Qh:u==Kn?Kh:Zl;return p(o)}function us(o){if(!o)return o===0?o:0;if(o=yi(o),o===Re||o===-1/0){var u=o<0?-1:1;return u*Tt}return o===o?o:0}function We(o){var u=us(o),p=u%1;return u===u?p?u-p:u:0}function cs(o){return o?Ni(We(o),0,ue):0}function yi(o){if(typeof o=="number")return o;if(dr(o))return P;if(rn(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=rn(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=gt(o);var p=gn.test(o);return p||il.test(o)?Bh(o.slice(2),p?2:8):ar.test(o)?P:+o}function zy(o){return Or(o,Hn(o))}function Kl(o){return o?Ni(We(o),-9007199254740991,Ne):o===0?o:0}function Dt(o){return o==null?"":xr(o)}var K_=Lo(function(o,u){if(Qt(u)||Cn(u)){Or(u,On(u),o);return}for(var p in u)Ot.call(u,p)&&Co(o,p,u[p])}),jy=Lo(function(o,u){Or(u,Hn(u),o)}),$f=Lo(function(o,u,p,T){Or(u,Hn(u),o,T)}),$_=Lo(function(o,u,p,T){Or(u,On(u),o,T)}),Y_=Zt(oc);function X_(o,u){var p=Qr(o);return u==null?p:Ps(p,u)}var W_=tt(function(o,u){o=At(o);var p=-1,T=u.length,S=T>2?u[2]:t;for(S&&fr(u[0],u[1],S)&&(T=1);++p<T;)for(var D=u[p],k=Hn(D),q=-1,Z=k.length;++q<Z;){var pe=k[q],ye=o[pe];(ye===t||Pr(ye,_l[pe])&&!Ot.call(o,pe))&&(o[pe]=D[pe])}return o}),Fy=tt(function(o){return o.push(t,wg),$n(Kc,t,o)});function $l(o,u){return er(o,ke(u,3),nr)}function qc(o,u){return er(o,ke(u,3),Cl)}function Hy(o,u){return o==null?o:Il(o,ke(u,3),Hn)}function Z_(o,u){return o==null?o:Oo(o,ke(u,3),Hn)}function Yl(o,u){return o&&nr(o,ke(u,3))}function Gc(o,u){return o&&Cl(o,ke(u,3))}function qy(o){return o==null?[]:Sa(o,On(o))}function Yf(o){return o==null?[]:Sa(o,Hn(o))}function Qc(o,u,p){var T=o==null?t:fi(o,u);return T===t?p:T}function ep(o,u){return o!=null&&Ic(o,u,tg)}function Xl(o,u){return o!=null&&Ic(o,u,bm)}var Gy=Tc(function(o,u,p){u!=null&&typeof u.toString!="function"&&(u=lr.call(u)),o[u]=p},re(ie)),Qy=Tc(function(o,u,p){u!=null&&typeof u.toString!="function"&&(u=lr.call(u)),Ot.call(o,u)?o[u].push(p):o[u]=[p]},ke),J_=tt(Do);function On(o){return Cn(o)?Zd(o):uf(o)}function Hn(o){return Cn(o)?Zd(o,!0):Sm(o)}function e0(o,u){var p={};return u=ke(u,3),nr(o,function(T,S,D){Di(p,u(T,S,D),T)}),p}function t0(o,u){var p={};return u=ke(u,3),nr(o,function(T,S,D){Di(p,S,u(T,S,D))}),p}var n0=Lo(function(o,u,p){hc(o,u,p)}),Kc=Lo(function(o,u,p,T){hc(o,u,p,T)}),Xf=Zt(function(o,u){var p={};if(o==null)return p;var T=!1;u=qt(u,function(D){return D=Vs(D,o),T||(T=D.length>1),D}),Or(o,Af(o),p),T&&(p=tr(p,R|x|L,jm));for(var S=u.length;S--;)pc(p,u[S]);return p});function tp(o,u){return Wl(o,jc(ke(u)))}var r0=Zt(function(o,u){return o==null?{}:Rm(o,u)});function Wl(o,u){if(o==null)return{};var p=qt(Af(o),function(T){return[T]});return u=ke(u),ff(o,p,function(T,S){return u(T,S[0])})}function i0(o,u,p){u=Vs(u,o);var T=-1,S=u.length;for(S||(S=1,o=t);++T<S;){var D=o==null?t:o[Lt(u[T])];D===t&&(T=S,D=p),o=Li(D)?D.call(o):D}return o}function Ky(o,u,p){return o==null?o:Ol(o,u,p)}function $y(o,u,p,T){return T=typeof T=="function"?T:t,o==null?o:Ol(o,u,p,T)}var np=Ac(On),rp=Ac(Hn);function ip(o,u,p){var T=Ke(o),S=T||Ua(o)||Ql(o);if(u=ke(u,4),p==null){var D=o&&o.constructor;S?p=T?new D:[]:rn(o)?p=Li(D)?Qr(Xu(o)):{}:p={}}return(S?or:nr)(o,function(k,q,Z){return u(p,k,q,Z)}),p}function Yy(o,u){return o==null?!0:pc(o,u)}function Wf(o,u,p){return o==null?o:gg(o,u,vc(p))}function s0(o,u,p,T){return T=typeof T=="function"?T:t,o==null?o:gg(o,u,vc(p),T)}function Zl(o){return o==null?[]:pn(o,On(o))}function sp(o){return o==null?[]:pn(o,Hn(o))}function ap(o,u,p){return p===t&&(p=u,u=t),p!==t&&(p=yi(p),p=p===p?p:0),u!==t&&(u=yi(u),u=u===u?u:0),Ni(yi(o),u,p)}function Zf(o,u,p){return u=us(u),p===t?(p=u,u=0):p=us(p),o=yi(o),Am(o,u,p)}function op(o,u,p){if(p&&typeof p!="boolean"&&fr(o,u,p)&&(u=p=t),p===t&&(typeof u=="boolean"?(p=u,u=t):typeof o=="boolean"&&(p=o,o=t)),o===t&&u===t?(o=0,u=1):(o=us(o),u===t?(u=o,o=0):u=us(u)),o>u){var T=o;o=u,u=T}if(p||o%1||u%1){var S=Kd();return en(o+S*(u-o+co("1e-"+((S+"").length-1))),u)}return gf(o,u)}var Xy=hr(function(o,u,p){return u=u.toLowerCase(),o+(p?Jf(u):u)});function Jf(o){return c(Dt(o).toLowerCase())}function Qs(o){return o=Dt(o),o&&o.replace(ws,Gh).replace(Si,"")}function Ba(o,u,p){o=Dt(o),u=xr(u);var T=o.length;p=p===t?T:Ni(We(p),0,T);var S=p;return p-=u.length,p>=0&&o.slice(p,S)==u}function za(o){return o=Dt(o),o&&qi.test(o)?o.replace(Hi,nm):o}function $c(o){return o=Dt(o),o&&_n.test(o)?o.replace(dn,"\\$&"):o}var Yc=hr(function(o,u,p){return o+(p?"-":"")+u.toLowerCase()}),ja=hr(function(o,u,p){return o+(p?" ":"")+u.toLowerCase()}),a0=$r("toLowerCase");function Wy(o,u,p){o=Dt(o),u=We(u);var T=u?es(o):0;if(!u||T>=u)return o;var S=(u-T)/2;return bc(Ds(S),p)+o+bc(wl(S),p)}function Xc(o,u,p){o=Dt(o),u=We(u);var T=u?es(o):0;return u&&T<u?o+bc(u-T,p):o}function o0(o,u,p){o=Dt(o),u=We(u);var T=u?es(o):0;return u&&T<u?bc(u-T,p)+o:o}function Zy(o,u,p){return p||u==null?u=0:u&&(u=+u),Ao(Dt(o).replace(_r,""),u||0)}function ed(o,u,p){return(p?fr(o,u,p):u===t)?u=1:u=We(u),fg(Dt(o),u)}function Jy(){var o=arguments,u=Dt(o[0]);return o.length<3?u:u.replace(o[1],o[2])}var l0=hr(function(o,u,p){return o+(p?"_":"")+u.toLowerCase()});function td(o,u,p){return p&&typeof p!="number"&&fr(o,u,p)&&(u=p=t),p=p===t?ue:p>>>0,p?(o=Dt(o),o&&(typeof u=="string"||u!=null&&!Qf(u))&&(u=xr(u),!u&&ya(o))?Ra(ai(o),0,p):o.split(u,p)):[]}var nd=hr(function(o,u,p){return o+(p?" ":"")+c(u)});function ev(o,u,p){return o=Dt(o),p=p==null?0:Ni(We(p),0,o.length),u=xr(u),o.slice(p,p+u.length)==u}function Wc(o,u,p){var T=I.templateSettings;p&&fr(o,u,p)&&(u=t),o=Dt(o),u=$f({},u,T,wf);var S=$f({},u.imports,T.imports,wf),D=On(S),k=pn(S,D),q,Z,pe=0,ye=u.interpolate||so,_e="__p += '",xe=$h((u.escape||so).source+"|"+ye.source+"|"+(ye===ro?Gi:so).source+"|"+(u.evaluate||so).source+"|$","g"),Pe="//# sourceURL="+(Ot.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fu+"]")+`
`;o.replace(xe,function(Qe,mt,Rt,Vi,Jr,Ui){return Rt||(Rt=Vi),_e+=o.slice(pe,Ui).replace(Mh,rm),mt&&(q=!0,_e+=`' +
__e(`+mt+`) +
'`),Jr&&(Z=!0,_e+=`';
`+Jr+`;
__p += '`),Rt&&(_e+=`' +
((__t = (`+Rt+`)) == null ? '' : __t) +
'`),pe=Ui+Qe.length,Qe}),_e+=`';
`;var Ge=Ot.call(u,"variable")&&u.variable;if(!Ge)_e=`with (obj) {
`+_e+`
}
`;else if(ha.test(Ge))throw new qe(y);_e=(Z?_e.replace(Ou,""):_e).replace(Du,"$1").replace(Nu,"$1;"),_e="function("+(Ge||"obj")+`) {
`+(Ge?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(Z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var at=m(function(){return bt(D,Pe+"return "+_e).apply(t,k)});if(at.source=_e,xn(at))throw at;return at}function lp(o){return Dt(o).toLowerCase()}function rd(o){return Dt(o).toUpperCase()}function tv(o,u,p){if(o=Dt(o),o&&(p||u===t))return gt(o);if(!o||!(u=xr(u)))return o;var T=ai(o),S=ai(u),D=zn(T,S),k=Ii(T,S)+1;return Ra(T,D,k).join("")}function u0(o,u,p){if(o=Dt(o),o&&(p||u===t))return o.slice(0,Fd(o)+1);if(!o||!(u=xr(u)))return o;var T=ai(o),S=Ii(T,ai(u))+1;return Ra(T,0,S).join("")}function id(o,u,p){if(o=Dt(o),o&&(p||u===t))return o.replace(_r,"");if(!o||!(u=xr(u)))return o;var T=ai(o),S=zn(T,ai(u));return Ra(T,S).join("")}function n(o,u){var p=F,T=Q;if(rn(u)){var S="separator"in u?u.separator:S;p="length"in u?We(u.length):p,T="omission"in u?xr(u.omission):T}o=Dt(o);var D=o.length;if(ya(o)){var k=ai(o);D=k.length}if(p>=D)return o;var q=p-es(T);if(q<1)return T;var Z=k?Ra(k,0,q).join(""):o.slice(0,q);if(S===t)return Z+T;if(k&&(q+=Z.length-q),Qf(S)){if(o.slice(q).search(S)){var pe,ye=Z;for(S.global||(S=$h(S.source,Dt(bi.exec(S))+"g")),S.lastIndex=0;pe=S.exec(ye);)var _e=pe.index;Z=Z.slice(0,_e===t?q:_e)}}else if(o.indexOf(xr(S),q)!=q){var xe=Z.lastIndexOf(S);xe>-1&&(Z=Z.slice(0,xe))}return Z+T}function i(o){return o=Dt(o),o&&Mu.test(o)?o.replace(Fi,om):o}var a=hr(function(o,u,p){return o+(p?" ":"")+u.toUpperCase()}),c=$r("toUpperCase");function g(o,u,p){return o=Dt(o),u=p?t:u,u===t?im(o)?T_(o):yl(o):o.match(u)||[]}var m=tt(function(o,u){try{return $n(o,t,u)}catch(p){return xn(p)?p:new qe(p)}}),b=Zt(function(o,u){return or(u,function(p){p=Lt(p),Di(o,p,ka(o[p],o))}),o});function C(o){var u=o==null?0:o.length,p=ke();return o=u?qt(o,function(T){if(typeof T[1]!="function")throw new Gr(d);return[p(T[0]),T[1]]}):[],tt(function(T){for(var S=-1;++S<u;){var D=o[S];if($n(D[0],this,T))return $n(D[1],this,T)}})}function V(o){return Tm(tr(o,R))}function re(o){return function(){return o}}function de(o,u){return o==null||o!==o?u:o}var me=rs(),ae=rs(!0);function ie(o){return o}function ze(o){return ag(typeof o=="function"?o:tr(o,R))}function Be(o){return lg(tr(o,R))}function jt(o,u){return hf(o,tr(u,R))}var W=tt(function(o,u){return function(p){return Do(p,o,u)}}),G=tt(function(o,u){return function(p){return Do(o,p,u)}});function te(o,u,p){var T=On(u),S=Sa(u,T);p==null&&!(rn(u)&&(S.length||!T.length))&&(p=u,u=o,o=this,S=Sa(u,On(u)));var D=!(rn(p)&&"chain"in p)||!!p.chain,k=Li(o);return or(S,function(q){var Z=u[q];o[q]=Z,k&&(o.prototype[q]=function(){var pe=this.__chain__;if(D||pe){var ye=o(this.__wrapped__),_e=ye.__actions__=Rn(this.__actions__);return _e.push({func:Z,args:arguments,thisArg:o}),ye.__chain__=pe,ye}return Z.apply(o,si([this.value()],arguments))})}),o}function ge(){return $t._===this&&($t._=El),this}function Oe(){}function st(o){return o=We(o),tt(function(u){return ug(u,o)})}var Le=wc(qt),je=wc(pl),qn=wc(ml);function St(o){return Cf(o)?w(Lt(o)):Im(o)}function Fa(o){return function(u){return o==null?t:fi(o,u)}}var c0=Ia(),OR=Ia(!0);function h0(){return[]}function f0(){return!1}function DR(){return{}}function NR(){return""}function MR(){return!0}function PR(o,u){if(o=We(o),o<1||o>Ne)return[];var p=ue,T=en(o,ue);u=ke(u),o-=ue;for(var S=ct(T,u);++p<o;)u(p);return S}function LR(o){return Ke(o)?qt(o,Lt):dr(o)?[o]:Rn(as(Dt(o)))}function kR(o){var u=++Ci;return Dt(o)+u}var VR=Dl(function(o,u){return o+u},0),UR=Tf("ceil"),BR=Dl(function(o,u){return o/u},1),zR=Tf("floor");function jR(o){return o&&o.length?Mi(o,ie,lc):t}function FR(o,u){return o&&o.length?Mi(o,ke(u,2),lc):t}function HR(o){return E(o,ie)}function qR(o,u){return E(o,ke(u,2))}function GR(o){return o&&o.length?Mi(o,ie,cf):t}function QR(o,u){return o&&o.length?Mi(o,ke(u,2),cf):t}var KR=Dl(function(o,u){return o*u},1),$R=Tf("round"),YR=Dl(function(o,u){return o-u},0);function XR(o){return o&&o.length?Ae(o,ie):0}function WR(o,u){return o&&o.length?Ae(o,ke(u,2)):0}return I.after=k_,I.ary=Sy,I.assign=K_,I.assignIn=jy,I.assignInWith=$f,I.assignWith=$_,I.at=Y_,I.before=Vc,I.bind=ka,I.bindAll=b,I.bindKey=Bf,I.castArray=z_,I.chain=Hl,I.chunk=x_,I.compact=Zm,I.concat=Jm,I.cond=C,I.conforms=V,I.constant=re,I.countBy=ql,I.create=X_,I.curry=Uc,I.curryRight=zf,I.debounce=Va,I.defaults=W_,I.defaultsDeep=Fy,I.defer=ls,I.delay=Bc,I.difference=nn,I.differenceBy=Dr,I.differenceWith=Fs,I.drop=ey,I.dropRight=ty,I.dropRightWhile=O_,I.dropWhile=Cg,I.fill=Yr,I.filter=dy,I.flatMap=Fg,I.flatMapDeep=M_,I.flatMapDepth=P_,I.flatten=Nr,I.flattenDeep=ny,I.flattenDepth=Oa,I.flip=V_,I.flow=me,I.flowRight=ae,I.fromPairs=Bo,I.functions=qy,I.functionsIn=Yf,I.groupBy=my,I.initial=Dg,I.intersection=os,I.intersectionBy=ry,I.intersectionWith=Ll,I.invert=Gy,I.invertBy=Qy,I.invokeMap=kf,I.iteratee=ze,I.keyBy=yy,I.keys=On,I.keysIn=Hn,I.map=kc,I.mapKeys=e0,I.mapValues=t0,I.matches=Be,I.matchesProperty=jt,I.memoize=zc,I.merge=n0,I.mergeWith=Kc,I.method=W,I.methodOf=G,I.mixin=te,I.negate=jc,I.nthArg=st,I.omit=Xf,I.omitBy=tp,I.once=Ry,I.orderBy=vy,I.over=Le,I.overArgs=Iy,I.overEvery=je,I.overSome=qn,I.partial=Gg,I.partialRight=jf,I.partition=_y,I.pick=r0,I.pickBy=Wl,I.property=St,I.propertyOf=Fa,I.pull=sy,I.pullAll=Vl,I.pullAllBy=ay,I.pullAllWith=Pf,I.pullAt=oy,I.range=c0,I.rangeRight=OR,I.rearg=Cy,I.reject=Vf,I.remove=D_,I.rest=xy,I.reverse=Ng,I.sampleSize=by,I.set=Ky,I.setWith=$y,I.shuffle=Kt,I.slice=Ut,I.sortBy=Ay,I.sortedUniq=Ul,I.sortedUniqBy=Mg,I.split=td,I.spread=U_,I.tail=qs,I.take=un,I.takeRight=Na,I.takeRightWhile=zo,I.takeWhile=Pg,I.tap=Bg,I.throttle=Qg,I.thru=ir,I.toArray=Zr,I.toPairs=np,I.toPairsIn=rp,I.toPath=LR,I.toPlainObject=zy,I.transform=ip,I.unary=Kg,I.union=pi,I.unionBy=Bl,I.unionWith=Pc,I.uniq=Mr,I.uniqBy=Lg,I.uniqWith=kg,I.unset=Yy,I.unzip=zl,I.unzipWith=Lc,I.update=Wf,I.updateWith=s0,I.values=Zl,I.valuesIn=sp,I.without=Ma,I.words=g,I.wrap=B_,I.xor=Yn,I.xorBy=Pa,I.xorWith=jl,I.zip=Fl,I.zipObject=Vg,I.zipObjectDeep=Ug,I.zipWith=ly,I.entries=np,I.entriesIn=rp,I.extend=jy,I.extendWith=$f,te(I,I),I.add=VR,I.attempt=m,I.camelCase=Xy,I.capitalize=Jf,I.ceil=UR,I.clamp=ap,I.clone=Fc,I.cloneDeep=Oy,I.cloneDeepWith=lt,I.cloneWith=j_,I.conformsTo=$g,I.deburr=Qs,I.defaultTo=de,I.divide=BR,I.endsWith=Ba,I.eq=Pr,I.escape=za,I.escapeRegExp=$c,I.every=fy,I.find=gy,I.findIndex=gi,I.findKey=$l,I.findLast=jg,I.findLastIndex=xg,I.findLastKey=qc,I.floor=zR,I.forEach=py,I.forEachRight=Hg,I.forIn=Hy,I.forInRight=Z_,I.forOwn=Yl,I.forOwnRight=Gc,I.get=Qc,I.gt=Yg,I.gte=Dy,I.has=ep,I.hasIn=Xl,I.head=Hs,I.identity=ie,I.includes=Gl,I.indexOf=Og,I.inRange=Zf,I.invoke=J_,I.isArguments=Gs,I.isArray=Ke,I.isArrayBuffer=Ff,I.isArrayLike=Cn,I.isArrayLikeObject=cn,I.isBoolean=F_,I.isBuffer=Ua,I.isDate=Ny,I.isElement=My,I.isEmpty=Hf,I.isEqual=zt,I.isEqualWith=Xg,I.isError=xn,I.isFinite=H_,I.isFunction=Li,I.isInteger=qf,I.isLength=jo,I.isMap=Gf,I.isMatch=Wg,I.isMatchWith=q_,I.isNaN=Py,I.isNative=G_,I.isNil=Q_,I.isNull=Ly,I.isNumber=ky,I.isObject=rn,I.isObjectLike=sn,I.isPlainObject=mi,I.isRegExp=Qf,I.isSafeInteger=Zg,I.isSet=Vy,I.isString=Kf,I.isSymbol=dr,I.isTypedArray=Ql,I.isUndefined=ki,I.isWeakMap=Jg,I.isWeakSet=Uy,I.join=Mc,I.kebabCase=Yc,I.last=rr,I.lastIndexOf=kl,I.lowerCase=ja,I.lowerFirst=a0,I.lt=By,I.lte=Hc,I.max=jR,I.maxBy=FR,I.mean=HR,I.meanBy=qR,I.min=GR,I.minBy=QR,I.stubArray=h0,I.stubFalse=f0,I.stubObject=DR,I.stubString=NR,I.stubTrue=MR,I.multiply=KR,I.nth=iy,I.noConflict=ge,I.noop=Oe,I.now=Uf,I.pad=Wy,I.padEnd=Xc,I.padStart=o0,I.parseInt=Zy,I.random=op,I.reduce=Ey,I.reduceRight=Ty,I.repeat=ed,I.replace=Jy,I.result=i0,I.round=$R,I.runInContext=Y,I.sample=wy,I.size=qg,I.snakeCase=l0,I.some=L_,I.sortedIndex=Yt,I.sortedIndexBy=ot,I.sortedIndexOf=vt,I.sortedLastIndex=Bt,I.sortedLastIndexBy=Xr,I.sortedLastIndexOf=Da,I.startCase=nd,I.startsWith=ev,I.subtract=YR,I.sum=XR,I.sumBy=WR,I.template=Wc,I.times=PR,I.toFinite=us,I.toInteger=We,I.toLength=cs,I.toLower=lp,I.toNumber=yi,I.toSafeInteger=Kl,I.toString=Dt,I.toUpper=rd,I.trim=tv,I.trimEnd=u0,I.trimStart=id,I.truncate=n,I.unescape=i,I.uniqueId=kR,I.upperCase=a,I.upperFirst=c,I.each=py,I.eachRight=Hg,I.first=Hs,te(I,function(){var o={};return nr(I,function(u,p){Ot.call(I.prototype,p)||(o[p]=u)}),o}(),{chain:!1}),I.VERSION=s,or(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){I[o].placeholder=I}),or(["drop","take"],function(o,u){it.prototype[o]=function(p){p=p===t?1:Wt(We(p),0);var T=this.__filtered__&&!u?new it(this):this.clone();return T.__filtered__?T.__takeCount__=en(p,T.__takeCount__):T.__views__.push({size:en(p,ue),type:o+(T.__dir__<0?"Right":"")}),T},it.prototype[o+"Right"]=function(p){return this.reverse()[o](p).reverse()}}),or(["filter","map","takeWhile"],function(o,u){var p=u+1,T=p==fn||p==fe;it.prototype[o]=function(S){var D=this.clone();return D.__iteratees__.push({iteratee:ke(S,3),type:p}),D.__filtered__=D.__filtered__||T,D}}),or(["head","last"],function(o,u){var p="take"+(u?"Right":"");it.prototype[o]=function(){return this[p](1).value()[0]}}),or(["initial","tail"],function(o,u){var p="drop"+(u?"":"Right");it.prototype[o]=function(){return this.__filtered__?new it(this):this[p](1)}}),it.prototype.compact=function(){return this.filter(ie)},it.prototype.find=function(o){return this.filter(o).head()},it.prototype.findLast=function(o){return this.reverse().find(o)},it.prototype.invokeMap=tt(function(o,u){return typeof o=="function"?new it(this):this.map(function(p){return Do(p,o,u)})}),it.prototype.reject=function(o){return this.filter(jc(ke(o)))},it.prototype.slice=function(o,u){o=We(o);var p=this;return p.__filtered__&&(o>0||u<0)?new it(p):(o<0?p=p.takeRight(-o):o&&(p=p.drop(o)),u!==t&&(u=We(u),p=u<0?p.dropRight(-u):p.take(u-o)),p)},it.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},it.prototype.toArray=function(){return this.take(ue)},nr(it.prototype,function(o,u){var p=/^(?:filter|find|map|reject)|While$/.test(u),T=/^(?:head|last)$/.test(u),S=I[T?"take"+(u=="last"?"Right":""):u],D=T||/^find/.test(u);S&&(I.prototype[u]=function(){var k=this.__wrapped__,q=T?[1]:arguments,Z=k instanceof it,pe=q[0],ye=Z||Ke(k),_e=function(mt){var Rt=S.apply(I,si([mt],q));return T&&xe?Rt[0]:Rt};ye&&p&&typeof pe=="function"&&pe.length!=1&&(Z=ye=!1);var xe=this.__chain__,Pe=!!this.__actions__.length,Ge=D&&!xe,at=Z&&!Pe;if(!D&&ye){k=at?k:new it(this);var Qe=o.apply(k,q);return Qe.__actions__.push({func:ir,args:[_e],thisArg:t}),new Rr(Qe,xe)}return Ge&&at?o.apply(this,q):(Qe=this.thru(_e),Ge?T?Qe.value()[0]:Qe.value():Qe)})}),or(["pop","push","shift","sort","splice","unshift"],function(o){var u=Yh[o],p=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",T=/^(?:pop|shift)$/.test(o);I.prototype[o]=function(){var S=arguments;if(T&&!this.__chain__){var D=this.value();return u.apply(Ke(D)?D:[],S)}return this[p](function(k){return u.apply(Ke(k)?k:[],S)})}}),nr(it.prototype,function(o,u){var p=I[u];if(p){var T=p.name+"";Ot.call(ci,T)||(ci[T]=[]),ci[T].push({name:u,func:p})}}),ci[ln(t,ne).name]=[{name:"wrapper",func:t}],it.prototype.clone=rc,it.prototype.reverse=Jh,it.prototype.value=Ro,I.prototype.at=uy,I.prototype.chain=Wr,I.prototype.commit=cy,I.prototype.next=hy,I.prototype.plant=La,I.prototype.reverse=Lf,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=zg,I.prototype.first=I.prototype.head,wo&&(I.prototype[wo]=N_),I},_a=vl();Un?((Un.exports=_a)._=_a,xs._=_a):$t._=_a}).call(E3)}(yp,yp.exports)),yp.exports}var w3=T3(),tm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vh=typeof window>"u"||"Deno"in globalThis;function Ei(){}function b3(r,e){return typeof r=="function"?r(e):r}function hE(r){return typeof r=="number"&&r>=0&&r!==1/0}function gR(r,e){return Math.max(r+(e||0)-Date.now(),0)}function dd(r,e){return typeof r=="function"?r(e):r}function Xs(r,e){return typeof r=="function"?r(e):r}function Nw(r,e){const{type:t="all",exact:s,fetchStatus:l,predicate:h,queryKey:d,stale:y}=r;if(d){if(s){if(e.queryHash!==ST(d,e.options))return!1}else if(!Vp(e.queryKey,d))return!1}if(t!=="all"){const v=e.isActive();if(t==="active"&&!v||t==="inactive"&&v)return!1}return!(typeof y=="boolean"&&e.isStale()!==y||l&&l!==e.state.fetchStatus||h&&!h(e))}function Mw(r,e){const{exact:t,status:s,predicate:l,mutationKey:h}=r;if(h){if(!e.options.mutationKey)return!1;if(t){if(kp(e.options.mutationKey)!==kp(h))return!1}else if(!Vp(e.options.mutationKey,h))return!1}return!(s&&e.state.status!==s||l&&!l(e))}function ST(r,e){return((e==null?void 0:e.queryKeyHashFn)||kp)(r)}function kp(r){return JSON.stringify(r,(e,t)=>dE(t)?Object.keys(t).sort().reduce((s,l)=>(s[l]=t[l],s),{}):t)}function Vp(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?Object.keys(e).every(t=>Vp(r[t],e[t])):!1}function pR(r,e){if(r===e)return r;const t=Pw(r)&&Pw(e);if(t||dE(r)&&dE(e)){const s=t?r:Object.keys(r),l=s.length,h=t?e:Object.keys(e),d=h.length,y=t?[]:{};let v=0;for(let _=0;_<d;_++){const A=t?_:h[_];(!t&&s.includes(A)||t)&&r[A]===void 0&&e[A]===void 0?(y[A]=void 0,v++):(y[A]=pR(r[A],e[A]),y[A]===r[A]&&r[A]!==void 0&&v++)}return l===d&&v===l?r:y}return e}function fE(r,e){if(!e||Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(r[t]!==e[t])return!1;return!0}function Pw(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function dE(r){if(!Lw(r))return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Lw(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function Lw(r){return Object.prototype.toString.call(r)==="[object Object]"}function A3(r){return new Promise(e=>{setTimeout(e,r)})}function gE(r,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(r,e):t.structuralSharing!==!1?pR(r,e):e}function S3(r,e,t=0){const s=[...r,e];return t&&s.length>t?s.slice(1):s}function R3(r,e,t=0){const s=[e,...r];return t&&s.length>t?s.slice(0,-1):s}var RT=Symbol();function mR(r,e){return!r.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!r.queryFn||r.queryFn===RT?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}function I3(r,e){return typeof r=="function"?r(...e):!!r}var ih,iu,gd,zw,C3=(zw=class extends tm{constructor(){super();Ye(this,ih);Ye(this,iu);Ye(this,gd);Me(this,gd,e=>{if(!vh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){$(this,iu)||this.setEventListener($(this,gd))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,iu))==null||e.call(this),Me(this,iu,void 0))}setEventListener(e){var t;Me(this,gd,e),(t=$(this,iu))==null||t.call(this),Me(this,iu,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){$(this,ih)!==e&&(Me(this,ih,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof $(this,ih)=="boolean"?$(this,ih):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ih=new WeakMap,iu=new WeakMap,gd=new WeakMap,zw),IT=new C3,pd,su,md,jw,x3=(jw=class extends tm{constructor(){super();Ye(this,pd,!0);Ye(this,su);Ye(this,md);Me(this,md,e=>{if(!vh&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){$(this,su)||this.setEventListener($(this,md))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,su))==null||e.call(this),Me(this,su,void 0))}setEventListener(e){var t;Me(this,md,e),(t=$(this,su))==null||t.call(this),Me(this,su,e(this.setOnline.bind(this)))}setOnline(e){$(this,pd)!==e&&(Me(this,pd,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return $(this,pd)}},pd=new WeakMap,su=new WeakMap,md=new WeakMap,jw),Kv=new x3;function pE(){let r,e;const t=new Promise((l,h)=>{r=l,e=h});t.status="pending",t.catch(()=>{});function s(l){Object.assign(t,l),delete t.resolve,delete t.reject}return t.resolve=l=>{s({status:"fulfilled",value:l}),r(l)},t.reject=l=>{s({status:"rejected",reason:l}),e(l)},t}function O3(r){return Math.min(1e3*2**r,3e4)}function yR(r){return(r??"online")==="online"?Kv.isOnline():!0}var vR=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function k0(r){return r instanceof vR}function _R(r){let e=!1,t=0,s=!1,l;const h=pE(),d=X=>{var H;s||(x(new vR(X)),(H=r.abort)==null||H.call(r))},y=()=>{e=!0},v=()=>{e=!1},_=()=>IT.isFocused()&&(r.networkMode==="always"||Kv.isOnline())&&r.canRun(),A=()=>yR(r.networkMode)&&r.canRun(),R=X=>{var H;s||(s=!0,(H=r.onSuccess)==null||H.call(r,X),l==null||l(),h.resolve(X))},x=X=>{var H;s||(s=!0,(H=r.onError)==null||H.call(r,X),l==null||l(),h.reject(X))},L=()=>new Promise(X=>{var H;l=ne=>{(s||_())&&X(ne)},(H=r.onPause)==null||H.call(r)}).then(()=>{var X;l=void 0,s||(X=r.onContinue)==null||X.call(r)}),z=()=>{if(s)return;let X;const H=t===0?r.initialPromise:void 0;try{X=H??r.fn()}catch(ne){X=Promise.reject(ne)}Promise.resolve(X).then(R).catch(ne=>{var Ie;if(s)return;const ce=r.retry??(vh?0:3),se=r.retryDelay??O3,Ee=typeof se=="function"?se(t,ne):se,we=ce===!0||typeof ce=="number"&&t<ce||typeof ce=="function"&&ce(t,ne);if(e||!we){x(ne);return}t++,(Ie=r.onFail)==null||Ie.call(r,t,ne),A3(Ee).then(()=>_()?void 0:L()).then(()=>{e?x(ne):z()})})};return{promise:h,cancel:d,continue:()=>(l==null||l(),h),cancelRetry:y,continueRetry:v,canStart:A,start:()=>(A()?z():L().then(z),h)}}var D3=r=>setTimeout(r,0);function N3(){let r=[],e=0,t=y=>{y()},s=y=>{y()},l=D3;const h=y=>{e?r.push(y):l(()=>{t(y)})},d=()=>{const y=r;r=[],y.length&&l(()=>{s(()=>{y.forEach(v=>{t(v)})})})};return{batch:y=>{let v;e++;try{v=y()}finally{e--,e||d()}return v},batchCalls:y=>(...v)=>{h(()=>{y(...v)})},schedule:h,setNotifyFunction:y=>{t=y},setBatchNotifyFunction:y=>{s=y},setScheduler:y=>{l=y}}}var pr=N3(),sh,Fw,ER=(Fw=class{constructor(){Ye(this,sh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hE(this.gcTime)&&Me(this,sh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(vh?1/0:5*60*1e3))}clearGcTimeout(){$(this,sh)&&(clearTimeout($(this,sh)),Me(this,sh,void 0))}},sh=new WeakMap,Fw),yd,vd,hs,ah,Vr,Up,oh,$s,Ho,Hw,M3=(Hw=class extends ER{constructor(e){super();Ye(this,$s);Ye(this,yd);Ye(this,vd);Ye(this,hs);Ye(this,ah);Ye(this,Vr);Ye(this,Up);Ye(this,oh);Me(this,oh,!1),Me(this,Up,e.defaultOptions),this.setOptions(e.options),this.observers=[],Me(this,ah,e.client),Me(this,hs,$(this,ah).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Me(this,yd,P3(this.options)),this.state=e.state??$(this,yd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=$(this,Vr))==null?void 0:e.promise}setOptions(e){this.options={...$(this,Up),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,hs).remove(this)}setData(e,t){const s=gE(this.state.data,e,this.options);return It(this,$s,Ho).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){It(this,$s,Ho).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,l;const t=(s=$(this,Vr))==null?void 0:s.promise;return(l=$(this,Vr))==null||l.cancel(e),t?t.then(Ei).catch(Ei):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,yd))}isActive(){return this.observers.some(e=>Xs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===RT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!gR(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=$(this,Vr))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=$(this,Vr))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),$(this,hs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||($(this,Vr)&&($(this,oh)?$(this,Vr).cancel({revert:!0}):$(this,Vr).cancelRetry()),this.scheduleGc()),$(this,hs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||It(this,$s,Ho).call(this,{type:"invalidate"})}fetch(e,t){var v,_,A;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if($(this,Vr))return $(this,Vr).continueRetry(),$(this,Vr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const R=this.observers.find(x=>x.options.queryFn);R&&this.setOptions(R.options)}const s=new AbortController,l=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(Me(this,oh,!0),s.signal)})},h=()=>{const R=mR(this.options,t),x={client:$(this,ah),queryKey:this.queryKey,meta:this.meta};return l(x),Me(this,oh,!1),this.options.persister?this.options.persister(R,x,this):R(x)},d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:$(this,ah),state:this.state,fetchFn:h};l(d),(v=this.options.behavior)==null||v.onFetch(d,this),Me(this,vd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((_=d.fetchOptions)==null?void 0:_.meta))&&It(this,$s,Ho).call(this,{type:"fetch",meta:(A=d.fetchOptions)==null?void 0:A.meta});const y=R=>{var x,L,z,X;k0(R)&&R.silent||It(this,$s,Ho).call(this,{type:"error",error:R}),k0(R)||((L=(x=$(this,hs).config).onError)==null||L.call(x,R,this),(X=(z=$(this,hs).config).onSettled)==null||X.call(z,this.state.data,R,this)),this.scheduleGc()};return Me(this,Vr,_R({initialPromise:t==null?void 0:t.initialPromise,fn:d.fetchFn,abort:s.abort.bind(s),onSuccess:R=>{var x,L,z,X;if(R===void 0){y(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(R)}catch(H){y(H);return}(L=(x=$(this,hs).config).onSuccess)==null||L.call(x,R,this),(X=(z=$(this,hs).config).onSettled)==null||X.call(z,R,this.state.error,this),this.scheduleGc()},onError:y,onFail:(R,x)=>{It(this,$s,Ho).call(this,{type:"failed",failureCount:R,error:x})},onPause:()=>{It(this,$s,Ho).call(this,{type:"pause"})},onContinue:()=>{It(this,$s,Ho).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),$(this,Vr).start()}},yd=new WeakMap,vd=new WeakMap,hs=new WeakMap,ah=new WeakMap,Vr=new WeakMap,Up=new WeakMap,oh=new WeakMap,$s=new WeakSet,Ho=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...TR(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=e.error;return k0(l)&&l.revert&&$(this,vd)?{...$(this,vd),fetchStatus:"idle"}:{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),pr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,hs).notify({query:this,type:"updated",action:e})})},Hw);function TR(r,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yR(e.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function P3(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,t=e!==void 0,s=t?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var qa,qw,L3=(qw=class extends tm{constructor(e={}){super();Ye(this,qa);this.config=e,Me(this,qa,new Map)}build(e,t,s){const l=t.queryKey,h=t.queryHash??ST(l,t);let d=this.get(h);return d||(d=new M3({client:e,queryKey:l,queryHash:h,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(d)),d}add(e){$(this,qa).has(e.queryHash)||($(this,qa).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=$(this,qa).get(e.queryHash);t&&(e.destroy(),t===e&&$(this,qa).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){pr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,qa).get(e)}getAll(){return[...$(this,qa).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Nw(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>Nw(e,s)):t}notify(e){pr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){pr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){pr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},qa=new WeakMap,qw),Ga,ei,lh,Qa,eu,Gw,k3=(Gw=class extends ER{constructor(e){super();Ye(this,Qa);Ye(this,Ga);Ye(this,ei);Ye(this,lh);this.mutationId=e.mutationId,Me(this,ei,e.mutationCache),Me(this,Ga,[]),this.state=e.state||V3(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){$(this,Ga).includes(e)||($(this,Ga).push(e),this.clearGcTimeout(),$(this,ei).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Me(this,Ga,$(this,Ga).filter(t=>t!==e)),this.scheduleGc(),$(this,ei).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){$(this,Ga).length||(this.state.status==="pending"?this.scheduleGc():$(this,ei).remove(this))}continue(){var e;return((e=$(this,lh))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var h,d,y,v,_,A,R,x,L,z,X,H,ne,ce,se,Ee,we,Ie,j,N;const t=()=>{It(this,Qa,eu).call(this,{type:"continue"})};Me(this,lh,_R({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,F)=>{It(this,Qa,eu).call(this,{type:"failed",failureCount:M,error:F})},onPause:()=>{It(this,Qa,eu).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,ei).canRun(this)}));const s=this.state.status==="pending",l=!$(this,lh).canStart();try{if(s)t();else{It(this,Qa,eu).call(this,{type:"pending",variables:e,isPaused:l}),await((d=(h=$(this,ei).config).onMutate)==null?void 0:d.call(h,e,this));const F=await((v=(y=this.options).onMutate)==null?void 0:v.call(y,e));F!==this.state.context&&It(this,Qa,eu).call(this,{type:"pending",context:F,variables:e,isPaused:l})}const M=await $(this,lh).start();return await((A=(_=$(this,ei).config).onSuccess)==null?void 0:A.call(_,M,e,this.state.context,this)),await((x=(R=this.options).onSuccess)==null?void 0:x.call(R,M,e,this.state.context)),await((z=(L=$(this,ei).config).onSettled)==null?void 0:z.call(L,M,null,this.state.variables,this.state.context,this)),await((H=(X=this.options).onSettled)==null?void 0:H.call(X,M,null,e,this.state.context)),It(this,Qa,eu).call(this,{type:"success",data:M}),M}catch(M){try{throw await((ce=(ne=$(this,ei).config).onError)==null?void 0:ce.call(ne,M,e,this.state.context,this)),await((Ee=(se=this.options).onError)==null?void 0:Ee.call(se,M,e,this.state.context)),await((Ie=(we=$(this,ei).config).onSettled)==null?void 0:Ie.call(we,void 0,M,this.state.variables,this.state.context,this)),await((N=(j=this.options).onSettled)==null?void 0:N.call(j,void 0,M,e,this.state.context)),M}finally{It(this,Qa,eu).call(this,{type:"error",error:M})}}finally{$(this,ei).runNext(this)}}},Ga=new WeakMap,ei=new WeakMap,lh=new WeakMap,Qa=new WeakSet,eu=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),pr.batch(()=>{$(this,Ga).forEach(s=>{s.onMutationUpdate(e)}),$(this,ei).notify({mutation:this,type:"updated",action:e})})},Gw);function V3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qo,Ys,Bp,Qw,U3=(Qw=class extends tm{constructor(e={}){super();Ye(this,qo);Ye(this,Ys);Ye(this,Bp);this.config=e,Me(this,qo,new Set),Me(this,Ys,new Map),Me(this,Bp,0)}build(e,t,s){const l=new k3({mutationCache:this,mutationId:++nv(this,Bp)._,options:e.defaultMutationOptions(t),state:s});return this.add(l),l}add(e){$(this,qo).add(e);const t=hv(e);if(typeof t=="string"){const s=$(this,Ys).get(t);s?s.push(e):$(this,Ys).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if($(this,qo).delete(e)){const t=hv(e);if(typeof t=="string"){const s=$(this,Ys).get(t);if(s)if(s.length>1){const l=s.indexOf(e);l!==-1&&s.splice(l,1)}else s[0]===e&&$(this,Ys).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=hv(e);if(typeof t=="string"){const s=$(this,Ys).get(t),l=s==null?void 0:s.find(h=>h.state.status==="pending");return!l||l===e}else return!0}runNext(e){var s;const t=hv(e);if(typeof t=="string"){const l=(s=$(this,Ys).get(t))==null?void 0:s.find(h=>h!==e&&h.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pr.batch(()=>{$(this,qo).forEach(e=>{this.notify({type:"removed",mutation:e})}),$(this,qo).clear(),$(this,Ys).clear()})}getAll(){return Array.from($(this,qo))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Mw(t,s))}findAll(e={}){return this.getAll().filter(t=>Mw(e,t))}notify(e){pr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return pr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ei))))}},qo=new WeakMap,Ys=new WeakMap,Bp=new WeakMap,Qw);function hv(r){var e;return(e=r.options.scope)==null?void 0:e.id}function $v(r){return{onFetch:(e,t)=>{var A,R,x,L,z;const s=e.options,l=(x=(R=(A=e.fetchOptions)==null?void 0:A.meta)==null?void 0:R.fetchMore)==null?void 0:x.direction,h=((L=e.state.data)==null?void 0:L.pages)||[],d=((z=e.state.data)==null?void 0:z.pageParams)||[];let y={pages:[],pageParams:[]},v=0;const _=async()=>{let X=!1;const H=se=>{Object.defineProperty(se,"signal",{enumerable:!0,get:()=>(e.signal.aborted?X=!0:e.signal.addEventListener("abort",()=>{X=!0}),e.signal)})},ne=mR(e.options,e.fetchOptions),ce=async(se,Ee,we)=>{if(X)return Promise.reject();if(Ee==null&&se.pages.length)return Promise.resolve(se);const Ie={client:e.client,queryKey:e.queryKey,pageParam:Ee,direction:we?"backward":"forward",meta:e.options.meta};H(Ie);const j=await ne(Ie),{maxPages:N}=e.options,M=we?R3:S3;return{pages:M(se.pages,j,N),pageParams:M(se.pageParams,Ee,N)}};if(l&&h.length){const se=l==="backward",Ee=se?wR:mE,we={pages:h,pageParams:d},Ie=Ee(s,we);y=await ce(we,Ie,se)}else{const se=r??h.length;do{const Ee=v===0?d[0]??s.initialPageParam:mE(s,y);if(v>0&&Ee==null)break;y=await ce(y,Ee),v++}while(v<se)}return y};e.options.persister?e.fetchFn=()=>{var X,H;return(H=(X=e.options).persister)==null?void 0:H.call(X,_,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=_}}}function mE(r,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?r.getNextPageParam(e[s],e,t[s],t):void 0}function wR(r,{pages:e,pageParams:t}){var s;return e.length>0?(s=r.getPreviousPageParam)==null?void 0:s.call(r,e[0],e,t[0],t):void 0}function B3(r,e){return e?mE(r,e)!=null:!1}function z3(r,e){return!e||!r.getPreviousPageParam?!1:wR(r,e)!=null}var bn,au,ou,_d,Ed,lu,Td,wd,Kw,j3=(Kw=class{constructor(r={}){Ye(this,bn);Ye(this,au);Ye(this,ou);Ye(this,_d);Ye(this,Ed);Ye(this,lu);Ye(this,Td);Ye(this,wd);Me(this,bn,r.queryCache||new L3),Me(this,au,r.mutationCache||new U3),Me(this,ou,r.defaultOptions||{}),Me(this,_d,new Map),Me(this,Ed,new Map),Me(this,lu,0)}mount(){nv(this,lu)._++,$(this,lu)===1&&(Me(this,Td,IT.subscribe(async r=>{r&&(await this.resumePausedMutations(),$(this,bn).onFocus())})),Me(this,wd,Kv.subscribe(async r=>{r&&(await this.resumePausedMutations(),$(this,bn).onOnline())})))}unmount(){var r,e;nv(this,lu)._--,$(this,lu)===0&&((r=$(this,Td))==null||r.call(this),Me(this,Td,void 0),(e=$(this,wd))==null||e.call(this),Me(this,wd,void 0))}isFetching(r){return $(this,bn).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return $(this,au).findAll({...r,status:"pending"}).length}getQueryData(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=$(this,bn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(r){const e=this.defaultQueryOptions(r),t=$(this,bn).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(r):(r.revalidateIfStale&&t.isStaleByTime(dd(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(r){return $(this,bn).findAll(r).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(r,e,t){const s=this.defaultQueryOptions({queryKey:r}),l=$(this,bn).get(s.queryHash),h=l==null?void 0:l.state.data,d=b3(e,h);if(d!==void 0)return $(this,bn).build(this,s).setData(d,{...t,manual:!0})}setQueriesData(r,e,t){return pr.batch(()=>$(this,bn).findAll(r).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=$(this,bn).get(e.queryHash))==null?void 0:t.state}removeQueries(r){const e=$(this,bn);pr.batch(()=>{e.findAll(r).forEach(t=>{e.remove(t)})})}resetQueries(r,e){const t=$(this,bn);return pr.batch(()=>(t.findAll(r).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...r},e)))}cancelQueries(r,e={}){const t={revert:!0,...e},s=pr.batch(()=>$(this,bn).findAll(r).map(l=>l.cancel(t)));return Promise.all(s).then(Ei).catch(Ei)}invalidateQueries(r,e={}){return pr.batch(()=>($(this,bn).findAll(r).forEach(t=>{t.invalidate()}),(r==null?void 0:r.refetchType)==="none"?Promise.resolve():this.refetchQueries({...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"},e)))}refetchQueries(r,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=pr.batch(()=>$(this,bn).findAll(r).filter(l=>!l.isDisabled()).map(l=>{let h=l.fetch(void 0,t);return t.throwOnError||(h=h.catch(Ei)),l.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(s).then(Ei)}fetchQuery(r){const e=this.defaultQueryOptions(r);e.retry===void 0&&(e.retry=!1);const t=$(this,bn).build(this,e);return t.isStaleByTime(dd(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(Ei).catch(Ei)}fetchInfiniteQuery(r){return r.behavior=$v(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(Ei).catch(Ei)}ensureInfiniteQueryData(r){return r.behavior=$v(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return Kv.isOnline()?$(this,au).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,bn)}getMutationCache(){return $(this,au)}getDefaultOptions(){return $(this,ou)}setDefaultOptions(r){Me(this,ou,r)}setQueryDefaults(r,e){$(this,_d).set(kp(r),{queryKey:r,defaultOptions:e})}getQueryDefaults(r){const e=[...$(this,_d).values()],t={};return e.forEach(s=>{Vp(r,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(r,e){$(this,Ed).set(kp(r),{mutationKey:r,defaultOptions:e})}getMutationDefaults(r){const e=[...$(this,Ed).values()],t={};return e.forEach(s=>{Vp(r,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(r){if(r._defaulted)return r;const e={...$(this,ou).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return e.queryHash||(e.queryHash=ST(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===RT&&(e.enabled=!1),e}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...$(this,ou).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){$(this,bn).clear(),$(this,au).clear()}},bn=new WeakMap,au=new WeakMap,ou=new WeakMap,_d=new WeakMap,Ed=new WeakMap,lu=new WeakMap,Td=new WeakMap,wd=new WeakMap,Kw),vi,Ct,zp,ti,uh,bd,uu,cu,jp,Ad,Sd,ch,hh,hu,Rd,Ft,vp,yE,vE,_E,EE,TE,wE,bE,AR,$w,bR=($w=class extends tm{constructor(e,t){super();Ye(this,Ft);Ye(this,vi);Ye(this,Ct);Ye(this,zp);Ye(this,ti);Ye(this,uh);Ye(this,bd);Ye(this,uu);Ye(this,cu);Ye(this,jp);Ye(this,Ad);Ye(this,Sd);Ye(this,ch);Ye(this,hh);Ye(this,hu);Ye(this,Rd,new Set);this.options=t,Me(this,vi,e),Me(this,cu,null),Me(this,uu,pE()),this.options.experimental_prefetchInRender||$(this,uu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,Ct).addObserver(this),kw($(this,Ct),this.options)?It(this,Ft,vp).call(this):this.updateResult(),It(this,Ft,EE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return AE($(this,Ct),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return AE($(this,Ct),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,It(this,Ft,TE).call(this),It(this,Ft,wE).call(this),$(this,Ct).removeObserver(this)}setOptions(e){const t=this.options,s=$(this,Ct);if(this.options=$(this,vi).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xs(this.options.enabled,$(this,Ct))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");It(this,Ft,bE).call(this),$(this,Ct).setOptions(this.options),t._defaulted&&!fE(this.options,t)&&$(this,vi).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,Ct),observer:this});const l=this.hasListeners();l&&Vw($(this,Ct),s,this.options,t)&&It(this,Ft,vp).call(this),this.updateResult(),l&&($(this,Ct)!==s||Xs(this.options.enabled,$(this,Ct))!==Xs(t.enabled,$(this,Ct))||dd(this.options.staleTime,$(this,Ct))!==dd(t.staleTime,$(this,Ct)))&&It(this,Ft,yE).call(this);const h=It(this,Ft,vE).call(this);l&&($(this,Ct)!==s||Xs(this.options.enabled,$(this,Ct))!==Xs(t.enabled,$(this,Ct))||h!==$(this,hu))&&It(this,Ft,_E).call(this,h)}getOptimisticResult(e){const t=$(this,vi).getQueryCache().build($(this,vi),e),s=this.createResult(t,e);return H3(this,s)&&(Me(this,ti,s),Me(this,bd,this.options),Me(this,uh,$(this,Ct).state)),s}getCurrentResult(){return $(this,ti)}trackResult(e,t){return new Proxy(e,{get:(s,l)=>(this.trackProp(l),t==null||t(l),Reflect.get(s,l))})}trackProp(e){$(this,Rd).add(e)}getCurrentQuery(){return $(this,Ct)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=$(this,vi).defaultQueryOptions(e),s=$(this,vi).getQueryCache().build($(this,vi),t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return It(this,Ft,vp).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,ti)))}createResult(e,t){var M;const s=$(this,Ct),l=this.options,h=$(this,ti),d=$(this,uh),y=$(this,bd),_=e!==s?e.state:$(this,zp),{state:A}=e;let R={...A},x=!1,L;if(t._optimisticResults){const F=this.hasListeners(),Q=!F&&kw(e,t),K=F&&Vw(e,s,t,l);(Q||K)&&(R={...R,...TR(A.data,e.options)}),t._optimisticResults==="isRestoring"&&(R.fetchStatus="idle")}let{error:z,errorUpdatedAt:X,status:H}=R;L=R.data;let ne=!1;if(t.placeholderData!==void 0&&L===void 0&&H==="pending"){let F;h!=null&&h.isPlaceholderData&&t.placeholderData===(y==null?void 0:y.placeholderData)?(F=h.data,ne=!0):F=typeof t.placeholderData=="function"?t.placeholderData((M=$(this,Sd))==null?void 0:M.state.data,$(this,Sd)):t.placeholderData,F!==void 0&&(H="success",L=gE(h==null?void 0:h.data,F,t),x=!0)}if(t.select&&L!==void 0&&!ne)if(h&&L===(d==null?void 0:d.data)&&t.select===$(this,jp))L=$(this,Ad);else try{Me(this,jp,t.select),L=t.select(L),L=gE(h==null?void 0:h.data,L,t),Me(this,Ad,L),Me(this,cu,null)}catch(F){Me(this,cu,F)}$(this,cu)&&(z=$(this,cu),L=$(this,Ad),X=Date.now(),H="error");const ce=R.fetchStatus==="fetching",se=H==="pending",Ee=H==="error",we=se&&ce,Ie=L!==void 0,N={status:H,fetchStatus:R.fetchStatus,isPending:se,isSuccess:H==="success",isError:Ee,isInitialLoading:we,isLoading:we,data:L,dataUpdatedAt:R.dataUpdatedAt,error:z,errorUpdatedAt:X,failureCount:R.fetchFailureCount,failureReason:R.fetchFailureReason,errorUpdateCount:R.errorUpdateCount,isFetched:R.dataUpdateCount>0||R.errorUpdateCount>0,isFetchedAfterMount:R.dataUpdateCount>_.dataUpdateCount||R.errorUpdateCount>_.errorUpdateCount,isFetching:ce,isRefetching:ce&&!se,isLoadingError:Ee&&!Ie,isPaused:R.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:Ee&&Ie,isStale:CT(e,t),refetch:this.refetch,promise:$(this,uu)};if(this.options.experimental_prefetchInRender){const F=U=>{N.status==="error"?U.reject(N.error):N.data!==void 0&&U.resolve(N.data)},Q=()=>{const U=Me(this,uu,N.promise=pE());F(U)},K=$(this,uu);switch(K.status){case"pending":e.queryHash===s.queryHash&&F(K);break;case"fulfilled":(N.status==="error"||N.data!==K.value)&&Q();break;case"rejected":(N.status!=="error"||N.error!==K.reason)&&Q();break}}return N}updateResult(){const e=$(this,ti),t=this.createResult($(this,Ct),this.options);if(Me(this,uh,$(this,Ct).state),Me(this,bd,this.options),$(this,uh).data!==void 0&&Me(this,Sd,$(this,Ct)),fE(t,e))return;Me(this,ti,t);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,h=typeof l=="function"?l():l;if(h==="all"||!h&&!$(this,Rd).size)return!0;const d=new Set(h??$(this,Rd));return this.options.throwOnError&&d.add("error"),Object.keys($(this,ti)).some(y=>{const v=y;return $(this,ti)[v]!==e[v]&&d.has(v)})};It(this,Ft,AR).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&It(this,Ft,EE).call(this)}},vi=new WeakMap,Ct=new WeakMap,zp=new WeakMap,ti=new WeakMap,uh=new WeakMap,bd=new WeakMap,uu=new WeakMap,cu=new WeakMap,jp=new WeakMap,Ad=new WeakMap,Sd=new WeakMap,ch=new WeakMap,hh=new WeakMap,hu=new WeakMap,Rd=new WeakMap,Ft=new WeakSet,vp=function(e){It(this,Ft,bE).call(this);let t=$(this,Ct).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Ei)),t},yE=function(){It(this,Ft,TE).call(this);const e=dd(this.options.staleTime,$(this,Ct));if(vh||$(this,ti).isStale||!hE(e))return;const s=gR($(this,ti).dataUpdatedAt,e)+1;Me(this,ch,setTimeout(()=>{$(this,ti).isStale||this.updateResult()},s))},vE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,Ct)):this.options.refetchInterval)??!1},_E=function(e){It(this,Ft,wE).call(this),Me(this,hu,e),!(vh||Xs(this.options.enabled,$(this,Ct))===!1||!hE($(this,hu))||$(this,hu)===0)&&Me(this,hh,setInterval(()=>{(this.options.refetchIntervalInBackground||IT.isFocused())&&It(this,Ft,vp).call(this)},$(this,hu)))},EE=function(){It(this,Ft,yE).call(this),It(this,Ft,_E).call(this,It(this,Ft,vE).call(this))},TE=function(){$(this,ch)&&(clearTimeout($(this,ch)),Me(this,ch,void 0))},wE=function(){$(this,hh)&&(clearInterval($(this,hh)),Me(this,hh,void 0))},bE=function(){const e=$(this,vi).getQueryCache().build($(this,vi),this.options);if(e===$(this,Ct))return;const t=$(this,Ct);Me(this,Ct,e),Me(this,zp,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},AR=function(e){pr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t($(this,ti))}),$(this,vi).getQueryCache().notify({query:$(this,Ct),type:"observerResultsUpdated"})})},$w);function F3(r,e){return Xs(e.enabled,r)!==!1&&r.state.data===void 0&&!(r.state.status==="error"&&e.retryOnMount===!1)}function kw(r,e){return F3(r,e)||r.state.data!==void 0&&AE(r,e,e.refetchOnMount)}function AE(r,e,t){if(Xs(e.enabled,r)!==!1){const s=typeof t=="function"?t(r):t;return s==="always"||s!==!1&&CT(r,e)}return!1}function Vw(r,e,t,s){return(r!==e||Xs(s.enabled,r)===!1)&&(!t.suspense||r.state.status!=="error")&&CT(r,t)}function CT(r,e){return Xs(e.enabled,r)!==!1&&r.isStaleByTime(dd(e.staleTime,r))}function H3(r,e){return!fE(r.getCurrentResult(),e)}var q3=class extends bR{constructor(r,e){super(r,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(r){super.setOptions({...r,behavior:$v()})}getOptimisticResult(r){return r.behavior=$v(),super.getOptimisticResult(r)}fetchNextPage(r){return this.fetch({...r,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(r){return this.fetch({...r,meta:{fetchMore:{direction:"backward"}}})}createResult(r,e){var z,X;const{state:t}=r,s=super.createResult(r,e),{isFetching:l,isRefetching:h,isError:d,isRefetchError:y}=s,v=(X=(z=t.fetchMeta)==null?void 0:z.fetchMore)==null?void 0:X.direction,_=d&&v==="forward",A=l&&v==="forward",R=d&&v==="backward",x=l&&v==="backward";return{...s,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:B3(e,t.data),hasPreviousPage:z3(e,t.data),isFetchNextPageError:_,isFetchingNextPage:A,isFetchPreviousPageError:R,isFetchingPreviousPage:x,isRefetchError:y&&!_&&!R,isRefetching:h&&!A&&!x}}},SR=ee.createContext(void 0),G3=r=>{const e=ee.useContext(SR);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Q3=({client:r,children:e})=>(ee.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),B.jsx(SR.Provider,{value:r,children:e})),RR=ee.createContext(!1),K3=()=>ee.useContext(RR);RR.Provider;function $3(){let r=!1;return{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r}}var Y3=ee.createContext($3()),X3=()=>ee.useContext(Y3),W3=(r,e)=>{(r.suspense||r.throwOnError||r.experimental_prefetchInRender)&&(e.isReset()||(r.retryOnMount=!1))},Z3=r=>{ee.useEffect(()=>{r.clearReset()},[r])},J3=({result:r,errorResetBoundary:e,throwOnError:t,query:s,suspense:l})=>r.isError&&!e.isReset()&&!r.isFetching&&s&&(l&&r.data===void 0||I3(t,[r.error,s])),eL=r=>{const e=r.staleTime;r.suspense&&(r.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof r.gcTime=="number"&&(r.gcTime=Math.max(r.gcTime,1e3)))},tL=(r,e)=>r.isLoading&&r.isFetching&&!e,nL=(r,e)=>(r==null?void 0:r.suspense)&&e.isPending,Uw=(r,e,t)=>e.fetchOptimistic(r).catch(()=>{t.clearReset()});function IR(r,e,t){var R,x,L,z,X;const s=G3(),l=K3(),h=X3(),d=s.defaultQueryOptions(r);(x=(R=s.getDefaultOptions().queries)==null?void 0:R._experimental_beforeQuery)==null||x.call(R,d),d._optimisticResults=l?"isRestoring":"optimistic",eL(d),W3(d,h),Z3(h);const y=!s.getQueryCache().get(d.queryHash),[v]=ee.useState(()=>new e(s,d)),_=v.getOptimisticResult(d),A=!l&&r.subscribed!==!1;if(ee.useSyncExternalStore(ee.useCallback(H=>{const ne=A?v.subscribe(pr.batchCalls(H)):Ei;return v.updateResult(),ne},[v,A]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),ee.useEffect(()=>{v.setOptions(d)},[d,v]),nL(d,_))throw Uw(d,v,h);if(J3({result:_,errorResetBoundary:h,throwOnError:d.throwOnError,query:s.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw _.error;if((z=(L=s.getDefaultOptions().queries)==null?void 0:L._experimental_afterQuery)==null||z.call(L,d,_),d.experimental_prefetchInRender&&!vh&&tL(_,l)){const H=y?Uw(d,v,h):(X=s.getQueryCache().get(d.queryHash))==null?void 0:X.promise;H==null||H.catch(Ei).finally(()=>{v.updateResult()})}return d.notifyOnChangeProps?_:v.trackResult(_)}function Bw(r,e){return IR(r,bR)}function rL(r,e){return IR(r,q3)}const iL={genre:"",year:"",type:""},CR=({onFilterChange:r,availableYears:e})=>{const{theme:t}=ee.useContext(nl),[s,l]=ee.useState(iL);ee.useEffect(()=>{r&&r(s)},[s,r]);const h=v=>{const{name:_,value:A}=v.target;l(R=>({...R,[_]:A}))},d=new Date().getFullYear(),y=e||Array.from({length:22},(v,_)=>d+2-_);return B.jsx("div",{"data-theme":t,className:"filter p-4 bg-gray-100 dark:bg-gray-800 rounded-lg shadow-md mb-6",children:B.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-x-4 gap-y-2",children:[B.jsxs("select",{name:"genre",id:"genre-filter",value:s.genre,onChange:h,"aria-label":"Filter by genre",className:"p-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-teal-500",children:[B.jsx("option",{value:"",children:"All Genres"}),B.jsx("option",{value:"Action",children:"Action"}),B.jsx("option",{value:"Adventure",children:"Adventure"}),B.jsx("option",{value:"Comedy",children:"Comedy"}),B.jsx("option",{value:"Drama",children:"Drama"}),B.jsx("option",{value:"Ecchi",children:"Ecchi"}),B.jsx("option",{value:"Fantasy",children:"Fantasy"}),B.jsx("option",{value:"Horror",children:"Horror"}),B.jsx("option",{value:"Mahou Shoujo",children:"Mahou Shoujo"}),B.jsx("option",{value:"Mecha",children:"Mecha"}),B.jsx("option",{value:"Music",children:"Music (Genre)"}),B.jsx("option",{value:"Mystery",children:"Mystery"}),B.jsx("option",{value:"Psychological",children:"Psychological"}),B.jsx("option",{value:"Romance",children:"Romance"}),B.jsx("option",{value:"Sci-Fi",children:"Sci-Fi"}),B.jsx("option",{value:"Slice of Life",children:"Slice of Life"}),B.jsx("option",{value:"Sports",children:"Sports"}),B.jsx("option",{value:"Supernatural",children:"Supernatural"}),B.jsx("option",{value:"Thriller",children:"Thriller"})]}),B.jsxs("select",{name:"year",id:"year-filter",value:s.year,onChange:h,"aria-label":"Filter by year",className:"p-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-teal-500",children:[B.jsx("option",{value:"",children:"All Years"}),y.map(v=>B.jsx("option",{value:v,children:v},v))]}),B.jsxs("select",{name:"type",id:"type-filter",value:s.type,onChange:h,"aria-label":"Filter by type",className:"p-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-teal-500",children:[B.jsx("option",{value:"",children:"All Types"}),B.jsx("option",{value:"TV",children:"TV"}),B.jsx("option",{value:"Movie",children:"Movie"}),B.jsx("option",{value:"OVA",children:"OVA"}),B.jsx("option",{value:"ONA",children:"ONA"}),B.jsx("option",{value:"TV Special",children:"TV Special"}),B.jsx("option",{value:"Music",children:"Music (Type)"}),B.jsx("option",{value:"TV Short",children:"TV Short"})]})]})})},sL={Action:1,Adventure:2,Comedy:4,Drama:8,Fantasy:10,Horror:14,"Mahou Shoujo":16,Mecha:18,Music:19,Mystery:7,Psychological:40,Romance:22,"Sci-Fi":24,"Slice of Life":36,Sports:30,Supernatural:37,Thriller:41,Ecchi:9},xR=r=>sL[r]||null,aL=async({pageParam:r=1,queryKey:e})=>{const[t,s]=e;let l=`https://api.jikan.moe/v4/anime?page=${r}&limit=12&sfw=true&order_by=popularity&sort=desc`;if(s&&(s.type&&(l+=`&type=${s.type.toLowerCase()}`),s.year&&(l+=`&year=${s.year}`),s.genre)){const y=xR(s.genre);y&&(l+=`&genres=${y}`)}const h=await fetch(l);if(!h.ok)throw new Error(`HTTP error! status: ${h.status} for initial list. URL: ${l}`);const d=await h.json();return{data:d.data||[],pagination:d.pagination||null}},oL=async(r,e=1,t)=>{if(!r)return{data:[],pagination:null};let s=`https://api.jikan.moe/v4/anime?q=${encodeURIComponent(r)}&page=${e}&limit=12&sfw=true&order_by=score&sort=desc`;if(t&&(t.type&&(s+=`&type=${t.type.toLowerCase()}`),t.year&&(s+=`&year=${t.year}`),t.genre)){const d=xR(t.genre);d&&(s+=`&genres=${d}`)}const l=await fetch(s);if(!l.ok)throw new Error(`HTTP error! status: ${l.status} for search. URL: ${s}`);const h=await l.json();return{data:h.data||[],pagination:h.pagination||null}},lL=async r=>{if(!r)return[];const e=await fetch(`https://api.jikan.moe/v4/anime?q=${r}&limit=5&sfw=true`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status} for suggestions`);return(await e.json()).data||[]};function uL(){const{theme:r}=ee.useContext(nl),[e,t]=ee.useState(""),[s,l]=ee.useState(""),[h,d]=ee.useState(""),[y,v]=ee.useState(1),[_,A]=ee.useState({genre:"",year:"",type:""}),R=ee.useRef(null),x=ee.useMemo(()=>w3.debounce(P=>l(P),300),[]);ee.useEffect(()=>()=>x.cancel(),[x]);const L=P=>{const ue=P.target.value;t(ue),x(ue),ue||(d(""),v(1))},z=P=>{A(P),v(1)},{data:X,fetchNextPage:H,hasNextPage:ne,isFetchingNextPage:ce,isLoading:se,error:Ee}=rL({queryKey:["initialAnimeList",_],queryFn:aL,getNextPageParam:P=>{var ue;if((ue=P.pagination)!=null&&ue.has_next_page)return(P.pagination.current_page||0)+1},enabled:!h,staleTime:1e3*60*15}),we=ee.useMemo(()=>(X==null?void 0:X.pages.flatMap(P=>P.data))||[],[X]),Ie=ee.useMemo(()=>{const P=new Map;return we.forEach(ue=>{ue&&ue.mal_id&&(P.has(ue.mal_id)||P.set(ue.mal_id,ue))}),Array.from(P.values())},[we]);ee.useEffect(()=>{if(!R.current||h)return;const P=new IntersectionObserver(Se=>{Se[0].isIntersecting&&ne&&!ce&&H()},{threshold:1}),ue=R.current;return ue&&P.observe(ue),()=>{ue&&P.unobserve(ue)}},[ne,ce,H,h,Ie]);const{data:j,isLoading:N,isFetching:M,error:F}=Bw({queryKey:["animeSearch",h,y,_],queryFn:()=>oL(h,y,_),enabled:!!h,staleTime:1e3*60*10,keepPreviousData:!0}),Q=(j==null?void 0:j.data)||[],K=j==null?void 0:j.pagination,{data:U=[],isLoading:fn,error:Xt}=Bw({queryKey:["animeSuggestions",s],queryFn:()=>lL(s),enabled:!!s&&!!e,staleTime:1e3*60*5}),fe=P=>{P.preventDefault(),x.cancel(),l(""),v(1),d(e)},Re=P=>{t(P.title),x.cancel(),l(""),v(1),d(P.title)},Ne=()=>{K!=null&&K.has_next_page&&v(P=>P+1)},Tt=()=>{v(P=>Math.max(P-1,1))};return B.jsx("div",{className:"min-h-screen bg-amber-50 dark:bg-neutral-900 py-8 px-4 md:px-12","data-theme":r,children:B.jsxs("div",{className:"max-w-6xl mx-auto",children:[B.jsx("form",{onSubmit:fe,className:"mb-8",children:B.jsxs("div",{className:`flex items-center bg-zinc-300 dark:bg-gray-800 
                          rounded-full shadow-lg hover:shadow-xl focus-within:shadow-xl 
                          transition-all duration-300 ease-in-out 
                          focus-within:ring-2 focus-within:ring-teal-500 dark:focus-within:ring-teal-400 
                          focus-within:ring-offset-2 focus-within:ring-offset-amber-50 dark:focus-within:ring-offset-neutral-900`,children:[B.jsx("input",{type:"text",value:e,onChange:L,placeholder:"Search anime...",className:"flex-grow p-4 pl-5 bg-transparent text-gray-900 dark:text-white focus:outline-none placeholder-gray-500 dark:placeholder-gray-400 text-base"}),B.jsx("button",{type:"submit","aria-label":"Search",className:`flex items-center justify-center p-4 bg-zinc-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 
                         text-gray-600 dark:text-gray-300 
                         rounded-r-full transition-colors duration-200
                         border-l border-gray-300 dark:border-gray-600`,children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})})]})}),B.jsx(CR,{onFilterChange:z})," ",Xt&&B.jsx("p",{className:"text-center text-sm text-red-500 mb-4",children:"Error loading suggestions. Please try again."}),s&&e&&U.length>0&&!fn&&!Xt&&B.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-md p-4 rounded mb-6",children:[B.jsx("h3",{className:"font-semibold mb-2 text-gray-700 dark:text-gray-200",children:"Suggestions:"}),B.jsx("ul",{children:U.map(P=>B.jsx("li",{className:"py-1 cursor-pointer text-gray-600 hover:text-teal-600 dark:text-gray-300 dark:hover:text-teal-400",onClick:()=>Re(P),children:P.title},P.mal_id))})]}),fn&&s&&e&&B.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:"Loading suggestions..."}),h?B.jsxs(B.Fragment,{children:[(N||M)&&B.jsx("p",{className:"text-center text-lg font-medium text-gray-700 dark:text-gray-300",children:"Loading search results..."}),F&&B.jsxs("p",{className:"text-center text-red-500",children:["Error fetching results: ",F.message]}),!N&&!M&&Q.length===0&&!F&&B.jsxs("p",{className:"text-center text-lg font-medium text-gray-700 dark:text-gray-300",children:['No results found for "',h,'" with the current filters.']}),B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 p-4 justify-items-center",children:Q.map(P=>{var ue,Se;return B.jsx(rh,{id:P.mal_id,name:P.title,src:(Se=(ue=P.images)==null?void 0:ue.jpg)==null?void 0:Se.image_url,score:P.score,episodes:P.episodes,type:P.type,year:P.year,genres:P.genres},`${P.mal_id}-search`)})}),Q.length>0&&K&&B.jsxs("div",{className:"flex justify-center items-center space-x-4 my-8",children:[B.jsx("button",{onClick:Tt,disabled:y===1||N||M,className:"px-4 py-2 bg-teal-500 hover:bg-teal-600 text-white rounded-md disabled:bg-gray-400 dark:disabled:bg-gray-600 transition-colors",children:"Previous"}),B.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Page ",K.current_page||y,K.last_visible_page&&` of ${K.last_visible_page}`]}),B.jsx("button",{onClick:Ne,disabled:!(K!=null&&K.has_next_page)||N||M,className:"px-4 py-2 bg-teal-500 hover:bg-teal-600 text-white rounded-md disabled:bg-gray-400 dark:disabled:bg-gray-600 transition-colors",children:"Next"})]})]}):B.jsxs(B.Fragment,{children:[se&&Ie.length===0&&B.jsx("p",{className:"text-center text-lg font-medium text-gray-700 dark:text-gray-300",children:"Loading anime..."}),Ee&&B.jsxs("p",{className:"text-center text-red-500",children:["Error loading anime: ",Ee.message]}),!se&&!Ee&&Ie.length===0&&!_.genre&&!_.year&&!_.type&&B.jsx("p",{className:"text-center text-lg font-medium text-gray-700 dark:text-gray-300",children:"No anime found."}),!se&&!Ee&&Ie.length===0&&(_.genre||_.year||_.type)&&B.jsx("p",{className:"text-center text-lg font-medium text-gray-700 dark:text-gray-300",children:"No anime match the current filters."}),B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 p-4 justify-items-center",children:Ie.map(P=>{var ue,Se;return B.jsx(rh,{id:P.mal_id,name:P.title,src:(Se=(ue=P.images)==null?void 0:ue.jpg)==null?void 0:Se.image_url,score:P.score,episodes:P.episodes,type:P.type,year:P.year,genres:P.genres},`${P.mal_id}-initial`)})}),B.jsx("div",{ref:R,style:{height:"1px"}}),ce&&B.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 my-8",children:"Loading more..."}),!ce&&!ne&&Ie.length>0&&B.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 my-8",children:"You've seen it all!"}),ne&&!ce&&B.jsx("div",{className:"flex justify-center my-8",children:B.jsx("button",{onClick:()=>H(),className:"px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white rounded-md transition-colors",children:"Load More Anime (Fallback)"})})]})]})})}function cL(r){return B.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 p-4 justify-items-center",children:[r.animeList.length===0&&B.jsx("div",{className:"col-span-4 text-center",children:B.jsx("p",{className:"text-lg font-semibold",children:"No anime found."})}),r.animeList.length>0&&r.animeList.map(e=>B.jsx(rh,{id:e.id,name:e.title,src:e.image,score:e.score,episodes:e.episodes,type:e.type,watchType:e.watchType,year:e.year,genres:e.genres},e.id))]})}const hL=(r,e)=>e?r==="all"?Object.values(e).flat():e[r]||[]:[];function fL(){const{theme:r}=ee.useContext(nl),e=Xv(),[t,s]=ee.useState("all"),[l,h]=ee.useState({watching:[],completed:[],onHold:[],dropped:[],planToWatch:[]}),[d,y]=ee.useState({genre:"",year:"",type:""}),v=R=>{y(R)};ee.useEffect(()=>{const R=ea.onAuthStateChanged(x=>{if(x){const L=hN(bT,"users",x.uid,"animeLibrary"),z=ON(L,X=>{console.log("onSnapshot triggered. Tab ID:",Math.random().toString(36).substring(7)),X.docChanges().forEach(ne=>{console.log("Change type:",ne.type,"Doc ID:",ne.doc.id,"Data:",ne.doc.data())});const H={watching:[],completed:[],onHold:[],dropped:[],planToWatch:[]};X.forEach(ne=>{const ce=ne.data();ce.watchType&&H[ce.watchType]&&H[ce.watchType].push(ce)}),console.log("New firestoreLibrary to be set:",JSON.parse(JSON.stringify(H))),h(H)},X=>{console.error("Error listening to library updates:",X),h({watching:[],completed:[],onHold:[],dropped:[],planToWatch:[]})});return()=>{typeof z=="function"&&z()}}else h({watching:[],completed:[],onHold:[],dropped:[],planToWatch:[]}),e("/login")});return()=>R()},[e]);const _=hL(t,l),A=ee.useMemo(()=>{let R=Array.from(new Map(_.map(x=>[x.id||x.mal_id,x])).values());return d.genre&&(R=R.filter(x=>x.genres&&x.genres.some(L=>L&&L.toLowerCase()===d.genre.toLowerCase()))),d.year&&(R=R.filter(x=>(x.year||x.aired&&new Date(x.aired.from).getFullYear())===parseInt(d.year))),d.type&&(R=R.filter(x=>x.type===d.type)),R},[_,d]);return B.jsx("div",{"data-theme":r,className:"min-h-screen bg-amber-50 dark:bg-neutral-900 py-6",children:B.jsxs("div",{className:"container mx-auto px-4",children:[B.jsx("div",{className:"flex justify-center mb-8",children:B.jsxs("div",{className:"relative inline-block",children:[B.jsxs("select",{value:t,onChange:R=>s(R.target.value),className:`appearance-none w-64 bg-white dark:bg-gray-700 
                         text-gray-800 dark:text-gray-100 
                         py-3 px-5 pr-10  /* Increased padding, pr for arrow space */
                         rounded-lg shadow-lg 
                         border border-gray-300 dark:border-gray-600 
                         focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400
                         focus:border-teal-500 dark:focus:border-teal-400
                         transition-all duration-150 ease-in-out
                         hover:border-gray-400 dark:hover:border-gray-500`,children:[B.jsx("option",{value:"all",children:"All Categories"}),B.jsx("option",{value:"watching",children:"Currently Watching"}),B.jsx("option",{value:"completed",children:"Completed"}),B.jsx("option",{value:"onHold",children:"On Hold"}),B.jsx("option",{value:"dropped",children:"Dropped"}),B.jsx("option",{value:"planToWatch",children:"Plan to Watch"})]}),B.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-700 dark:text-gray-200",children:B.jsx("svg",{className:"fill-current h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:B.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]})}),B.jsx(CR,{onFilterChange:v}),A.length>0?B.jsx(cL,{animeList:A}):B.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-10",children:[B.jsx("p",{className:"text-xl",children:"Your library is empty in this category."}),B.jsx("p",{children:"Add some anime to see them here!"})]})]})})}function dL(){var z,X,H,ne;const{theme:r}=ee.useContext(nl),{id:e}=UI(),[t,s]=ee.useState(null),[l,h]=ee.useState(""),[d,y]=ee.useState(0),[v,_]=ee.useState(0),[A,R]=ee.useState(!0),[x,L]=ee.useState(null);return ee.useEffect(()=>{const ce=parseInt(e,10);if(isNaN(ce)){L("Invalid Anime ID."),R(!1),s(null);return}R(!0),L(null),s(null),h(""),y(0),_(0),(async()=>{try{const Ee=await fetch(`https://api.jikan.moe/v4/anime/${ce}`);if(!Ee.ok)throw new Error(`API request failed: ${Ee.status}`);const we=await Ee.json();if(we.data){if(s(we.data),ea.currentUser){const Ie=await f3(ce);Ie&&(h(Ie.watchType||""),y(Ie.userEpisodes||0),_(Ie.userRating||0))}}else s(null),L("Anime not found.")}catch(Ee){console.error("Failed to fetch anime details:",Ee),L(Ee.message),s(null)}finally{R(!1)}})()},[e]),ee.useEffect(()=>{!A&&t&&(async()=>{var se,Ee,we,Ie;if(l&&t&&t.mal_id&&ea.currentUser){const j=((Ee=(se=t.images)==null?void 0:se.jpg)==null?void 0:Ee.large_image_url)||((Ie=(we=t.images)==null?void 0:we.jpg)==null?void 0:Ie.image_url)||"",N={mal_id:t.mal_id,title:t.title,images:{jpg:{large_image_url:j}},score:t.score,episodes:t.episodes,type:t.type,year:t.year,genres:Array.isArray(t.genres)?t.genres.map(M=>M.name||M):[]};await dR(l,N,v,d)}})()},[l,v,d,t,A]),A?B.jsx("div",{className:"flex justify-center items-center min-h-screen dark:bg-gray-900 dark:text-white",children:"Loading..."}):x?B.jsxs("div",{className:"flex justify-center items-center min-h-screen dark:bg-gray-900 dark:text-white",children:["Error: ",x]}):t?B.jsx("div",{"data-theme":r,children:B.jsx("div",{className:"min-h-screen bg-amber-50 dark:bg-neutral-900 py-8 px-4 md:px-12",children:B.jsx("div",{className:"max-w-6xl mx-auto bg-neutral-200 dark:bg-zinc-600 shadow-xl rounded-lg p-6 md:p-8",children:B.jsxs("div",{className:"md:flex",children:[B.jsx("div",{className:"md:w-1/3 mb-6 md:mb-0 md:mr-8",children:B.jsx("img",{src:((X=(z=t.images)==null?void 0:z.jpg)==null?void 0:X.large_image_url)||((ne=(H=t.images)==null?void 0:H.jpg)==null?void 0:ne.image_url)||"default_placeholder_image.png",alt:t.title,className:"rounded-lg shadow-md w-full object-cover"})}),B.jsxs("div",{className:"md:w-2/3",children:[B.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2 text-gray-800 dark:text-white",children:t.title}),B.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:[t.type," ",t.episodes?`(${t.episodes} episodes)`:""," - Score: ",t.score||"N/A"]}),ea.currentUser&&B.jsxs("div",{className:"flex flex-wrap gap-4 items-center mb-6",children:[B.jsxs("select",{value:l,onChange:ce=>h(ce.target.value),className:"p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 dark:text-white",children:[B.jsx("option",{value:"",children:"Select Status"}),B.jsx("option",{value:"watching",children:"Watching"}),B.jsx("option",{value:"completed",children:"Completed"}),B.jsx("option",{value:"planToWatch",children:"Plan to Watch"}),B.jsx("option",{value:"dropped",children:"Dropped"}),B.jsx("option",{value:"onHold",children:"On Hold"})]}),l&&l!==""&&B.jsxs(B.Fragment,{children:[B.jsx("input",{type:"number",value:d,onChange:ce=>y(Math.max(0,parseInt(ce.target.value)||0)),min:"0",max:t.episodes||void 0,placeholder:"Ep. Watched",className:"p-2 border border-gray-300 dark:border-gray-600 rounded-md w-28 text-center focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 dark:text-white"}),B.jsx("input",{type:"number",value:v,onChange:ce=>_(Math.max(0,Math.min(10,parseFloat(ce.target.value)||0))),min:"0",max:"10",step:"0.1",placeholder:"Rating (0-10)",className:"p-2 border border-gray-300 dark:border-gray-600 rounded-md w-28 text-center focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 dark:text-white"})]})]}),B.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-700 dark:text-gray-300",children:"Synopsis"}),B.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed mb-4 whitespace-pre-wrap",children:t.synopsis||"No synopsis available."})]})]})})})}):B.jsx("div",{className:"flex justify-center items-center min-h-screen dark:bg-gray-900 dark:text-white",children:"Anime not found."})}const gL=()=>{const[r,e]=ee.useState(null),t=Xv(),{theme:s,setTheme:l}=ee.useContext(nl),h=()=>{const y=s==="light"?"dark":"light";l(y),localStorage.setItem("theme",y)};ee.useEffect(()=>{const y=XP(ea,v=>{e(v)});return()=>y()},[]);const d=async()=>{try{await WP(ea),t("/login")}catch(y){console.error("Error signing out:",y)}};return B.jsx("div",{"data-theme":s,children:B.jsx("nav",{className:"bg-amber-50 dark:bg-neutral-900 p-4 shadow-lg",children:B.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[B.jsxs("div",{className:"flex items-center space-x-4",children:[B.jsx(Qo,{to:"/",className:"nav-link-custom text-gray-800 dark:text-gray-200 hover:text-teal-600 dark:hover:text-teal-400",children:"Home"}),B.jsx(Qo,{to:"/search",className:"nav-link-custom text-gray-800 dark:text-gray-200 hover:text-teal-600 dark:hover:text-teal-400",children:"Search"}),B.jsx(Qo,{to:"/library",className:"nav-link-custom text-gray-800 dark:text-gray-200 hover:text-teal-600 dark:hover:text-teal-400",children:"Library"})]}),B.jsxs("div",{className:"flex items-center space-x-4",children:[B.jsxs("button",{onClick:h,className:"p-2 rounded-md text-gray-800 dark:text-gray-200 transition-all duration-300 ease-in-out hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-teal-500",children:[s==="light"?"":""," "]}),r?B.jsx(B.Fragment,{children:B.jsx("button",{onClick:d,className:"px-3 py-2 rounded-lg font-semibold text-white bg-red-500 hover:bg-red-600 transition-colors duration-300 text-sm",children:"Logout"})}):B.jsx(Qo,{to:"/login",className:"px-3 py-2 rounded-lg font-semibold text-white bg-teal-500 hover:bg-teal-600 dark:bg-teal-600 dark:hover:bg-teal-500 transition-colors duration-300 text-sm",children:"Login"})]})]})})})},pL=()=>{const[r,e]=ee.useState(""),[t,s]=ee.useState(""),l=Xv(),{theme:h}=ee.useContext(nl),d=async v=>{v.preventDefault();try{await KP(ea,r,t),l("/")}catch(_){console.error("Error signing up:",_)}},y=async()=>{try{await y4(ea,h3),l("/")}catch(v){console.error("Error signing in with Google:",v)}};return B.jsx("div",{"data-theme":h,className:"min-h-screen flex flex-col items-center justify-center bg-amber-50 dark:bg-neutral-900 p-4",children:B.jsxs("div",{className:"w-full max-w-md",children:[B.jsx("h1",{className:"text-4xl font-bold mb-8 text-center text-neutral-800 dark:text-amber-50",children:"Welcome to SenpaiTrackr"}),B.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-8 rounded-xl shadow-2xl",children:[B.jsxs("form",{onSubmit:d,children:[B.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-neutral-700 dark:text-amber-100",children:"Create an Account"}),B.jsxs("div",{className:"mb-5",children:[B.jsx("label",{className:"block text-sm font-medium mb-2 text-neutral-600 dark:text-amber-200",htmlFor:"email",children:"Email Address"}),B.jsx("input",{type:"email",id:"email",value:r,onChange:v=>e(v.target.value),className:"w-full p-3 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-neutral-50 dark:bg-neutral-700 text-neutral-900 dark:text-amber-50 focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-teal-500 dark:focus:border-teal-400 outline-none",required:!0,placeholder:"you@example.com"})]}),B.jsxs("div",{className:"mb-6",children:[B.jsx("label",{className:"block text-sm font-medium mb-2 text-neutral-600 dark:text-amber-200",htmlFor:"password",children:"Password"}),B.jsx("input",{type:"password",id:"password",value:t,onChange:v=>s(v.target.value),className:"w-full p-3 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-neutral-50 dark:bg-neutral-700 text-neutral-900 dark:text-amber-50 focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-teal-500 dark:focus:border-teal-400 outline-none",required:!0,placeholder:""})]}),B.jsx("button",{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition-colors duration-150 ease-in-out",children:"Sign Up"})]}),B.jsxs("div",{className:"my-6 flex items-center justify-center",children:[B.jsx("span",{className:"border-b w-1/5 border-neutral-300 dark:border-neutral-600"}),B.jsx("span",{className:"text-xs text-center text-neutral-500 dark:text-neutral-400 uppercase mx-4",children:"Or continue with"}),B.jsx("span",{className:"border-b w-1/5 border-neutral-300 dark:border-neutral-600"})]}),B.jsxs("button",{onClick:y,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition-colors duration-150 ease-in-out flex items-center justify-center",children:[B.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[B.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),B.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),B.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),B.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"}),B.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),"Sign in with Google"]})]}),B.jsxs("p",{className:"text-center text-sm text-neutral-600 dark:text-neutral-400 mt-8",children:["Already have an account? ",B.jsx("a",{href:"#",onClick:v=>{v.preventDefault(),alert("Navigate to Sign In form/page")},className:"font-medium text-teal-600 hover:text-teal-500 dark:text-teal-400 dark:hover:text-teal-300",children:"Sign In"})]})]})})};function mL(){return B.jsxs(bC,{children:[B.jsx(gL,{}),B.jsxs(JI,{children:[B.jsx(Zc,{path:"/",element:B.jsx(_3,{})}),B.jsx(Zc,{path:"/search",element:B.jsx(uL,{})}),B.jsx(Zc,{path:"/library",element:B.jsx(fL,{})}),B.jsx(Zc,{path:"/anime/:id",element:B.jsx(dL,{})}),B.jsx(Zc,{path:"/login",element:B.jsx(pL,{})})," ",B.jsx(Zc,{path:"*",element:B.jsx("h1",{children:"404 Not Found"})})]})]})}const yL=new j3;oI.createRoot(document.getElementById("root")).render(B.jsx(ee.StrictMode,{children:B.jsx(Q3,{client:yL,children:B.jsx(d3,{children:B.jsx(mL,{})})})}));
